{"version":3,"file":"PageNuée-CWjbjBMr.js","sources":["../../src/components/nuées/CarteStatutNuée.vue","../../src/components/nuées/CarteCodeNuée.vue","../../src/components/tableaux/TableauNuée.vue","../../src/vues/données/PageNuée.vue"],"sourcesContent":["<template>\n  <v-dialog v-model=\"dialogue\">\n    <template #activator=\"{props: propsActivateur}\">\n      <slot\n        name=\"activator\"\n        v-bind=\"{props: propsActivateur}\"\n      ></slot>\n    </template>\n    <v-card\n      class=\"mx-auto\"\n      :min-width=\"mdAndUp ? 500 : 300\"\n    >\n      <v-card-item>\n        <v-card-title>{{ t('nuées.statut.carte.titre') }}</v-card-title>\n      </v-card-item>\n      <v-card-text>\n        <choisir-statut\n          :initial=\"statutChoisi\"\n          @choisir=\"stt => (statutChoisi = stt)\"\n        >\n          <template #sélecteur=\"{choisirNouvelle}\">\n            <selecteur-nuee\n              :multiples=\"false\"\n              @selectionnee=\"ids => choisirNouvelle(ids[0])\"\n            />\n          </template>\n        </choisir-statut>\n      </v-card-text>\n      <v-card-actions>\n        <v-spacer />\n        <v-btn\n          :disabled=\"!modifié\"\n          :loading=\"enModification\"\n          variant=\"flat\"\n          color=\"primary\"\n          @click=\"sauvegarder\"\n        >\n          {{ t('communs.sauvegarder') }}\n        </v-btn>\n        <v-btn\n          variant=\"flat\"\n          append-icon=\"mdi-close\"\n          @click=\"dialogue = false\"\n        >\n          {{ t('communs.fermer') }}\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n<script setup lang=\"ts\">\nimport {suivre} from '@constl/vue';\nimport {computed, ref} from 'vue';\nimport {useDisplay} from 'vuetify';\n\nimport type {types} from '@constl/ipa';\nimport {கிளிமூக்கை_பயன்படுத்து} from '@lassi-js/kilimukku-vue';\nimport {watchEffect} from 'vue';\nimport {utiliserConstellation} from '../utils';\nimport SelecteurNuee from './SélecteurNuée.vue';\nimport ChoisirStatut from '/@/components/communs/ChoisirStatut.vue';\n\nconst props = defineProps<{idNuee: string}>();\n\nconst {மொழியாக்கம்_பயன்படுத்து} = கிளிமூக்கை_பயன்படுத்து();\nconst {$மொ: t} = மொழியாக்கம்_பயன்படுத்து();\nconst {mdAndUp} = useDisplay();\n\nconst constl = utiliserConstellation();\n\n// Navigation\nconst dialogue = ref(false);\n\n// Statut\nconst statut = suivre(constl.nuées.suivreStatutNuée, {idNuée: props.idNuee});\nconst statutChoisi = ref<types.schémaStatut>();\nwatchEffect(() => {\n  statutChoisi.value = statut.value;\n});\nconst modifié = computed(() => {\n  return (\n    statut.value?.statut !== statutChoisi.value?.statut ||\n    statut.value?.idNouvelle !== statutChoisi.value?.idNouvelle\n  );\n});\nconst enModification = ref(false);\nconst sauvegarder = async () => {\n  enModification.value = true;\n  if (statutChoisi.value)\n    await constl.nuées.changerStatutNuée({\n      idNuée: props.idNuee,\n      statut: statutChoisi.value,\n    });\n  enModification.value = false;\n  dialogue.value = false;\n};\n</script>\n","<template>\n  <carte-code :codes=\"codes\">\n    <template #activator=\"{props: propsActivateur}\">\n      <slot\n        name=\"activator\"\n        v-bind=\"{props: propsActivateur}\"\n      ></slot>\n    </template>\n  </carte-code>\n</template>\n\n<script setup lang=\"ts\">\nimport {suivre} from '@constl/vue';\nimport {மொழிகளைப்_பயன்படுத்து} from '@lassi-js/kilimukku-vue';\nimport {computed} from 'vue';\nimport CarteCode from '/@/components/communs/CarteCode.vue';\n\nimport {utiliserConstellation} from '../utils';\n\nconst {மொழி, மாற்றுமொழிகள்} = மொழிகளைப்_பயன்படுத்து();\n\nconst constl = utiliserConstellation();\n\nconst languesPréférées = computed(() => {\n  return [மொழி.value, ...மாற்றுமொழிகள்.value];\n});\n\nconst props = defineProps<{id: string}>();\n\nconst codes = computed(() => {\n  return {\n    ts: `import { créerConstellation, type nuées } from \"@constl/ipa\";\n\nconst client = créerConstellation();\n\nconst analyser = async (données: nuées.donnéesNuéeExportation) => {\n    console.log(données)  // Faire quelque chose de plus intelligent ici :)\n}\nconst fOublierDonnées = await client.nuées.suivreDonnéesExportation({\n    idNuée: \"${props.id}\",\n    // Modifier langues selon vos besoins\n    langues: [${languesPréférées.value.map(lng => '\"' + lng + '\"').join(', ')}],\n    nRésultatsDésirés: 100,\n    f: analyser\n});\n`,\n    py: `from constellationPy import Serveur, ClientSync\n\nclient = ClientSync()\n\nwith Serveur():\n    client = ClientSync()\n\n    données = client.obt_données_tableau_nuée(\n        id_nuée=\"${props.id}\",\n        clef_tableau=${clefTableau.value},\n        n_résultats_désirés=100,\n        # Modifier langues selon vos besoins\n        langues=[${languesPréférées.value.map(lng => '\"' + lng + '\"').join(', ')}]\n    )\n\n    # Analyser ou sauvegarder les données ici...\n    données.to_excel(\"./MesDonnéesExportées.xlsx\")\n`,\n    julia: `import Constellation\n\nConstellation.avecServeur() do port\n    Constellation.avecClient(port) do client\n        donnéesRéseau = Constellation.obtDonnéesTableauNuée(\n          client, \n          \"${props.id}\", \n          ${clefTableau.value}, \n          // Modifier langues selon vos besoins\n          [${languesPréférées.value.map(lng => '\"' + lng + '\"').join(', ')}]\n        )\n    end\nend`,\n    r: `library(constellationR)\n\nconstellationR::avecClientEtServeur(\n  function (client) {\n    f <- function(résultats) {\n      print(résultats)\n\n      # Analyser les données ici...\n    }\n\n    oublier <- client$obtDonnéesTableauNuée(\n      f=f,\n      idNuée=\"${props.id}\",\n      clefTableau=${clefTableau.value},\n      nRésultatsDésirés=100\n    )\n  }\n)\n`,\n  };\n});\n\nconst infoTableaux = suivre(constl.nuées.suivreTableauxNuée, {\n  idNuée: props.id,\n});\nconst clefTableau = computed(() => {\n  return infoTableaux.value?.find(tbl => tbl.id === props.id)?.clef;\n});\n</script>\n","<template>\n  <v-data-table\n    :headers=\"entêtes\"\n    :items=\"filesTableau\"\n  >\n    <template #top>\n      <v-toolbar\n        flat\n        density=\"compact\"\n      >\n        <v-spacer />\n        <nouvelle-colonne\n          v-if=\"autorisation\"\n          :id-tableau=\"idTableau\"\n          :variables-interdites=\"variables\"\n          @nouvelle=\"col => ajouterColonne(col)\"\n        >\n          <template #activator=\"{props: propsActivateur}\">\n            <v-btn\n              v-bind=\"propsActivateur\"\n              icon=\"mdi-table-column-plus-after\"\n            ></v-btn>\n          </template>\n        </nouvelle-colonne>\n        <carte-effacer\n          v-if=\"autorisation\"\n          @effacer=\"() => effacerTableau()\"\n        >\n          <template #activator=\"{props: propsActivateur}\">\n            <v-btn\n              v-bind=\"propsActivateur\"\n              icon=\"mdi-delete\"\n              color=\"error\"\n            />\n          </template>\n        </carte-effacer>\n      </v-toolbar>\n    </template>\n    <template #no-data>\n      <span class=\"text-h6 text-disabled\">{{ t('tableaux.aucuneDonnée') }}</span>\n    </template>\n\n    <template\n      v-for=\"c in colonnesVariables\"\n      :key=\"c.key\"\n      #[`header.${c.key}`]=\"{column, isSorted, getSortIcon, toggleSort}\"\n    >\n      <entete-colonne-tableau\n        :id-colonne=\"c.key\"\n        :id-variable=\"c.info.variable\"\n        :id-tableau=\"idTableau\"\n        :index=\"!!c.info.index\"\n        :regles=\"règles?.filter(r => r.colonne === c.key)\"\n        :permission-modifier=\"!!autorisation\"\n        :ordonnable=\"column.sortable\"\n        :est-ordonnee=\"isSorted(column)\"\n        :icone-ordonner=\"getSortIcon(column) as string\"\n        @basculer-ordonner=\"() => toggleSort(column)\"\n        @sauvegarder=\"info => modifierColonne({idColonne: c.key, ...info})\"\n        @effacer=\"() => effacerColonne({idColonne: c.key})\"\n      />\n    </template>\n\n    <template\n      v-for=\"c in colonnesVariables\"\n      :key=\"c.key\"\n      #[`item.${c.key}`]=\"{item}\"\n    >\n      <cellule-tableau\n        :categorie=\"c.info.catégorie?.catégorie\"\n        :val=\"item[c.key]\"\n        :editable=\"false\"\n      />\n    </template>\n  </v-data-table>\n</template>\n<script setup lang=\"ts\">\nimport type {tableaux, valid} from '@constl/ipa';\n\nimport {rechercher, suivre} from '@constl/vue';\nimport {computed, ref} from 'vue';\n\nimport CelluleTableau from './cellules/CelluleTableau.vue';\nimport EnteteColonneTableau from './EntêteColonneTableau.vue';\nimport NouvelleColonne from './NouvelleColonne.vue';\nimport CarteEffacer from '/@/components/communs/CarteEffacer.vue';\n\nimport {கிளிமூக்கை_பயன்படுத்து} from '@lassi-js/kilimukku-vue';\nimport {triable} from './utils';\nimport {utiliserConstellation} from '/@/components/utils';\n\nconst {மொழியாக்கம்_பயன்படுத்து} = கிளிமூக்கை_பயன்படுத்து();\nconst {$மொ: t} = மொழியாக்கம்_பயன்படுத்து();\n\nconst constl = utiliserConstellation();\nconst props = defineProps<{idNuee: string; idTableau: string; clefTableau: string}>();\n\n// Autorisation\nconst autorisation = suivre(constl.suivrePermission, {idObjet: props.idTableau});\n\n// Variables\nconst variables = suivre(constl.tableaux.suivreVariables, {idTableau: props.idTableau}); // à faire: .nuées.\n\n// Règles\nconst règles = suivre(constl.nuées.suivreRèglesTableauNuée, {\n  idNuée: props.idNuee,\n  clefTableau: props.clefTableau,\n});\n\n// Données\nconst {résultats: données} = rechercher(\n  constl.nuées.suivreDonnéesTableauNuée<tableaux.élémentBdListeDonnées>,\n  {\n    idNuée: props.idNuee,\n    clefTableau: props.clefTableau,\n  },\n);\nconst donnéesAvecCompte = computed(() => {\n  return données.value?.map(d => {\n    return Object.assign({}, d.élément.données, {idCompte: d.idCompte});\n  });\n});\n\nconst filesTableau = computed(() => {\n  const ordonnées = donnéesAvecCompte.value?.toSorted((a, b) => {\n    if (!ordonnerPar.value) return 0;\n    else {\n      return (\n        ordonnerPar.value\n          .map(o => {\n            if (a[o.key] === undefined)\n              return b[o.key] === undefined ? 0 : o.order === 'asc' ? 1 : -1;\n            else if (b[o.key] === undefined)\n              return a[o.key] === undefined ? 0 : o.order === 'asc' ? -1 : 1;\n            return a[o.key] > b[o.key]\n              ? o.order === 'asc'\n                ? 1\n                : -1\n              : a[o.key] < b[o.key]\n                ? o.order === 'asc'\n                  ? -1\n                  : 1\n                : 0;\n          })\n          .find(x => x !== 0) || 0\n      );\n    }\n  });\n  return ordonnées;\n});\n\nconst ordonnerPar = ref<{key: string; order: 'asc' | 'desc'}[]>();\n\n// Colonnes\nconst colonnes = suivre(constl.nuées.suivreColonnesTableauNuée<tableaux.InfoColAvecCatégorie>, {\n  idNuée: props.idNuee,\n  clefTableau: props.clefTableau,\n  catégories: true,\n});\n\nconst colonnesAvecCatégories = suivre(\n  constl.nuées.suivreColonnesTableauNuée<tableaux.InfoColAvecCatégorie>,\n  {\n    idNuée: props.idNuee,\n    clefTableau: props.clefTableau,\n    catégories: true,\n  },\n);\n\nconst colonnesVariables = computed(() => {\n  return (colonnes.value || []).map(c => {\n    const catégorie = colonnesAvecCatégories.value?.find(col => col.id === c.id)?.catégorie;\n    return {\n      key: c.id,\n      sortable:\n        catégorie === undefined ||\n        (catégorie?.type === 'simple' ? triable(catégorie.catégorie) : false),\n      info: {\n        index: c.index,\n        catégorie,\n        variable: c.variable,\n      },\n    };\n  });\n});\n\nconst entêtes = computed(() => {\n  return (colonnes.value || []).map(c => ({\n    key: c.id,\n  }));\n});\n\nconst ajouterColonne = async ({\n  idVariable,\n  idColonne,\n  index,\n  règles,\n}: {\n  idVariable: string;\n  idColonne?: string | undefined;\n  index: boolean;\n  règles: valid.règleVariable[];\n}) => {\n  idColonne = await constl.nuées.ajouterColonneTableauNuée({\n    idTableau: props.idTableau,\n    idVariable,\n    idColonne,\n  });\n  if (index)\n    await constl.nuées.changerColIndexTableauNuée({\n      idTableau: props.idTableau,\n      idColonne,\n      val: true,\n    });\n  for (const règle of règles) {\n    await constl.nuées.ajouterRègleTableauNuée({\n      idTableau: props.idTableau,\n      idColonne,\n      règle,\n    });\n  }\n};\n\nconst modifierColonne = async ({\n  idColonne,\n  index,\n  // variable,  // à faire\n  règles,\n}: {\n  idColonne: string;\n  index: boolean;\n  // variable: string;\n  règles: {\n    nouvelles: valid.règleVariable[];\n    àEffacer: string[];\n  };\n}) => {\n  await constl.nuées.changerColIndexTableauNuée({\n    idTableau: props.idTableau,\n    idColonne,\n    val: index,\n  });\n  for (const r of règles.nouvelles)\n    await constl.nuées.ajouterRègleTableauNuée({\n      idTableau: props.idTableau,\n      idColonne,\n      règle: r,\n    });\n  // await constl.nuées.changerVariableColonne({idTableau: props.idTableau, idColonne, variable})\n  for (const r of règles.àEffacer)\n    await constl.nuées.effacerRègleTableauNuée({\n      idTableau: props.idTableau,\n      idRègle: r,\n    });\n};\n\nconst effacerColonne = async ({idColonne}: {idColonne: string}) => {\n  await constl.nuées.effacerColonneTableauNuée({\n    idTableau: props.idTableau,\n    idColonne,\n  });\n};\n\n// Effacer tableau\nconst effacerTableau = async () => {\n  await constl.nuées.effacerTableauNuée({idNuée: props.idNuee, idTableau: props.idTableau});\n};\n</script>\n","<template>\n  <v-container>\n    <div>\n      <v-breadcrumbs\n        v-if=\"mdAndUp\"\n        :items=\"petitPousset\"\n        class=\"pa-0\"\n      >\n        <template #divider>\n          <v-icon>{{ isRtl ? 'mdi-chevron-left' : 'mdi-chevron-right' }}</v-icon>\n        </template>\n        <template #title=\"{item}\">\n          <v-breadcrumbs-item\n            :disabled=\"item.disabled\"\n            @click=\"item.href && $router.push(item.href)\"\n          >\n            <TexteTronque\n              :texte=\"item.title\"\n              :longueur-max=\"35\"\n            />\n          </v-breadcrumbs-item>\n        </template>\n      </v-breadcrumbs>\n      <v-btn\n        v-else\n        icon=\"mdi-arrow-left-top\"\n        variant=\"flat\"\n        @click=\"() => $router.push(encodeURI('/données/'))\"\n      />\n    </div>\n\n    <image-editable\n      :src-image=\"image\"\n      :img-defaut=\"imgDéfaut\"\n      :editable=\"!!monAutorisation\"\n      :taille-avatar=\"mdAndUp ? 275 : 175\"\n      :max-taille-image=\"MAX_TAILLE_IMAGE\"\n      @image-changee=\"image => modifierImage(image)\"\n    />\n\n    <div class=\"text-center\">\n      <DialogueNoms\n        :etiquette-nom=\"t('objet.étiquetteNom')\"\n        :indice-nom=\"t('objet.indiceNom')\"\n        :indice-langue=\"t('objet.indiceLangue')\"\n        :texte-aucun-nom=\"t('objet.texteAucunNom')\"\n        :noms-initiaux=\"noms\"\n        :titre=\"t('objet.titreDialogueNoms')\"\n        :sous-titre=\"t('objet.sousTitreDialogueNoms')\"\n        :autorisation-modification=\"!!monAutorisation\"\n        @ajuster-noms=\"ajusterNoms\"\n      >\n        <template #activator=\"{props: propsActivateur}\">\n          <span\n            v-bind=\"propsActivateur\"\n            class=\"text-h4\"\n          >\n            {{ nomTraduit || t('nuées.sansNom') }}\n            <v-btn\n              :icon=\"monAutorisation ? 'mdi-pencil' : 'mdi-earth'\"\n              variant=\"flat\"\n              size=\"small\"\n            ></v-btn>\n          </span>\n        </template>\n      </DialogueNoms>\n      <lien-objet :id=\"id\" />\n\n      <v-spacer />\n    </div>\n\n    <div class=\"text-center\">\n      <SérieJetons\n        :n-max=\"5\"\n        :items=\"motsClefs\"\n      >\n        <template #jeton=\"{id: idMotClef}\">\n          <carte-mot-clef :id=\"idMotClef\">\n            <template #activator=\"{props: propsActivateur}\">\n              <JetonMotClef\n                v-bind=\"propsActivateur\"\n                :id=\"idMotClef\"\n              />\n            </template>\n          </carte-mot-clef>\n        </template>\n        <template #itemListe=\"{id: idMotClef}\">\n          <carte-mot-clef :id=\"idMotClef\">\n            <template #activator=\"{props: propsActivateur}\">\n              <item-mot-clef\n                v-bind=\"propsActivateur\"\n                :id=\"idMotClef\"\n              />\n            </template>\n          </carte-mot-clef>\n        </template>\n      </SérieJetons>\n      <span\n        v-if=\"motsClefs && !motsClefs.length\"\n        class=\"text-disabled\"\n      >\n        {{ t('nuées.aucunMotClef') }}\n      </span>\n      <EditeurMotsClefs\n        v-if=\"monAutorisation && motsClefs\"\n        :originaux=\"motsClefs\"\n        @sauvegarder=\"ids => sauvegarderMotsClefs(ids)\"\n      />\n    </div>\n\n    <div class=\"text-center\">\n      <carte-epingler :id=\"id\">\n        <template #activator=\"{props: propsActivateurCarte}\">\n          <v-tooltip\n            open-delay=\"200\"\n            location=\"bottom\"\n            :text=\"t('épingler.épingler')\"\n          >\n            <template #activator=\"{props: propsActivateurIndice}\">\n              <v-btn\n                v-bind=\"{...propsActivateurCarte, ...propsActivateurIndice}\"\n                icon\n                variant=\"flat\"\n              >\n                <IconeEpingle :id=\"id\" />\n              </v-btn>\n            </template>\n          </v-tooltip>\n        </template>\n      </carte-epingler>\n\n      <carte-exportation-objet\n        :id-objet=\"id\"\n        :noms-objet=\"noms\"\n        type-objet=\"nuée\"\n      >\n        <template #activator=\"{props: propsActivateurCarte}\">\n          <v-tooltip\n            :text=\"t('exportations.indice')\"\n            :open-delay=\"200\"\n            location=\"bottom\"\n          >\n            <template #activator=\"{props: propsActivateurIndice}\">\n              <v-btn\n                v-bind=\"{...propsActivateurCarte, ...propsActivateurIndice}\"\n                icon=\"mdi-download\"\n                variant=\"flat\"\n              />\n            </template>\n          </v-tooltip>\n        </template>\n      </carte-exportation-objet>\n\n      <!--<generer-appli :id-nuee=\"id\">\n        <template #activator=\"{props: propsActivateurCarte}\">\n          <v-tooltip\n            :text=\"t('code.générerAppli.indice')\"\n            :open-delay=\"200\"\n            location=\"bottom\"\n          >\n            <template #activator=\"{props: propsActivateurIndice}\">\n              <v-btn\n                v-bind=\"{...propsActivateurCarte, ...propsActivateurIndice}\"\n                variant=\"flat\"\n                icon\n              >\n                <v-icon\n                  icon=\"mdi-creation-outline\"\n                  color=\"primary\"\n                ></v-icon>\n              </v-btn>\n            </template>\n          </v-tooltip>\n        </template>\n      </generer-appli>-->\n\n      <carte-code-nuee :id=\"id\">\n        <template #activator=\"{props: propsActivateurCarte}\">\n          <v-tooltip\n            :text=\"t('code.indice')\"\n            :open-delay=\"200\"\n            location=\"bottom\"\n          >\n            <template #activator=\"{props: propsActivateurIndice}\">\n              <v-btn\n                v-bind=\"{...propsActivateurCarte, ...propsActivateurIndice}\"\n                icon=\"mdi-xml\"\n                variant=\"flat\"\n              />\n            </template>\n          </v-tooltip>\n        </template>\n      </carte-code-nuee>\n\n      <carte-copier\n        v-if=\"false\"\n        :id=\"id\"\n      >\n        <template #activator=\"{props: propsActivateurCarte}\">\n          <v-tooltip\n            open-delay=\"200\"\n            location=\"bottom\"\n            :text=\"t('copier.indice')\"\n          >\n            <template #activator=\"{props: propsActivateurIndice}\">\n              <v-btn\n                v-bind=\"{...propsActivateurCarte, ...propsActivateurIndice}\"\n                icon=\"mdi-content-copy\"\n                variant=\"flat\"\n              />\n            </template>\n          </v-tooltip>\n        </template>\n      </carte-copier>\n\n      <carte-effacer\n        v-if=\"!!monAutorisation\"\n        @effacer=\"() => effacerNuée()\"\n      >\n        <template #activator=\"{props: propsActivateurCarte}\">\n          <v-tooltip\n            open-delay=\"200\"\n            location=\"bottom\"\n            :text=\"t('effacer.indice')\"\n          >\n            <template #activator=\"{props: propsActivateurIndice}\">\n              <v-btn\n                v-bind=\"{...propsActivateurCarte, ...propsActivateurIndice}\"\n                variant=\"flat\"\n                icon\n              >\n                <v-icon color=\"error\">mdi-delete</v-icon>\n              </v-btn>\n            </template>\n          </v-tooltip>\n        </template>\n      </carte-effacer>\n    </div>\n\n    <v-divider />\n    <v-card-text>\n      <DialogueNoms\n        :etiquette-nom=\"t('objet.étiquetteDescription')\"\n        :indice-nom=\"t('objet.indiceDescription')\"\n        :indice-langue=\"t('objet.indiceLangue')\"\n        :texte-aucun-nom=\"t('objet.texteAucuneDescription')\"\n        :noms-initiaux=\"descriptions\"\n        :titre=\"t('objet.titreDialogueDescriptions')\"\n        :sous-titre=\"t('objet.sousTitreDialogueDescriptions')\"\n        :autorisation-modification=\"!!monAutorisation\"\n        longue\n        @ajuster-noms=\"ajusterDescriptions\"\n      >\n        <template #activator=\"{props: propsActivateur}\">\n          <span :class=\"{'text-disabled': !descrTraduite}\">{{\n            descrTraduite || t('communs.baseCarteObjet.sansDescription')\n          }}</span>\n          <v-btn\n            v-bind=\"propsActivateur\"\n            :icon=\"monAutorisation ? 'mdi-pencil' : 'mdi-earth'\"\n            variant=\"flat\"\n            size=\"small\"\n          ></v-btn>\n        </template>\n      </DialogueNoms>\n\n      <p class=\"mt-6 text-h5\">\n        {{ t('nuées.info') }}\n      </p>\n      <v-divider class=\"mb-2\" />\n      <div class=\"d-flex flex-wrap\">\n        <v-card\n          v-if=\"statut && (statut.statut !== 'active' || monAutorisation)\"\n          flat\n          width=\"200\"\n          class=\"mb-3\"\n        >\n          <carte-statut-nuee :id-nuee=\"id\">\n            <template #activator=\"{props: propsActivateur}\">\n              <item-statut\n                v-bind=\"propsActivateur\"\n                type-objet=\"nuée\"\n                :statut=\"statut\"\n              />\n            </template>\n          </carte-statut-nuee>\n        </v-card>\n\n        <v-card\n          flat\n          width=\"200\"\n          class=\"mb-3\"\n        >\n          <gerer-auteurs\n            :id=\"id\"\n            :auteurs=\"auteurs\"\n            :permission-moderateur=\"monAutorisation === 'MODÉRATEUR'\"\n          >\n            <template #activator=\"{props: propsActivateur}\">\n              <item-auteurs\n                v-bind=\"propsActivateur\"\n                :auteurs=\"auteurs\"\n              />\n            </template>\n          </gerer-auteurs>\n        </v-card>\n        <v-card\n          flat\n          width=\"200\"\n          class=\"mb-3\"\n        >\n          <CarteReplicationsObjet :id=\"id\">\n            <template #activator=\"{props: propsActivateur}\">\n              <ItemReplicationsObjet\n                v-bind=\"propsActivateur\"\n                :id=\"id\"\n              />\n            </template>\n          </CarteReplicationsObjet>\n        </v-card>\n        <v-card\n          flat\n          width=\"200\"\n          class=\"mb-3\"\n        >\n          <carte-automatisations-objet\n            :id-objet=\"id\"\n            :permission=\"monAutorisation\"\n            type-objet=\"bd\"\n          >\n            <template #activator=\"{props: propsActivateur}\">\n              <item-automatisations\n                v-bind=\"propsActivateur\"\n                :id-objet=\"id\"\n              />\n            </template>\n          </carte-automatisations-objet>\n        </v-card>\n      </div>\n      <p class=\"mt-6 text-h5\">\n        {{ t('nuées.variables') }}\n      </p>\n      <v-divider class=\"mb-2\" />\n      <SerieJetons\n        :n-max=\"5\"\n        :items=\"variables\"\n      >\n        <template #jeton=\"{id: idVariable}\">\n          <carte-variable :id=\"idVariable\">\n            <template #activator=\"{props: propsActivateur}\">\n              <JetonVariable\n                v-bind=\"propsActivateur\"\n                :id=\"idVariable\"\n              />\n            </template>\n          </carte-variable>\n        </template>\n        <template #itemListe=\"{id: idVariable}\">\n          <carte-variable :id=\"idVariable\">\n            <template #activator=\"{props: propsActivateur}\">\n              <ItemVariable\n                v-bind=\"propsActivateur\"\n                :id=\"idVariable\"\n              />\n            </template>\n          </carte-variable>\n        </template>\n      </SerieJetons>\n      <p\n        v-if=\"!variables?.length\"\n        class=\"text-disabled\"\n      >\n        {{ t('nuées.aucuneVariable') }}\n      </p>\n      <v-list>\n        <p class=\"mt-6 text-h5\">\n          {{ t('nuées.tableaux') }}\n        </p>\n        <v-divider />\n        <v-tabs\n          v-if=\"mdAndUp\"\n          v-model=\"tableauActif\"\n          class=\"mt-2\"\n        >\n          <v-tab\n            v-for=\"ong in tableaux\"\n            :key=\"ong.clef\"\n            :value=\"ong.clef\"\n            color=\"primary\"\n            size=\"small\"\n          >\n            <entete-tableau\n              :id=\"ong.id\"\n              :clef=\"ong.clef\"\n            />\n          </v-tab>\n\n          <nouveau-tableau @sauvegarder=\"ajouterTableau\">\n            <template #activator=\"{props: propsActivateur}\">\n              <v-tab\n                v-if=\"monAutorisation\"\n                v-bind=\"propsActivateur\"\n                :append-icon=\"!ajoutTableauEnCours ? 'mdi-plus' : undefined\"\n                :disabled=\"ajoutTableauEnCours\"\n                variant=\"tonal\"\n                class=\"mx-1\"\n                label\n                @click.stop\n              >\n                {{ t('tableaux.nouveau') }}\n                <v-progress-circular\n                  v-if=\"ajoutTableauEnCours\"\n                  class=\"ms-2\"\n                  size=\"15\"\n                  width=\"1\"\n                  indeterminate\n                />\n              </v-tab>\n            </template>\n          </nouveau-tableau>\n        </v-tabs>\n        <v-slide-group\n          v-else\n          v-model=\"tableauActif\"\n          class=\"mt-4\"\n          show-arrows\n          center-active\n        >\n          <v-slide-group-item\n            v-for=\"ong in tableaux\"\n            v-slot=\"{isSelected, toggle}\"\n            :key=\"ong.clef\"\n            :value=\"ong.clef\"\n          >\n            <v-chip\n              class=\"mx-1\"\n              variant=\"tonal\"\n              label\n              :active=\"false\"\n              :color=\"isSelected ? 'primary' : ''\"\n              @click=\"toggle\"\n            >\n              {{ ong.clef.slice(0, 10) }}\n\n              <v-icon\n                class=\"ms-2\"\n                icon=\"mdi-pencil\"\n                variant=\"flat\"\n                size=\"x-small\"\n              />\n            </v-chip>\n          </v-slide-group-item>\n          <v-slide-group-item\n            key=\"nouveau\"\n            value=\"nouveau\"\n          >\n            <nouveau-tableau @sauvegarder=\"ajouterTableau\">\n              <template #activator=\"{props: propsActivateur}\">\n                <v-chip\n                  v-if=\"monAutorisation\"\n                  v-bind=\"propsActivateur\"\n                  :append-icon=\"!ajoutTableauEnCours ? 'mdi-plus' : undefined\"\n                  variant=\"tonal\"\n                  class=\"mx-1\"\n                  label\n                  :disabled=\"ajoutTableauEnCours\"\n                >\n                  {{ t('tableaux.nouveau') }}\n                  <v-progress-circular\n                    v-if=\"ajoutTableauEnCours\"\n                    class=\"ms-2\"\n                    size=\"15\"\n                    width=\"1\"\n                    indeterminate\n                  />\n                </v-chip>\n              </template>\n            </nouveau-tableau>\n          </v-slide-group-item>\n        </v-slide-group>\n\n        <div\n          v-if=\"tableaux && !tableaux.length\"\n          class=\"text-center\"\n        >\n          <p class=\"text-h5 mt-5\">\n            {{ t('tableaux.aucun') }}\n          </p>\n          <v-img\n            :src=\"imageVide\"\n            class=\"my-5\"\n            contain\n            height=\"175px\"\n          />\n          <nouveau-tableau @sauvegarder=\"ajouterTableau\">\n            <template #activator=\"{props: propsActivateur}\">\n              <v-btn\n                v-if=\"monAutorisation\"\n                v-bind=\"propsActivateur\"\n                color=\"primary\"\n                class=\"mx-2\"\n                variant=\"outlined\"\n              >\n                <template #prepend>\n                  <v-icon\n                    icon=\"mdi-table\"\n                    start\n                  />\n                </template>\n                {{ t('tableaux.nouveau') }}\n              </v-btn>\n            </template>\n          </nouveau-tableau>\n        </div>\n      </v-list>\n      <v-window v-model=\"tableauActif\">\n        <v-window-item\n          v-for=\"tableau in tableaux\"\n          :key=\"tableau.clef\"\n          :value=\"tableau.clef\"\n        >\n          <tableau-nuee\n            :id-tableau=\"tableau.id\"\n            :clef-tableau=\"tableau.clef\"\n            :id-nuee=\"id\"\n          />\n        </v-window-item>\n      </v-window>\n    </v-card-text>\n  </v-container>\n</template>\n\n<script setup lang=\"ts\">\nimport type {tableaux as typesTableaux, valid} from '@constl/ipa';\n\nimport {suivre} from '@constl/vue';\nimport {கிளிமூக்கை_பயன்படுத்து, மொழிகளைப்_பயன்படுத்து} from '@lassi-js/kilimukku-vue';\nimport {computed, onMounted, ref, watchEffect} from 'vue';\n\nimport {utiliserConstellation} from '/@/components/utils';\nimport {utiliserImagesDéco} from '/@/composables/images';\nimport {ajusterTexteTraductible, sourceImage} from '/@/utils';\n\nimport CarteAutomatisationsObjet from '/@/components/automatisations/CarteAutomatisationsObjet.vue';\nimport CarteCopier from '/@/components/communs/CarteCopier.vue';\nimport CarteEffacer from '/@/components/communs/CarteEffacer.vue';\nimport GererAuteurs from '/@/components/communs/GererAuteurs.vue';\nimport ImageEditable from '/@/components/communs/ImageEditable.vue';\nimport ItemAuteurs from '/@/components/communs/ItemAuteurs.vue';\nimport ItemStatut from '/@/components/communs/ItemStatut.vue';\nimport DialogueNoms from '/@/components/communs/listeNoms/DialogueNoms.vue';\nimport CarteMotClef from '/@/components/motsClefs/CarteMotClef.vue';\nimport ItemMotClef from '/@/components/motsClefs/ItemMotClef.vue';\nimport JetonMotClef from '/@/components/motsClefs/JetonMotClef.vue';\nimport CarteStatutNuee from '/@/components/nuées/CarteStatutNuée.vue';\n\nimport LienObjet from '/@/components/communs/LienObjet.vue';\nimport TexteTronque from '/@/components/communs/TexteTronqué.vue';\nimport EditeurMotsClefs from '/@/components/motsClefs/ÉditeurMotsClefs.vue';\nimport CarteCodeNuee from '/@/components/nuées/CarteCodeNuée.vue';\n// import GenererAppli from '/@/components/nuées/GénérerAppli.vue';\nimport ItemAutomatisations from '/@/components/automatisations/ItemAutomatisationsObjet.vue';\nimport SerieJetons from '/@/components/communs/SérieJetons.vue';\nimport EnteteTableau from '/@/components/tableaux/EntêteTableau.vue';\n\nimport CarteExportationObjet from '/@/components/automatisations/CarteExportationObjet.vue';\nimport CarteReplicationsObjet from '/@/components/épingles/CarteRéplicationsObjet.vue';\n\nimport NouveauTableau from '/@/components/tableaux/NouveauTableau.vue';\nimport TableauNuee from '/@/components/tableaux/TableauNuée.vue';\nimport CarteVariable from '/@/components/variables/CarteVariable.vue';\nimport ItemVariable from '/@/components/variables/ItemVariable.vue';\nimport JetonVariable from '/@/components/variables/JetonVariable.vue';\nimport CarteEpingler from '/@/components/épingles/CarteÉpingler.vue';\nimport IconeEpingle from '/@/components/épingles/IcôneÉpingle.vue';\nimport ItemReplicationsObjet from '/@/components/épingles/ItemRéplicationsObjet.vue';\n\nimport {useDisplay, useRtl} from 'vuetify';\nimport {MAX_TAILLE_IMAGE} from '/@/consts';\nimport {utiliserHistoriqueDocuments} from '/@/état/historiqueDocuments';\n\nconst props = defineProps<{id: string}>();\n\nconst constl = utiliserConstellation();\n\nconst {mdAndUp} = useDisplay();\nconst {isRtl} = useRtl();\n\nconst {மொழியாக்கம்_பயன்படுத்து} = கிளிமூக்கை_பயன்படுத்து();\nconst {$மொ: t} = மொழியாக்கம்_பயன்படுத்து();\nconst historiqueDocuments = utiliserHistoriqueDocuments();\nconst {obtImageDéco} = utiliserImagesDéco();\n\nonMounted(() => {\n  historiqueDocuments.documentOuvert({id: props.id, à: Date.now()});\n});\n\n// Navigation\nconst petitPousset = computed<{title: string; href?: string; disabled?: boolean}[]>(() => [\n  {title: t('navigation.données') as string, href: encodeURI('/données/')},\n  {title: nomTraduit.value || t('nuées.sansNom'), disabled: true},\n]);\n\n// Nom de la nuée\nconst {அகராதியிலிருந்து_மொழிபெயர்ப்பு} = மொழிகளைப்_பயன்படுத்து();\n\nconst noms = suivre(constl.nuées.suivreNomsNuée, {idNuée: props.id});\nconst nomTraduit = அகராதியிலிருந்து_மொழிபெயர்ப்பு(noms);\n\nconst ajusterNoms = async (nms: {[langue: string]: string}) => {\n  const {àEffacer, àAjouter} = ajusterTexteTraductible({anciennes: noms.value, nouvelles: nms});\n  for (const langue of àEffacer) {\n    await constl.nuées.effacerNomNuée({idNuée: props.id, langue});\n  }\n  await constl.nuées.sauvegarderNomsNuée({\n    idNuée: props.id,\n    noms: àAjouter,\n  });\n};\n\n// Description de la nuée\nconst descriptions = suivre(constl.nuées.suivreDescriptionsNuée, {idNuée: props.id});\nconst descrTraduite = அகராதியிலிருந்து_மொழிபெயர்ப்பு(descriptions);\n\nconst ajusterDescriptions = async (descrs: {[langue: string]: string}) => {\n  const {àEffacer, àAjouter} = ajusterTexteTraductible({\n    anciennes: descriptions.value,\n    nouvelles: descrs,\n  });\n  for (const langue of àEffacer) {\n    await constl.nuées.effacerDescriptionNuée({idNuée: props.id, langue});\n  }\n  await constl.nuées.sauvegarderDescriptionsNuée({\n    idNuée: props.id,\n    descriptions: àAjouter,\n  });\n};\n\n// Image\nconst image = sourceImage(suivre(constl.nuées.suivreImage, {idNuée: props.id}));\n\nconst imgDéfaut = obtImageDéco('logoBD');\n\nconst modifierImage = async (image?: {contenu: ArrayBuffer; fichier: string}) => {\n  if (image) {\n    await constl.nuées.sauvegarderImage({\n      idNuée: props.id,\n      image: {contenu: new Uint8Array(image.contenu), nomFichier: image.fichier},\n    });\n  } else {\n    await constl.nuées.effacerImage({idNuée: props.id});\n  }\n};\n\n// Visualisation\nconst imageVide = obtImageDéco('vide');\n\n// Autorisation\nconst monAutorisation = suivre(constl.suivrePermission, {idObjet: props.id});\n\n// Auteurs\nconst auteurs = suivre(constl.réseau.suivreAuteursNuée, {idNuée: props.id});\n\n// Variables\nconst variables = suivre(constl.nuées.suivreVariablesNuée, {idNuée: props.id});\n\n// Mots-clefs\nconst motsClefs = suivre(constl.nuées.suivreMotsClefsNuée, {idNuée: props.id});\nconst sauvegarderMotsClefs = async (àJour: string[]) => {\n  const nouveaux = àJour.filter(m => !motsClefs.value?.includes(m));\n  const àEnlever = motsClefs.value?.filter(m => !àJour.includes(m)) || [];\n  await constl.nuées.ajouterMotsClefsNuée({\n    idNuée: props.id,\n    idsMotsClefs: nouveaux,\n  });\n  await Promise.all(\n    àEnlever.map(m => constl.nuées.effacerMotClefNuée({idNuée: props.id, idMotClef: m})),\n  );\n};\n\n// Statut\nconst statut = suivre(constl.nuées.suivreStatutNuée, {idNuée: props.id});\n\n/*\nconst estApprouvable = computed(()=>{})\nconst activerApprouvable = async () => {\n\n}\n*/\n\n// Tableaux\nconst tableaux = suivre(constl.nuées.suivreTableauxNuée, {idNuée: props.id});\nconst tableauxOrdonnés = computed(() => {\n  if (!tableaux.value) return;\n  return [...tableaux.value].sort((a, b) => (a.id > b.id ? -1 : 1));\n});\nconst tableauActif = ref<string>();\nwatchEffect(() => {\n  if (!tableauActif.value && tableauxOrdonnés.value?.length) {\n    tableauActif.value = tableauxOrdonnés.value[0].clef;\n  }\n  if (\n    tableauActif.value &&\n    !tableauxOrdonnés.value?.map(t => t.clef).includes(tableauActif.value)\n  ) {\n    tableauActif.value = undefined;\n  }\n});\n\nconst ajoutTableauEnCours = ref(false);\nconst ajouterTableau = async ({\n  noms,\n  cols,\n}: {\n  noms: {\n    [langue: string]: string;\n  };\n  cols: {\n    info: typesTableaux.InfoCol;\n    règles: valid.règleVariable[];\n  }[];\n}) => {\n  ajoutTableauEnCours.value = true;\n  try {\n    const idTableau = await constl.bds.ajouterTableauBd({idBd: props.id});\n    await constl.nuées.sauvegarderNomsTableauNuée({\n      idTableau,\n      noms,\n    });\n    await Promise.all(\n      cols.map(async col => {\n        await constl.nuées.ajouterColonneTableauNuée({\n          idTableau,\n          idColonne: col.info.id,\n          idVariable: col.info.variable,\n        });\n        if (col.info.index) {\n          await constl.nuées.changerColIndexTableauNuée({\n            idTableau,\n            idColonne: col.info.id,\n            val: true,\n          });\n        }\n        await Promise.all(\n          col.règles.map(\n            async r =>\n              await constl.nuées.ajouterRègleTableauNuée({\n                idTableau,\n                idColonne: col.info.id,\n                règle: r,\n              }),\n          ),\n        );\n      }),\n    );\n  } finally {\n    ajoutTableauEnCours.value = false;\n  }\n};\n\n// const autorisation = suivre(constl.nuées.suivrePhilosophieAutorisation, {idNuée: props.id});\n\n// Actions\nconst effacerNuée = async () => {\n  await constl.nuées.effacerNuée({idNuée: props.id});\n};\n</script>\n"],"names":["props","__props","மொழியாக்கம்_பயன்படுத்து","கிளிமூக்கை_பயன்படுத்து","t","mdAndUp","useDisplay","constl","utiliserConstellation","dialogue","ref","statut","suivre","statutChoisi","watchEffect","modifié","computed","enModification","sauvegarder","மொழி","மாற்றுமொழிகள்","மொழிகளைப்_பயன்படுத்து","languesPréférées","codes","lng","clefTableau","infoTableaux","tbl","autorisation","variables","règles","données","rechercher","donnéesAvecCompte","d","filesTableau","a","b","ordonnerPar","o","x","colonnes","colonnesAvecCatégories","colonnesVariables","c","catégorie","col","triable","entêtes","ajouterColonne","idVariable","idColonne","index","règle","modifierColonne","r","effacerColonne","effacerTableau","isRtl","useRtl","historiqueDocuments","utiliserHistoriqueDocuments","obtImageDéco","utiliserImagesDéco","onMounted","petitPousset","nomTraduit","அகராதியிலிருந்து_மொழிபெயர்ப்பு","noms","ajusterNoms","nms","àEffacer","àAjouter","ajusterTexteTraductible","langue","descriptions","descrTraduite","ajusterDescriptions","descrs","image","sourceImage","imgDéfaut","modifierImage","imageVide","monAutorisation","auteurs","motsClefs","sauvegarderMotsClefs","àJour","nouveaux","m","àEnlever","tableaux","tableauxOrdonnés","tableauActif","ajoutTableauEnCours","ajouterTableau","cols","idTableau","effacerNuée"],"mappings":"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"}