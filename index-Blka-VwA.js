import{cj as v,df as b,aP as S,dp as g,dq as q,dr as y,ds as d,r as I,q as M,o as C,dt as L,h as T}from"./index-luGBhR1e.js";function A(e){return g()?(q(e),!0):!1}const F=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const j=Object.prototype.toString,x=e=>j.call(e)==="[object Object]";function k(e){return Array.isArray(e)?e:[e]}function E(e,n=1e3,a={}){const{immediate:c=!0,immediateCallback:i=!1}=a;let f=null;const l=v(!1);function u(){f&&(clearInterval(f),f=null)}function t(){l.value=!1,u()}function o(){const r=y(n);r<=0||(l.value=!0,i&&e(),u(),l.value&&(f=setInterval(e,r)))}if(c&&F&&o(),b(n)||typeof n=="function"){const r=S(n,()=>{l.value&&F&&o()});A(r)}return A(t),{isActive:l,pause:t,resume:o}}function W(e,n,a){return S(e,n,{...a,immediate:!0})}const O=F?window:void 0;function N(e){var n;const a=y(e);return(n=a?.$el)!=null?n:a}function D(...e){const n=[],a=()=>{n.forEach(u=>u()),n.length=0},c=(u,t,o,r)=>(u.addEventListener(t,o,r),()=>u.removeEventListener(t,o,r)),i=M(()=>{const u=k(y(e[0])).filter(t=>t!=null);return u.every(t=>typeof t!="string")?u:void 0}),f=W(()=>{var u,t;return[(t=(u=i.value)==null?void 0:u.map(o=>N(o)))!=null?t:[O].filter(o=>o!=null),k(y(i.value?e[1]:e[0])),k(T(i.value?e[2]:e[1])),y(i.value?e[3]:e[2])]},([u,t,o,r])=>{if(a(),!u?.length||!t?.length||!o?.length)return;const p=x(r)?{...r}:r;n.push(...u.flatMap(m=>t.flatMap(s=>o.map(w=>c(m,s,w,p)))))},{flush:"post"}),l=()=>{f(),a()};return A(a),l}function R(){const e=v(!1),n=L();return n&&C(()=>{e.value=!0},n),e}function G(e){const n=R();return M(()=>(n.value,!!e()))}function P(e,n={}){const{immediate:a=!0,fpsLimit:c=void 0,window:i=O,once:f=!1}=n,l=v(!1),u=M(()=>c?1e3/y(c):null);let t=0,o=null;function r(s){if(!l.value||!i)return;t||(t=s);const w=s-t;if(u.value&&w<u.value){o=i.requestAnimationFrame(r);return}if(t=s,e({delta:w,timestamp:s}),f){l.value=!1,o=null;return}o=i.requestAnimationFrame(r)}function p(){!l.value&&i&&(l.value=!0,t=0,o=i.requestAnimationFrame(r))}function m(){l.value=!1,o!=null&&i&&(i.cancelAnimationFrame(o),o=null)}return a&&p(),A(m),{isActive:d(l),pause:m,resume:p}}function V(e={}){const{window:n=O}=e,a=n?.navigator,c=G(()=>a&&"connection"in a),i=v(!0),f=v(!1),l=v(void 0),u=v(void 0),t=v(void 0),o=v(void 0),r=v(void 0),p=v(void 0),m=v("unknown"),s=c.value&&a.connection;function w(){a&&(i.value=a.onLine,l.value=i.value?void 0:Date.now(),u.value=i.value?Date.now():void 0,s&&(t.value=s.downlink,o.value=s.downlinkMax,p.value=s.effectiveType,r.value=s.rtt,f.value=s.saveData,m.value=s.type))}const h={passive:!0};return n&&(D(n,"offline",()=>{i.value=!1,l.value=Date.now()},h),D(n,"online",()=>{i.value=!0,u.value=Date.now()},h)),s&&D(s,"change",w,h),w(),{isSupported:c,isOnline:d(i),saveData:d(f),offlineAt:d(l),onlineAt:d(u),downlink:d(t),downlinkMax:d(o),effectiveType:d(p),rtt:d(r),type:d(m)}}function $(e={}){const{controls:n=!1,interval:a="requestAnimationFrame"}=e,c=I(new Date),i=()=>c.value=new Date,f=a==="requestAnimationFrame"?P(i,{immediate:!0}):E(i,a,{immediate:!0});return n?{now:c,...f}:c}function z(e={}){const{isOnline:n}=V(e);return n}export{$ as a,z as u};
//# sourceMappingURL=index-Blka-VwA.js.map
