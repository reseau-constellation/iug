import{dv as ze,dw as gt,dx as Vt,dy as jt,dz as ht,dA as De,dB as qe,dC as wt,dD as Ge,dE as he,dF as Je,dG as ve,dH as $t,dI as St,dJ as Tt,dK as Ot,d as L,க as G,p as ce,r as x,o as we,q as k,dL as He,c as T,a as v,O as se,w as o,f as S,t as m,h as s,B as $e,G as F,v as Y,ce as Ct,b as t,ம as We,bU as ue,aC as Se,s as kt,M as Q,F as B,at as Dt,dk as be,aQ as qt,n as Te,ci as Ke,A as R,aX as ae,a9 as Qe,bH as At,dm as Ae,z as j,a2 as Z,K as M,I as Oe,J as Ce,av as Xe,Q as oe,ah as It,ai as Ut,dM as Ft,ax as Ye,dn as N,x as Ze,V as et,i as tt,e as at,y as Ve,j as je,m as nt,T as ot,W as z,br as st,N as it,bD as lt,dN as ut,an as rt,ao as ct,aL as dt,aM as ee,ad as Pt,ae as Nt,R as Bt,ap as Et,bp as Mt,bq as Rt,H as mt,dO as Lt,b8 as zt,b9 as Gt,bd as Jt,bc as Ht,cH as pt,bb as Wt,dP as Ie,aP as Kt,bg as Qt,bh as Xt,dQ as Ue,dR as Yt,d5 as Zt,bn as ea,dS as ta,dT as aa,bi as na,bf as oa,dU as sa,dV as ia}from"./index-COTaFkt-.js";import{d as la}from"./SélecteurNuée.vue_vue_type_script_setup_true_lang-0WGGhnGl.js";import{_ as ua}from"./RésultatRechercheProjet.vue_vue_type_script_setup_true_lang-DyDy3Ris.js";import{_ as ra}from"./CarteProjet.vue_vue_type_script_setup_true_lang-BkiZllO3.js";import{_ as ca}from"./NouveauProjet.vue_vue_type_script_setup_true_lang-BK3H-AwD.js";var Fe=Object.create,da=function(){function e(){}return function(a){if(!ze(a))return{};if(Fe)return Fe(a);e.prototype=a;var i=new e;return e.prototype=void 0,i}}(),Pe=function(){try{var e=gt(Object,"defineProperty");return e({},"",{}),e}catch{}}();function ma(e,a){for(var i=-1,r=e==null?0:e.length;++i<r&&a(e[i],i,e)!==!1;);return e}function pa(e,a,i){a=="__proto__"&&Pe?Pe(e,a,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[a]=i}var fa=Object.prototype,va=fa.hasOwnProperty;function ba(e,a,i){var r=e[a];(!(va.call(e,a)&&Vt(r,i))||i===void 0&&!(a in e))&&pa(e,a,i)}var ya=jt(Object.getPrototypeOf,Object),ft=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ne=ft&&typeof module=="object"&&module&&!module.nodeType&&module,_a=Ne&&Ne.exports===ft,Be=_a?ht.Buffer:void 0;Be&&Be.allocUnsafe;function xa(e,a){return e.slice()}var ga=Object.prototype,Va=ga.hasOwnProperty;function ja(e){var a=e.length,i=new e.constructor(a);return a&&typeof e[0]=="string"&&Va.call(e,"index")&&(i.index=e.index,i.input=e.input),i}function ke(e){var a=new e.constructor(e.byteLength);return new De(a).set(new De(e)),a}function ha(e,a){var i=ke(e.buffer);return new e.constructor(i,e.byteOffset,e.byteLength)}var wa=/\w*$/;function $a(e){var a=new e.constructor(e.source,wa.exec(e));return a.lastIndex=e.lastIndex,a}var Ee=qe?qe.prototype:void 0,Me=Ee?Ee.valueOf:void 0;function Sa(e){return Me?Object(Me.call(e)):{}}function Ta(e,a){var i=ke(e.buffer);return new e.constructor(i,e.byteOffset,e.length)}var Oa="[object Boolean]",Ca="[object Date]",ka="[object Map]",Da="[object Number]",qa="[object RegExp]",Aa="[object Set]",Ia="[object String]",Ua="[object Symbol]",Fa="[object ArrayBuffer]",Pa="[object DataView]",Na="[object Float32Array]",Ba="[object Float64Array]",Ea="[object Int8Array]",Ma="[object Int16Array]",Ra="[object Int32Array]",La="[object Uint8Array]",za="[object Uint8ClampedArray]",Ga="[object Uint16Array]",Ja="[object Uint32Array]";function Ha(e,a,i){var r=e.constructor;switch(a){case Fa:return ke(e);case Oa:case Ca:return new r(+e);case Pa:return ha(e);case Na:case Ba:case Ea:case Ma:case Ra:case La:case za:case Ga:case Ja:return Ta(e);case ka:return new r;case Da:case Ia:return new r(e);case qa:return $a(e);case Aa:return new r;case Ua:return Sa(e)}}function Wa(e){return typeof e.constructor=="function"&&!wt(e)?da(ya(e)):{}}var Ka="[object Map]";function Qa(e){return Ge(e)&&he(e)==Ka}var Re=ve&&ve.isMap,Xa=Re?Je(Re):Qa,Ya="[object Set]";function Za(e){return Ge(e)&&he(e)==Ya}var Le=ve&&ve.isSet,en=Le?Je(Le):Za,vt="[object Arguments]",tn="[object Array]",an="[object Boolean]",nn="[object Date]",on="[object Error]",bt="[object Function]",sn="[object GeneratorFunction]",ln="[object Map]",un="[object Number]",yt="[object Object]",rn="[object RegExp]",cn="[object Set]",dn="[object String]",mn="[object Symbol]",pn="[object WeakMap]",fn="[object ArrayBuffer]",vn="[object DataView]",bn="[object Float32Array]",yn="[object Float64Array]",_n="[object Int8Array]",xn="[object Int16Array]",gn="[object Int32Array]",Vn="[object Uint8Array]",jn="[object Uint8ClampedArray]",hn="[object Uint16Array]",wn="[object Uint32Array]",D={};D[vt]=D[tn]=D[fn]=D[vn]=D[an]=D[nn]=D[bn]=D[yn]=D[_n]=D[xn]=D[gn]=D[ln]=D[un]=D[yt]=D[rn]=D[cn]=D[dn]=D[mn]=D[Vn]=D[jn]=D[hn]=D[wn]=!0;D[on]=D[bt]=D[pn]=!1;function fe(e,a,i,r,n,c){var l;if(l!==void 0)return l;if(!ze(e))return e;var p=Ot(e);if(p)l=ja(e);else{var b=he(e),w=b==bt||b==sn;if($t(e))return xa(e);if(b==yt||b==vt||w&&!n)l=w?{}:Wa(e);else{if(!D[b])return n?e:{};l=Ha(e,b)}}c||(c=new St);var u=c.get(e);if(u)return u;c.set(e,l),en(e)?e.forEach(function(O){l.add(fe(O,a,i,O,e,c))}):Xa(e)&&e.forEach(function(O,I){l.set(I,fe(O,a,i,I,e,c))});var f=Tt,V=p?void 0:f(e);return ma(V||e,function(O,I){V&&(I=O,O=e[I]),ba(l,I,fe(O,a,i,I,e,c))}),l}var $n=1,Sn=4;function re(e){return fe(e,$n|Sn)}const Tn=L({__name:"JetonFichierExportation",props:{spécification:{}},setup(e){const a=e,{மொழியாக்கம்_பயன்படுத்து:i}=G(),{$மொ:r}=i(),n=ce(),c=x();we(async()=>{c.value=await n.obtIdDispositif()});const l=k(()=>!!c.value&&a.spécification.dispositifs.includes(c.value)),p=k(()=>l.value&&a.spécification.dossier===void 0),b=k(()=>typeof a.spécification.dossier=="string"),w=k(()=>a.spécification.dossier?He.parse(a.spécification.dossier).base:"automatisations.fichierIntrouvable");return(u,f)=>(v(),T(se,{variant:"outlined",label:"",density:"compact"},{prepend:o(()=>[p.value?(v(),T($e,{key:0,class:"me-2",indeterminate:"",size:"15",width:"2",color:"primary"})):b.value?(v(),T(F,{key:1,start:""},{default:o(()=>f[0]||(f[0]=[S(" mdi-file-outline ")])),_:1})):(v(),T(F,{key:2,color:"error"},{default:o(()=>f[1]||(f[1]=[S(" mdi-alert ")])),_:1}))]),default:o(()=>[S(" "+m(s(r)(w.value)),1)]),_:1}))}}),On=L({__name:"JetonFichierImportation",props:{spécification:{}},setup(e){const a=e,{மொழியாக்கம்_பயன்படுத்து:i}=G(),{$மொ:r}=i(),n=ce(),c=k(()=>a.spécification.source.typeSource==="fichier"?p.value===void 0:!1),l=k(()=>a.spécification.source.typeSource==="url"||typeof p.value=="string"),p=x();Y(async()=>{a.spécification.source.typeSource==="fichier"&&(p.value=await n.automatisations.résoudreAdressePrivéeFichier({clef:a.spécification.source.adresseFichier}))});const b=k(()=>a.spécification.source.typeSource==="fichier"?"mdi-file":"mdi-web"),w=k(()=>a.spécification.source.typeSource==="fichier"?p.value===void 0?"automatisations.rechercheFichier":p.value===null?"automatisations.fichierIntrouvable":He.parse(p.value).base:a.spécification.source.url.slice(-10)+r("communs.troisPetitsPoints"));return(u,f)=>(v(),T(se,null,{prepend:o(()=>[c.value?(v(),T($e,{key:0,indeterminate:"",color:"primary"})):l.value?(v(),T(F,{key:1},{default:o(()=>[S(m(b.value),1)]),_:1})):(v(),T(F,{key:2,color:"error"},{default:o(()=>f[0]||(f[0]=[S(" mdi-alert ")])),_:1}))]),default:o(()=>[S(" "+m(s(r)(w.value)),1)]),_:1}))}}),Cn=L({__name:"JetonStatutAutomatisation",props:{statut:{}},setup(e){const{மொழியாக்கம்_பயன்படுத்து:a}=G(),{$மொ:i}=a(),r=e,n=k(()=>{switch(r.statut.type){case"erreur":return{icône:"mdi-alert",couleur:"error"};case"programmée":return{icône:"mdi-check",couleur:"success"};case"sync":return{icône:"mdi-sync",couleur:"primary"};case"écoute":return{icône:"",couleur:"success"};default:throw new Error(JSON.stringify(r.statut))}}),c=x(new Date().getTime());let l;we(()=>{l=window.setInterval(()=>c.value=new Date().getTime(),1e3)}),Ct(()=>{l&&clearInterval(l)});const p=k(()=>{switch(r.statut.type){case"écoute":return"automatisations.jetonStatut.écoute";case"sync":return i("automatisations.jetonStatut.sync",{depuis:c.value-r.statut.depuis});case"programmée":return i("automatisations.jetonStatut.programmée",{dans:r.statut.à-c.value});case"erreur":return r.statut.prochaineProgramméeÀ?i("automatisations.jetonStatut.erreurRéssayer",{dans:r.statut.prochaineProgramméeÀ-c.value}):"automatisations.jetonStatut.erreur";default:throw new Error(r.statut)}});return(b,w)=>(v(),T(se,{label:"",density:"compact",variant:"outlined"},{prepend:o(()=>[b.statut.type==="sync"?(v(),T($e,{key:0,indeterminate:""},{default:o(()=>[t(F,{color:n.value.couleur},{default:o(()=>[S(m(n.value.icône),1)]),_:1},8,["color"])]),_:1})):(v(),T(F,{key:1,start:"",color:n.value.couleur},{default:o(()=>[S(m(n.value.icône),1)]),_:1},8,["color"]))]),default:o(()=>[S(" "+m(s(i)(p.value)),1)]),_:1}))}}),yo=L({__name:"ItemAutomatisation",props:{spécification:{}},setup(e){const a=e,i=ce(),{அகராதியிலிருந்து_மொழிபெயர்ப்பு:r}=We(),n=x();we(()=>{if(a.spécification.type==="importation")ue(i.tableaux.suivreNomsTableau({idTableau:a.spécification.idTableau,f:u=>n.value=u}));else switch(a.spécification.typeObjet){case"tableau":ue(i.tableaux.suivreNomsTableau({idTableau:a.spécification.idObjet,f:u=>n.value=u}));break;case"projet":ue(i.projets.suivreNomsProjet({idProjet:a.spécification.idObjet,f:u=>n.value=u}));break;case"bd":ue(i.bds.suivreNomsBd({idBd:a.spécification.idObjet,f:u=>n.value=u}));break;case"nuée":ue(i.nuées.suivreNomsNuée({idNuée:a.spécification.idObjet,f:u=>n.value=u}));break;default:throw new Error(JSON.stringify(a.spécification))}});const c=r(n),l=k(()=>{if(a.spécification.type==="importation")return"tableaux.sansNom";switch(a.spécification.typeObjet){case"bd":return"bds.sansNom";case"nuée":return"nuées.sansNom";case"projet":return"projets.sansNom";case"tableau":return"tableaux.sansNom";default:return"communs.sansNom"}}),p=k(()=>a.spécification.type==="importation"?"mdi-table":Se(a.spécification.typeObjet)),b=kt(i.automatisations.suivreÉtatAutomatisations),w=k(()=>b.value?b.value[a.spécification.id]:void 0);return(u,f)=>(v(),T(Q,null,{prepend:o(()=>[t(F,null,{default:o(()=>[S(m(u.spécification.type==="exportation"?"mdi-export":"mdi-import"),1)]),_:1})]),default:o(()=>[t(Dt,null,{default:o(()=>[t(F,null,{default:o(()=>[S(m(p.value),1)]),_:1}),S(" "+m(s(c)||l.value),1)]),_:1}),u.spécification.type==="importation"?(v(),T(On,{key:0,spécification:u.spécification},null,8,["spécification"])):(v(),T(Tn,{key:1,class:"mx-2 my-2",spécification:u.spécification},null,8,["spécification"])),w.value?(v(),T(Cn,{key:2,statut:w.value},null,8,["statut"])):B("",!0)]),_:1}))}}),kn=L({__name:"OptionsLanguesExportation",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const a=be(e,"modelValue"),{மொழியாக்கம்_பயன்படுத்து:i,கிடைக்கும்_மொழிகளை_பயன்படுத்து:r}=G(),{$மொ:n}=i(),{மொழி:c,மாற்றுமொழிகள்:l}=We(),{மொழிகளும்_குறியீடுகளும்:p}=r(),b=k(()=>p.value.map(w=>w.மொழி));return Y(()=>{a.value=[c.value,...l.value].map(w=>p.value.find(u=>u.குறியீடு===w)?.மொழி||w)}),(w,u)=>(v(),T(qt,{modelValue:a.value,"onUpdate:modelValue":u[0]||(u[0]=f=>a.value=f),items:b.value,label:s(n)("exportations.carte.étiquetteLangues"),variant:"outlined",multiple:"",chips:"","closable-chips":"","hide-details":""},null,8,["modelValue","items","label"]))}}),Dn={key:0,class:"d-flex"},qn={class:"my-auto"},An={key:0,class:"d-flex"},In={key:0,class:"d-flex"},Un={class:"my-auto"},Fn={key:1,class:"d-flex"},Pn=L({__name:"OptionsSauvegardesMultiples",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const{mdAndUp:a}=Te(),{மொழியாக்கம்_பயன்படுத்து:i}=G(),{$மொ:r}=i(),n=Ke(),c=be(e,"modelValue"),l=x(c.value?.type?c.value.type:"aucune"),p=["aucune","n","temps"],b=x(c.value?.type==="n"?c.value.n.toString():"1"),w=k(()=>n.எண்ணுக்கு({உரை:b.value})),u=x(c.value?.type==="temps"?c.value.temps.détails.n.toString():"1"),f=k(()=>n.எண்ணுக்கு({உரை:u.value})),V=x(c.value?.type==="temps"?c.value.temps.détails.unités:"jours"),O=["années","mois","semaines","jours","heures","minutes","secondes","millisecondes"];return Y(()=>{switch(l.value){case"aucune":c.value=void 0;break;case"n":{const I={type:"n",n:w.value};c.value=I;break}case"temps":{const I={type:"temps",temps:{type:"fixe",détails:{unités:V.value,n:f.value}}};c.value=I;break}}}),(I,A)=>(v(),R(oe,null,[t(ae,{modelValue:l.value,"onUpdate:modelValue":A[3]||(A[3]=h=>l.value=h),class:Qe(s(a)?["mb-4"]:["mb-2"]),items:p,variant:"outlined",density:"compact","hide-details":""},At({item:o(({props:h,item:$})=>[t(Q,Oe(Ce({...h,title:s(r)(`automatisations.sauvegardes.sélection.${$.raw}.item`)})),null,16)]),selection:o(({item:h})=>[S(m(s(r)(`automatisations.sauvegardes.sélection.${h.raw}.sélection`)),1)]),_:2},[s(a)?{name:"append",fn:o(()=>[t(Ae,null,{default:o(()=>[l.value==="n"?(v(),R("div",Dn,[t(Z,{modelValue:b.value,"onUpdate:modelValue":A[0]||(A[0]=h=>b.value=h),class:"mx-1 me-3",variant:"outlined","hide-details":"",density:"compact"},null,8,["modelValue"]),j("span",qn,m(s(r)("automatisations.sauvegardes.sélection.n.sauvegardes")),1)])):B("",!0)]),_:1}),t(Ae,null,{default:o(()=>[l.value==="temps"?(v(),R("div",An,[t(Z,{modelValue:u.value,"onUpdate:modelValue":A[1]||(A[1]=h=>u.value=h),variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue"]),t(ae,{modelValue:V.value,"onUpdate:modelValue":A[2]||(A[2]=h=>V.value=h),items:O,class:"ms-2",variant:"outlined",density:"compact","hide-details":""},{selection:o(({item:h})=>[S(m(s(r)(`automatisations.fréquence.unités.${h.raw}`)),1)]),item:o(({item:h,props:$})=>[t(Q,M($,{title:s(r)(`automatisations.fréquence.unités.${h.raw}`)}),null,16,["title"])]),_:1},8,["modelValue"])])):B("",!0)]),_:1})]),key:"0"}:void 0]),1032,["modelValue","class"]),s(a)?B("",!0):(v(),T(Xe,{key:0},{default:o(()=>[l.value==="n"?(v(),R("div",In,[t(Z,{modelValue:b.value,"onUpdate:modelValue":A[4]||(A[4]=h=>b.value=h),class:"mx-1 me-3",variant:"outlined","hide-details":"",density:"compact"},null,8,["modelValue"]),j("span",Un,m(s(r)("automatisations.sauvegardes.sélection.n.sauvegardes")),1)])):B("",!0),l.value==="temps"?(v(),R("div",Fn,[t(Z,{modelValue:u.value,"onUpdate:modelValue":A[5]||(A[5]=h=>u.value=h),variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue"]),t(ae,{modelValue:V.value,"onUpdate:modelValue":A[6]||(A[6]=h=>V.value=h),items:O,class:"ms-2",variant:"outlined",density:"compact","hide-details":""},{selection:o(({item:h})=>[S(m(s(r)(`automatisations.fréquence.unités.${h.raw}`)),1)]),item:o(({item:h,props:$})=>[t(Q,M($,{title:s(r)(`automatisations.fréquence.unités.${h.raw}`)}),null,16,["title"])]),_:1},8,["modelValue"])])):B("",!0)]),_:1}))],64))}}),Nn=L({__name:"SélecteurProjet",props:{multiples:{type:Boolean},originaux:{}},emits:["selectionne"],setup(e,{emit:a}){const i=a,{மொழியாக்கம்_பயன்படுத்து:r}=G(),{$மொ:n}=r(),c=ce(),l=x([]);Y(()=>{i("selectionne",l.value)});const p=x(),{résultats:b,onTravaille:w}=It(c.recherche.rechercherProjetsSelonTexte,{texte:p});return(u,f)=>(v(),T(Ut,{multiples:u.multiples,originaux:u.originaux,"resultats-recherche":s(b),"on-travaille":s(w),"texte-etiquette-recherche":s(n)("projets.recherche.étiquette"),"texte-aucun-résultat":s(n)("projets.recherche.aucunRésultat"),onSelectionnee:f[0]||(f[0]=V=>l.value=V),onRequeteModifiee:f[1]||(f[1]=V=>p.value=V)},{résultat:o(({résultat:V,click:O})=>[t(ua,{résultat:V,onClick:O},null,8,["résultat","onClick"])]),"jeton-objet":o(({id:V,deselectionner:O})=>[t(ra,{id:V},{activator:o(({props:I})=>[t(Ft,M({id:V},{props:I}),{default:o(()=>[t(F,{class:"ms-2",icon:"mdi-close",size:"small",variant:"flat",onClick:()=>O({id:V})},null,8,["onClick"])]),_:2},1040,["id"])]),_:2},1032,["id"])]),nouveau:o(({nouveau:V})=>[t(ca,{onNouveau:V},{activator:o(({props:O})=>[t(Q,M(O,{title:s(n)("projets.nouveau.btn"),"prepend-icon":"mdi-plus"}),null,16,["title"])]),_:2},1032,["onNouveau"])]),_:1},8,["multiples","originaux","resultats-recherche","on-travaille","texte-etiquette-recherche","texte-aucun-résultat"]))}}),Bn={class:"font-weight-bold"},En={class:"text-medium-emphasis text-caption"},Mn={class:"font-weight-bold"},Rn={class:"text-medium-emphasis text-caption"},Ln={key:0,class:"my-1 text-medium-emphasis text-caption"},zn={class:"font-weight-bold"},Gn={class:"text-medium-emphasis text-caption",style:{display:"flex","align-items":"center"}},Jn={class:"d-flex"},Hn={key:0,class:"my-1 text-medium-emphasis text-caption"},Wn={class:"font-weight-bold"},Kn={class:"text-medium-emphasis text-caption"},Qn={class:"my-2"},_o=L({__name:"NouvelleExportation",props:{infoObjet:{}},setup(e){const a=e,{mdAndUp:i}=Te(),{மொழியாக்கம்_பயன்படுத்து:r}=G(),{$மொ:n}=r(),c=Ke(),{so:l}=Ye(),p=l==="androïde"||l==="iOS",b=ce(),w=x(!1),u=["objetConstellation","destination","format","automatiser","confirmation"],f=x(u.indexOf(a.infoObjet?N?"format":"destination":"objetConstellation")),V=k(()=>{switch(u[f.value]){case"objetConstellation":return"exportations.carte.titreObjetConstellation";case"destination":return"exportations.carte.titreDestination";case"format":return"exportations.carte.titreFormat";case"automatiser":return"exportations.carte.titreAutomatiser";case"confirmation":return"exportations.carte.titreConfirmation";default:return""}}),O=()=>{switch(u[f.value]){case"objetConstellation":f.value=u.indexOf(N?"format":"destination");break;default:f.value++;break}},I=()=>{switch(u[f.value]){case"format":f.value=u.indexOf(N?"objetConstellation":"destination");break;default:f.value--;break}},A=k(()=>{switch(u[f.value]){case"objetConstellation":return{actif:!!U.value,visible:!0};case"destination":return{actif:!!q.value,visible:!0};case"format":return{actif:!!y.value,visible:!0};case"automatiser":return{actif:!!W.value,visible:!0};case"confirmation":return{actif:!1,visible:!1};default:return{actif:!0,visible:!0}}}),h=k(()=>{switch(u[f.value]){case"objetConstellation":return{actif:!1,visible:!1};case"destination":return{actif:!a.infoObjet,visible:!a.infoObjet};case"format":return{actif:!a.infoObjet||!N,visible:!a.infoObjet||!N};case"confirmation":return{actif:!ge.value,visible:!0};default:return{actif:!0,visible:!0}}}),$=x(a.infoObjet?.typeObjet||"bd"),U=x(a.infoObjet?.id),ne=[{type:"tableau",texte:"pages.mesDonnées.tableaux"},{type:"bd",texte:"pages.mesDonnées.bds"},{type:"projet",texte:"pages.mesDonnées.projets"},{type:"nuée",texte:"pages.mesDonnées.nuées"}],q=x(),C=async()=>{(q.value===""||!q.value)&&(q.value=await Lt())},y=x("ods"),ie=["ods","csv","txt","xlsx","xls"],J=x(),H=x(!0),W=x(N?"manuelle":"fixe"),g=x("1"),E=k(()=>{try{return c.எண்ணுக்கு({உரை:g.value})}catch{return}}),K=x("jours"),ye=["années","mois","semaines","jours","heures","minutes","secondes","millisecondes"],_e=P=>{try{return c.எண்ணுக்கு({உரை:P}),!0}catch{return n("règles.numérique")}},xe=P=>(P|0)===P,de=()=>E.value!==void 0&&E.value>0&&xe(E.value)?!0:n("règles.nombreEntierPositif"),te=x(),ge=x(!1),me=async()=>{if(!(!q.value||!U.value||!$.value)){if(W.value==="aucune")$.value==="tableau"?await b.tableaux.exporterTableauÀFichier(re({idTableau:U.value,langues:J.value,formatDoc:y.value,dossier:q.value,inclureDocuments:H.value})):$.value==="bd"?await b.bds.exporterBdÀFichier(re({idBd:U.value,langues:J.value,formatDoc:y.value,dossier:q.value,inclureDocuments:H.value})):$.value==="nuée"?await b.nuées.exporterNuéeÀFichier(re({idNuée:U.value,langues:J.value,formatDoc:y.value,dossier:q.value,inclureDocuments:H.value})):$.value==="projet"&&await b.projets.exporterProjetÀFichier(re({idProjet:U.value,langues:J.value,formatDoc:y.value,dossier:q.value,inclureDocuments:H.value}));else{if(!E.value)return;await b.automatisations.ajouterAutomatisationExporter(re({id:U.value,typeObjet:$.value,formatDoc:y.value,inclureDocuments:H.value,dossier:q.value,langues:J.value,fréquence:{type:W.value,détails:{n:E.value,unités:K.value}},copies:te.value}))}pe()}},pe=()=>{w.value=!1};return(P,_)=>(v(),T(Ze,{modelValue:w.value,"onUpdate:modelValue":_[17]||(_[17]=d=>w.value=d)},{activator:o(({props:d})=>[mt(P.$slots,"activator",Oe(Ce({props:d})))]),default:o(()=>[t(et,{class:"mx-auto",width:s(i)?600:"90%"},{default:o(()=>[t(tt,null,{default:o(()=>[t(at,{class:"d-flex"},{default:o(()=>[S(m(s(n)(V.value))+" ",1),t(Ve),t(je,{icon:"mdi-close",size:"small",variant:"flat",onClick:_[0]||(_[0]=d=>w.value=!1)})]),_:1})]),_:1}),t(nt,{style:{"overflow-y":"auto"}},{default:o(()=>[t(ot,{modelValue:f.value,"onUpdate:modelValue":_[16]||(_[16]=d=>f.value=d),style:{"overflow-y":"scroll"},disabled:""},{default:o(()=>[t(z,{value:u.indexOf("objetConstellation")},{default:o(()=>[t(st,{modelValue:$.value,"onUpdate:modelValue":_[1]||(_[1]=d=>$.value=d),color:"primary",mandatory:""},{default:o(()=>[(v(),R(oe,null,it(ne,d=>t(se,{key:d.type,value:d.type,text:s(n)(d.texte),class:"mx-2",variant:"outlined","prepend-icon":s(Se)(d.type)},null,8,["value","text","prepend-icon"])),64))]),_:1},8,["modelValue"]),$.value==="bd"?(v(),T(lt,{key:0,multiples:!1,onSelectionnee:_[2]||(_[2]=d=>U.value=d[0])})):$.value==="tableau"?(v(),T(ut,{key:1,multiples:!1,onSelectionne:_[3]||(_[3]=d=>U.value=d)})):$.value==="projet"?(v(),T(Nn,{key:2,multiples:!1,onSelectionne:_[4]||(_[4]=d=>U.value=d[0])})):$.value==="nuée"?(v(),T(la,{key:3,multiples:!1,onSelectionnee:_[5]||(_[5]=d=>U.value=d[0])})):B("",!0)]),_:1},8,["value"]),t(z,{value:u.indexOf("destination")},{default:o(()=>[t(Z,{modelValue:q.value,"onUpdate:modelValue":_[6]||(_[6]=d=>q.value=d),label:s(n)("exportations.carte.étiquetteDestination"),class:"mt-2",variant:"outlined","prepend-icon":"mdi-folder-outline",density:"compact",clearable:"",onClick:_[7]||(_[7]=()=>C())},null,8,["modelValue","label"])]),_:1},8,["value"]),t(z,{value:u.indexOf("format")},{default:o(()=>[t(ae,{modelValue:y.value,"onUpdate:modelValue":_[8]||(_[8]=d=>y.value=d),items:ie,label:s(n)("exportations.carte.étiquetteFormatDoc"),class:"mt-2",variant:"outlined"},{selection:o(({item:d})=>[S(m(s(n)(`exportations.format.${d.raw}`)),1)]),item:o(({item:d,props:le})=>[t(Q,M(le,{title:s(n)(`exportations.format.${d.raw}`)}),null,16,["title"])]),_:1},8,["modelValue","label"]),t(kn,{modelValue:J.value,"onUpdate:modelValue":_[9]||(_[9]=d=>J.value=d)},null,8,["modelValue"]),t(rt,{modelValue:H.value,"onUpdate:modelValue":_[10]||(_[10]=d=>H.value=d),color:"primary"},{label:o(()=>[S(m(s(n)("exportations.carte.étiquetteInclureDocuments"))+" ",1),s(p)?B("",!0):(v(),T(ct,{key:0,location:"bottom",text:s(n)("exportations.carte.indiceInclureDocuments")},{activator:o(({props:d})=>[t(F,M(d,{icon:"mdi-information-outline",end:""}),null,16)]),_:1},8,["text"]))]),_:1},8,["modelValue"])]),_:1},8,["value"]),t(z,{value:u.indexOf("automatiser")},{default:o(()=>[j("p",null,m(s(n)("exportations.carte.automatiser")),1),t(dt,{modelValue:W.value,"onUpdate:modelValue":_[13]||(_[13]=d=>W.value=d)},{default:o(()=>[t(ee,{value:"manuelle",class:"my-2"},{label:o(()=>[j("div",null,[j("p",Bn,m(s(n)("automatisations.fréquence.manuelle")),1),j("p",En,m(s(n)("automatisations.fréquence.indiceManuelle")),1)])]),_:1}),t(ee,{value:"dynamique",class:"my-2",disabled:s(N)},{label:o(()=>[j("div",null,[j("p",Mn,m(s(n)("automatisations.fréquence.dynamique")),1),j("p",Rn,m(s(n)("automatisations.fréquence.indiceDynamique")),1),s(N)?(v(),R("p",Ln,[t(F,{icon:"mdi-alert-outline",start:""}),S(m(s(n)("automatisations.fréquence.pasSurNavig")),1)])):B("",!0)])]),_:1},8,["disabled"]),t(ee,{value:"fixe",class:"my-2",disabled:s(N)},{label:o(()=>[j("div",null,[j("p",zn,m(s(n)("automatisations.fréquence.fixe")),1),_[18]||(_[18]=j("p",{class:"text-medium-emphasis text-caption"},null,-1)),j("div",{class:Qe({"d-flex":s(i)})},[j("div",Gn,m(s(n)("automatisations.fréquence.indiceFixe")),1),j("div",Jn,[t(Z,{modelValue:g.value,"onUpdate:modelValue":_[11]||(_[11]=d=>g.value=d),class:"mx-1",variant:"outlined",density:"compact","hide-details":_e(g.value)===!0&&de()===!0,rules:[_e,de]},null,8,["modelValue","hide-details","rules"]),t(ae,{modelValue:K.value,"onUpdate:modelValue":_[12]||(_[12]=d=>K.value=d),items:ye,class:"mx-1",variant:"outlined",density:"compact","hide-details":""},{selection:o(({item:d})=>[S(m(s(n)(`automatisations.fréquence.unités.${d.raw}`)),1)]),item:o(({item:d,props:le})=>[t(Q,M(le,{title:s(n)(`automatisations.fréquence.unités.${d.raw}`)}),null,16,["title"])]),_:1},8,["modelValue"])])],2),s(N)?(v(),R("p",Hn,[t(F,{icon:"mdi-alert-outline",start:""}),S(m(s(n)("automatisations.fréquence.pasSurNavig")),1)])):B("",!0)])]),_:1},8,["disabled"]),t(ee,{value:"aucune",class:"my-2"},{label:o(()=>[j("div",null,[j("p",Wn,m(s(n)("automatisations.fréquence.aucune")),1),j("p",Kn,m(s(n)("automatisations.fréquence.indiceAucune")),1)])]),_:1})]),_:1},8,["modelValue"]),t(Xe,null,{default:o(()=>[Pt(j("div",null,[j("p",Qn,m(s(n)("exportations.carte.copies")),1),t(Pn,{modelValue:te.value,"onUpdate:modelValue":_[14]||(_[14]=d=>te.value=d)},null,8,["modelValue"])],512),[[Nt,W.value==="dynamique"||W.value==="fixe"]])]),_:1})]),_:1},8,["value"]),t(z,{value:u.indexOf("confirmation"),class:"text-center"},{default:o(()=>[t(je,{"append-icon":"mdi-check",variant:"outlined",onClick:_[15]||(_[15]=()=>me())},{default:o(()=>[S(m(s(n)("exportations.carte.confirmer")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["modelValue"])]),_:1}),t(Bt),t(Et,null,{default:o(()=>[t(Mt,{visible:h.value.visible,actif:h.value.actif,onRetour:I},null,8,["visible","actif"]),t(Ve),t(Rt,{visible:A.value.visible,actif:A.value.actif,onSuivant:O},null,8,["visible","actif"])]),_:1})]),_:1},8,["width"])]),_:3},8,["modelValue"]))}}),Xn=Gt({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(Number(e))},...ta({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:e=>e.multiple?[]:null,validator:e=>pt(e).every(a=>a!=null&&typeof a=="object")},...ea({clearable:!0})},"VFileInput"),Yn=zt()({name:"VFileInput",inheritAttrs:!1,props:Xn(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,a){let{attrs:i,emit:r,slots:n}=a;const{t:c}=Jt(),l=Ht(e,"modelValue",e.modelValue,g=>pt(g),g=>!e.multiple&&Array.isArray(g)?g[0]:g),{isFocused:p,focus:b,blur:w}=Wt(e),u=k(()=>typeof e.showSize!="boolean"?e.showSize:void 0),f=k(()=>(l.value??[]).reduce((g,E)=>{let{size:K=0}=E;return g+K},0)),V=k(()=>Ie(f.value,u.value)),O=k(()=>(l.value??[]).map(g=>{const{name:E="",size:K=0}=g;return e.showSize?`${E} (${Ie(K,u.value)})`:E})),I=k(()=>{const g=l.value?.length??0;return e.showSize?c(e.counterSizeString,g,V.value):c(e.counterString,g)}),A=x(),h=x(),$=x(),U=k(()=>p.value||e.active),ne=k(()=>["plain","underlined"].includes(e.variant));function q(){$.value!==document.activeElement&&$.value?.focus(),p.value||b()}function C(g){$.value?.click()}function y(g){r("mousedown:control",g)}function ie(g){$.value?.click(),r("click:control",g)}function J(g){g.stopPropagation(),q(),oa(()=>{l.value=[],sa(e["onClick:clear"],g)})}function H(g){g.preventDefault()}function W(g){g.preventDefault(),g.dataTransfer&&(l.value=[...g.dataTransfer.files??[]])}return Kt(l,g=>{(!Array.isArray(g)||!g.length)&&$.value&&($.value.value="")}),Qt(()=>{const g=!!(n.counter||e.counter),E=!!(g||n.details),[K,ye]=Xt(i),{modelValue:_e,...xe}=Ue.filterProps(e),de=Yt(e);return t(Ue,M({ref:A,modelValue:e.multiple?l.value:l.value[0],class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-file-input--hide":e.hideInput,"v-input--plain-underlined":ne.value},e.class],style:e.style,"onClick:prepend":C},K,xe,{centerAffix:!ne.value,focused:p.value}),{...n,default:te=>{let{id:ge,isDisabled:me,isDirty:pe,isReadonly:P,isValid:_}=te;return t(na,M({ref:h,"prepend-icon":e.prependIcon,onMousedown:y,onClick:ie,"onClick:clear":J,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},de,{id:ge.value,active:U.value||pe.value,dirty:pe.value||e.dirty,disabled:me.value,focused:p.value,error:_.value===!1,onDragover:H,onDrop:W}),{...n,default:d=>{let{props:{class:le,..._t}}=d;return t(oe,null,[t("input",M({ref:$,type:"file",readonly:P.value,disabled:me.value,multiple:e.multiple,name:e.name,onClick:X=>{X.stopPropagation(),P.value&&X.preventDefault(),q()},onChange:X=>{if(!X.target)return;const xt=X.target;l.value=[...xt.files??[]]},onFocus:q,onBlur:w},_t,ye),null),t("div",{class:le},[!!l.value?.length&&!e.hideInput&&(n.selection?n.selection({fileNames:O.value,totalBytes:f.value,totalBytesReadable:V.value}):e.chips?O.value.map(X=>t(se,{key:X,size:"small",text:X},null)):O.value.join(", "))])])}})},details:E?te=>t(oe,null,[n.details?.(te),g&&t(oe,null,[t("span",null,null),t(aa,{active:!!l.value?.length,value:I.value,disabled:e.disabled},n.counter)])]):void 0})}),Zt({},A,h,$)}}),Zn={class:"font-weight-bold"},eo={class:"text-medium-emphasis text-caption"},to={class:"font-weight-bold"},ao={class:"text-medium-emphasis text-caption"},no={key:0,class:"my-1 text-medium-emphasis text-caption"},oo={key:1,class:"my-1 text-medium-emphasis text-caption"},so={class:"font-weight-bold"},io={class:"d-flex vertical-align"},lo={class:"text-medium-emphasis text-caption",style:{display:"flex","align-items":"center"}},uo={key:0,class:"my-1 text-medium-emphasis text-caption"},ro={class:"font-weight-bold"},co={class:"text-medium-emphasis text-caption"},xo=L({__name:"NouvelleImportation",props:{infoObjet:{}},setup(e){const a=e,{mdAndUp:i}=Te(),{மொழியாக்கம்_பயன்படுத்து:r}=G(),{$மொ:n}=r(),c=x(!1),l=["objetConstellation","sourceImportation","correspondancesImportation","automatiser","confirmation"],p=x(l.indexOf(a.infoObjet?"sourceImportation":"objetConstellation")),b=k(()=>{switch(l[p.value]){case"objetConstellation":return"importations.carte.titreObjetConstellation";case"sourceImportation":return"importations.carte.titreSourceImportation";case"correspondancesImportation":return"importations.carte.titreCorrespondancesImportation";case"confirmation":return"importations.carte.titreconfirmation";default:return""}}),w=x(a.infoObjet?.typeObjet),u=x(a.infoObjet?.id),f=x(),V=x();Y(()=>{f.value&&(V.value=void 0)}),Y(()=>{V.value&&(f.value=void 0)});const O=x(),I=x(),A=x(!1);Y(()=>{const q=f.value?.[0].name||V.value;I.value=q?.split(".").pop()}),Y(async()=>{if(V.value)try{const q=await ia.get(V.value);O.value=q.data}catch{A.value=!0}else f.value?O.value=new Uint8Array(await f.value[0].arrayBuffer()):O.value=void 0});const h=x("manuelle"),$=x(1),U=x("jours"),ne=["années","mois","semaines","jours","heures","minutes","secondes","millisecondes"];return(q,C)=>(v(),T(Ze,{modelValue:c.value,"onUpdate:modelValue":C[10]||(C[10]=y=>c.value=y)},{activator:o(({props:y})=>[mt(q.$slots,"activator",Oe(Ce({props:y})))]),default:o(()=>[t(et,{class:"mx-auto","max-width":s(i)?500:300},{default:o(()=>[t(tt,null,{default:o(()=>[t(at,{class:"d-flex"},{default:o(()=>[S(m(s(n)(b.value))+" ",1),t(Ve),t(je,{icon:"mdi-close",size:"small",variant:"flat",onClick:C[0]||(C[0]=y=>c.value=!1)})]),_:1})]),_:1}),t(nt,null,{default:o(()=>[t(ot,{modelValue:p.value,"onUpdate:modelValue":C[9]||(C[9]=y=>p.value=y),style:{"overflow-y":"scroll"}},{default:o(()=>[t(z,{value:l.indexOf("objetConstellation")},{default:o(()=>[t(st,{modelValue:w.value,"onUpdate:modelValue":C[1]||(C[1]=y=>w.value=y),color:"primary",mandatory:""},{default:o(()=>[(v(),R(oe,null,it(["tableau","bd"],y=>t(se,{key:y,class:"mx-2",variant:"outlined","prepend-icon":s(Se)(y)},null,8,["prepend-icon"])),64))]),_:1},8,["modelValue"]),w.value==="bd"?(v(),T(lt,{key:0,multiples:!1,onSelectionnee:C[2]||(C[2]=y=>u.value=y[0])})):w.value==="tableau"?(v(),T(ut,{key:1,multiples:!1,onSelectionne:C[3]||(C[3]=y=>u.value=y)})):B("",!0)]),_:1},8,["value"]),t(z,{value:l.indexOf("sourceImportation")},{default:o(()=>[t(Yn,{modelValue:f.value,"onUpdate:modelValue":C[4]||(C[4]=y=>f.value=y),class:"mt-2",variant:"outlined",label:s(n)("importations.carte.étiquetteFichier")},null,8,["modelValue","label"]),t(Z,{modelValue:V.value,"onUpdate:modelValue":C[5]||(C[5]=y=>V.value=y),"prepend-icon":"mdi-web",variant:"outlined",label:s(n)("importations.carte.étiquetteURL")},null,8,["modelValue","label"]),S(" "+m(V.value)+" "+m(O.value),1)]),_:1},8,["value"]),t(z,{value:l.indexOf("correspondancesImportation")},null,8,["value"]),t(z,{value:l.indexOf("automatiser")},{default:o(()=>[j("p",null,m(s(n)("exportations.carte.automatiser")),1),t(dt,{modelValue:h.value,"onUpdate:modelValue":C[8]||(C[8]=y=>h.value=y)},{default:o(()=>[t(ee,{value:"manuelle",class:"my-2"},{label:o(()=>[j("div",null,[j("p",Zn,m(s(n)("automatisations.fréquence.manuelle")),1),j("p",eo,m(s(n)("automatisations.fréquence.indiceManuelle")),1)])]),_:1}),t(ee,{value:"dynamique",class:"my-2",disabled:!!V.value||s(N)},{label:o(()=>[j("div",null,[j("p",to,m(s(n)("automatisations.fréquence.dynamique")),1),j("p",ao,m(s(n)("automatisations.fréquence.indiceDynamique")),1),V.value?(v(),R("p",no,[t(F,{icon:"mdi-alert-outline",start:""}),S(m(s(n)("automatisations.fréquence.pasDeSourceURL")),1)])):s(N)?(v(),R("p",oo,[t(F,{icon:"mdi-alert-outline",start:""}),S(m(s(n)("automatisations.fréquence.pasSurNavig")),1)])):B("",!0)])]),_:1},8,["disabled"]),t(ee,{value:"fixe",class:"my-2",disabled:s(N)},{label:o(()=>[j("div",null,[j("p",so,m(s(n)("automatisations.fréquence.fixe")),1),C[11]||(C[11]=j("p",{class:"text-medium-emphasis text-caption"},null,-1)),j("div",io,[j("div",lo,m(s(n)("automatisations.fréquence.indiceFixe")),1),t(Z,{modelValue:$.value,"onUpdate:modelValue":C[6]||(C[6]=y=>$.value=y),class:"mx-1",variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue"]),t(ae,{modelValue:U.value,"onUpdate:modelValue":C[7]||(C[7]=y=>U.value=y),items:ne,class:"mx-1",variant:"outlined",density:"compact","hide-details":""},{selection:o(({item:y})=>[S(m(s(n)(`automatisations.fréquence.unités.${y.raw}`)),1)]),item:o(({item:y,props:ie})=>[t(Q,M(ie,{title:s(n)(`automatisations.fréquence.unités.${y.raw}`)}),null,16,["title"])]),_:1},8,["modelValue"])]),s(N)?(v(),R("p",uo,[t(F,{icon:"mdi-alert-outline",start:""}),S(m(s(n)("automatisations.fréquence.pasSurNavig")),1)])):B("",!0)])]),_:1},8,["disabled"]),t(ee,{value:"aucune",class:"my-2"},{label:o(()=>[j("div",null,[j("p",ro,m(s(n)("automatisations.fréquence.aucune")),1),j("p",co,m(s(n)("automatisations.fréquence.indiceAucune")),1)])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["value"]),t(z,{value:l.indexOf("confirmation")},null,8,["value"])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["max-width"])]),_:3},8,["modelValue"]))}}),go=L({__name:"OptionsDocumentsExportation",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:["update:modelValue"],setup(e){const{மொழியாக்கம்_பயன்படுத்து:a}=G(),{$மொ:i}=a(),{so:r}=Ye(),n=r==="androïde"||r==="iOS",c=be(e,"modelValue");return(l,p)=>(v(),T(rt,{modelValue:c.value,"onUpdate:modelValue":p[0]||(p[0]=b=>c.value=b),color:"primary","hide-details":""},{label:o(()=>[S(m(s(i)("exportations.carte.étiquetteInclureDocuments"))+" ",1),s(n)?B("",!0):(v(),T(ct,{key:0,location:"bottom",text:s(i)("exportations.carte.indiceInclureDocuments")},{activator:o(({props:b})=>[t(F,M(b,{icon:"mdi-information-outline",end:""}),null,16)]),_:1},8,["text"]))]),_:1},8,["modelValue"]))}}),Vo=L({__name:"OptionsFormatExportation",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){be(e,"modelValue");const{மொழியாக்கம்_பயன்படுத்து:a}=G(),{$மொ:i}=a(),r=x("ods"),n=["ods","csv","txt","xlsx","xls"];return(c,l)=>(v(),T(ae,{modelValue:r.value,"onUpdate:modelValue":l[0]||(l[0]=p=>r.value=p),items:n,label:s(i)("exportations.carte.étiquetteFormatDoc"),class:"mt-2",variant:"outlined"},{selection:o(({item:p})=>[S(m(s(i)(`exportations.format.${p.raw}`)),1)]),item:o(({item:p,props:b})=>[t(Q,M(b,{title:s(i)(`exportations.format.${p.raw}`)}),null,16,["title"])]),_:1},8,["modelValue","label"]))}});export{xo as _,_o as a,yo as b,Vo as c,kn as d,go as e,Tn as f,Pn as g,Cn as h,On as i};
//# sourceMappingURL=OptionsFormatExportation.vue_vue_type_script_setup_true_lang-iKW_4rX3.js.map
