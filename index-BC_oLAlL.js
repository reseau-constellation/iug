import{cy as v,dw as b,aO as S,dx as g,dy as C,dz as I,dA as y,dB as d,r as q,q as F,o as x,dC as L,h as T}from"./index-fdjmi-3N.js";function A(e){return C()?(I(e),!0):!1}const O=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const E=Object.prototype.toString,W=e=>E.call(e)==="[object Object]";function k(e){return Array.isArray(e)?e:[e]}function j(e,n=1e3,a={}){const{immediate:c=!0,immediateCallback:i=!1}=a;let f=null;const l=v(!1);function u(){f&&(clearInterval(f),f=null)}function t(){l.value=!1,u()}function o(){const s=y(n);s<=0||(l.value=!0,i&&e(),u(),l.value&&(f=setInterval(e,s)))}if(c&&O&&o(),b(n)||typeof n=="function"){const s=S(n,()=>{l.value&&O&&o()});A(s)}return A(t),{isActive:g(l),pause:t,resume:o}}function R(e,n,a){return S(e,n,{...a,immediate:!0})}const M=O?window:void 0;function N(e){var n;const a=y(e);return(n=a?.$el)!=null?n:a}function D(...e){const n=[],a=()=>{n.forEach(u=>u()),n.length=0},c=(u,t,o,s)=>(u.addEventListener(t,o,s),()=>u.removeEventListener(t,o,s)),i=F(()=>{const u=k(y(e[0])).filter(t=>t!=null);return u.every(t=>typeof t!="string")?u:void 0}),f=R(()=>{var u,t;return[(t=(u=i.value)==null?void 0:u.map(o=>N(o)))!=null?t:[M].filter(o=>o!=null),k(y(i.value?e[1]:e[0])),k(T(i.value?e[2]:e[1])),y(i.value?e[3]:e[2])]},([u,t,o,s])=>{if(a(),!u?.length||!t?.length||!o?.length)return;const p=W(s)?{...s}:s;n.push(...u.flatMap(m=>t.flatMap(r=>o.map(w=>c(m,r,w,p)))))},{flush:"post"}),l=()=>{f(),a()};return A(a),l}function B(){const e=v(!1),n=L();return n&&x(()=>{e.value=!0},n),e}function G(e){const n=B();return F(()=>(n.value,!!e()))}function V(e,n={}){const{immediate:a=!0,fpsLimit:c=void 0,window:i=M,once:f=!1}=n,l=v(!1),u=F(()=>c?1e3/y(c):null);let t=0,o=null;function s(r){if(!l.value||!i)return;t||(t=r);const w=r-t;if(u.value&&w<u.value){o=i.requestAnimationFrame(s);return}if(t=r,e({delta:w,timestamp:r}),f){l.value=!1,o=null;return}o=i.requestAnimationFrame(s)}function p(){!l.value&&i&&(l.value=!0,t=0,o=i.requestAnimationFrame(s))}function m(){l.value=!1,o!=null&&i&&(i.cancelAnimationFrame(o),o=null)}return a&&p(),A(m),{isActive:d(l),pause:m,resume:p}}function z(e={}){const{window:n=M}=e,a=n?.navigator,c=G(()=>a&&"connection"in a),i=v(!0),f=v(!1),l=v(void 0),u=v(void 0),t=v(void 0),o=v(void 0),s=v(void 0),p=v(void 0),m=v("unknown"),r=c.value&&a.connection;function w(){a&&(i.value=a.onLine,l.value=i.value?void 0:Date.now(),u.value=i.value?Date.now():void 0,r&&(t.value=r.downlink,o.value=r.downlinkMax,p.value=r.effectiveType,s.value=r.rtt,f.value=r.saveData,m.value=r.type))}const h={passive:!0};return n&&(D(n,"offline",()=>{i.value=!1,l.value=Date.now()},h),D(n,"online",()=>{i.value=!0,u.value=Date.now()},h)),r&&D(r,"change",w,h),w(),{isSupported:c,isOnline:d(i),saveData:d(f),offlineAt:d(l),onlineAt:d(u),downlink:d(t),downlinkMax:d(o),effectiveType:d(p),rtt:d(s),type:d(m)}}function $(e={}){const{controls:n=!1,interval:a="requestAnimationFrame"}=e,c=q(new Date),i=()=>c.value=new Date,f=a==="requestAnimationFrame"?V(i,{immediate:!0}):j(i,a,{immediate:!0});return n?{now:c,...f}:c}function H(e={}){const{isOnline:n}=z(e);return n}export{$ as a,H as u};
//# sourceMappingURL=index-BC_oLAlL.js.map
