{"version":3,"file":"historiqueDocuments-DlXrfGFi.js","sources":["../../src/état/historiqueDocuments.ts"],"sourcesContent":["import {defineStore} from 'pinia';\n\nexport type OuvertureDocument = {id: string; à: number};\n\ninterface ÉtatHistoriqueDocuments {\n  récents: OuvertureDocument[];\n}\n\nconst maxHistorique = 20;\n\nexport const utiliserHistoriqueDocuments = defineStore('historiqueDocuments', {\n  state: (): ÉtatHistoriqueDocuments => {\n    return {\n      récents: [],\n    };\n  },\n  actions: {\n    documentOuvert({id, à}: {id: string; à: number}) {\n      this.récents = [{id, à}, ...this.récents.filter(x => x.id !== id)]\n        .sort((a, b) => (a.à > b.à ? -1 : 1))\n        .slice(0, maxHistorique);\n    },\n    effacer({id}: {id: string}) {\n      this.récents = [...this.récents.filter(r => r.id !== id)];\n    },\n  },\n  persist: {\n    afterHydrate: ctx => {\n      console.log('état', ctx.store.$state);\n    },\n  },\n});\n"],"names":["maxHistorique","utiliserHistoriqueDocuments","defineStore","id","à","x","a","b","r","ctx"],"mappings":"yCAQA,MAAMA,EAAgB,GAETC,EAA8BC,EAAY,sBAAuB,CAC5E,MAAO,KACE,CACL,QAAS,CAAA,CACX,GAEF,QAAS,CACP,eAAe,CAAC,GAAAC,EAAI,EAAAC,GAA6B,CAC/C,KAAK,QAAU,CAAC,CAAC,GAAAD,EAAI,EAAAC,CAAC,EAAG,GAAG,KAAK,QAAQ,OAAYC,GAAAA,EAAE,KAAOF,CAAE,CAAC,EAC9D,KAAK,CAACG,EAAGC,IAAOD,EAAE,EAAIC,EAAE,EAAI,GAAK,CAAE,EACnC,MAAM,EAAGP,CAAa,CAC3B,EACA,QAAQ,CAAC,GAAAG,GAAmB,CACrB,KAAA,QAAU,CAAC,GAAG,KAAK,QAAQ,OAAYK,GAAAA,EAAE,KAAOL,CAAE,CAAC,CAAA,CAE5D,EACA,QAAS,CACP,aAAqBM,GAAA,CACnB,QAAQ,IAAI,OAAQA,EAAI,MAAM,MAAM,CAAA,CACtC,CAEJ,CAAC"}