import{d as z,க as L,p as re,r as b,o as Ve,q,dx as qe,c as $,a as d,O as le,w as t,f as k,t as r,h as s,B as he,G as U,v as X,ci as Ye,b as e,ம as De,bU as ie,aC as ge,s as Ze,M as K,F as A,at as et,dn as pe,aQ as tt,n as we,cm as Oe,A as E,aX as te,a9 as Fe,bH as at,dq as $e,z as V,a2 as Y,K as B,I as je,J as ke,av as Ie,Q as se,ah as st,ai as lt,dy as ot,ax as Ue,dr as P,x as Ne,V as Pe,i as Ae,e as Te,y as ye,j as xe,m as Be,T as Re,W as M,br as Ee,N as ze,bD as Me,dz as Le,an as Ge,ao as Je,aL as He,aM as Z,ad as nt,ae as it,R as ut,ap as rt,bp as ct,bq as dt,H as We,dA as mt,b8 as pt,b9 as vt,bd as ft,bc as _t,cK as Ke,bb as bt,dB as Se,aP as yt,bg as xt,bh as Vt,dC as Ce,dD as ht,d8 as gt,bn as wt,dE as jt,dF as kt,bi as $t,bf as St,dG as Ct,dH as qt}from"./index-D5cralDg.js";import{d as Dt}from"./SélecteurNuée.vue_vue_type_script_setup_true_lang-CDBeo3Hy.js";import{_ as Ot}from"./RésultatRechercheProjet.vue_vue_type_script_setup_true_lang-Zlq_gzit.js";import{_ as Ft}from"./CarteProjet.vue_vue_type_script_setup_true_lang-D9KvSF4f.js";import{_ as It}from"./NouveauProjet.vue_vue_type_script_setup_true_lang-C4aX6bUA.js";import{b as Ut}from"./_baseClone-B0CAUU3b.js";var Nt=1,Pt=4;function ue(l){return Ut(l,Nt|Pt)}const At=z({__name:"JetonFichierExportation",props:{spécification:{}},setup(l){const o=l,{மொழியாக்கம்_பயன்படுத்து:x}=L(),{$மொ:m}=x(),a=re(),c=b();Ve(async()=>{c.value=await a.obtIdDispositif()});const i=q(()=>!!c.value&&o.spécification.dispositifs.includes(c.value)),p=q(()=>i.value&&o.spécification.dossier===void 0),h=q(()=>typeof o.spécification.dossier=="string"),S=q(()=>o.spécification.dossier?qe.parse(o.spécification.dossier).base:"automatisations.fichierIntrouvable");return(n,v)=>(d(),$(le,{variant:"outlined",label:"",density:"compact"},{prepend:t(()=>[p.value?(d(),$(he,{key:0,class:"me-2",indeterminate:"",size:"15",width:"2",color:"primary"})):h.value?(d(),$(U,{key:1,start:""},{default:t(()=>v[0]||(v[0]=[k(" mdi-file-outline ")])),_:1})):(d(),$(U,{key:2,color:"error"},{default:t(()=>v[1]||(v[1]=[k(" mdi-alert ")])),_:1}))]),default:t(()=>[k(" "+r(s(m)(S.value)),1)]),_:1}))}}),Tt=z({__name:"JetonFichierImportation",props:{spécification:{}},setup(l){const o=l,{மொழியாக்கம்_பயன்படுத்து:x}=L(),{$மொ:m}=x(),a=re(),c=q(()=>o.spécification.source.typeSource==="fichier"?p.value===void 0:!1),i=q(()=>o.spécification.source.typeSource==="url"||typeof p.value=="string"),p=b();X(async()=>{o.spécification.source.typeSource==="fichier"&&(p.value=await a.automatisations.résoudreAdressePrivéeFichier({clef:o.spécification.source.adresseFichier}))});const h=q(()=>o.spécification.source.typeSource==="fichier"?"mdi-file":"mdi-web"),S=q(()=>o.spécification.source.typeSource==="fichier"?p.value===void 0?"automatisations.rechercheFichier":p.value===null?"automatisations.fichierIntrouvable":qe.parse(p.value).base:o.spécification.source.url.slice(-10)+m("communs.troisPetitsPoints"));return(n,v)=>(d(),$(le,null,{prepend:t(()=>[c.value?(d(),$(he,{key:0,indeterminate:"",color:"primary"})):i.value?(d(),$(U,{key:1},{default:t(()=>[k(r(h.value),1)]),_:1})):(d(),$(U,{key:2,color:"error"},{default:t(()=>v[0]||(v[0]=[k(" mdi-alert ")])),_:1}))]),default:t(()=>[k(" "+r(s(m)(S.value)),1)]),_:1}))}}),Bt=z({__name:"JetonStatutAutomatisation",props:{statut:{}},setup(l){const{மொழியாக்கம்_பயன்படுத்து:o}=L(),{$மொ:x}=o(),m=l,a=q(()=>{switch(m.statut.type){case"erreur":return{icône:"mdi-alert",couleur:"error"};case"programmée":return{icône:"mdi-check",couleur:"success"};case"sync":return{icône:"mdi-sync",couleur:"primary"};case"écoute":return{icône:"",couleur:"success"};default:throw new Error(JSON.stringify(m.statut))}}),c=b(new Date().getTime());let i;Ve(()=>{i=window.setInterval(()=>c.value=new Date().getTime(),1e3)}),Ye(()=>{i&&clearInterval(i)});const p=q(()=>{switch(m.statut.type){case"écoute":return"automatisations.jetonStatut.écoute";case"sync":return x("automatisations.jetonStatut.sync",{depuis:c.value-m.statut.depuis});case"programmée":return x("automatisations.jetonStatut.programmée",{dans:m.statut.à-c.value});case"erreur":return m.statut.prochaineProgramméeÀ?x("automatisations.jetonStatut.erreurRéssayer",{dans:m.statut.prochaineProgramméeÀ-c.value}):"automatisations.jetonStatut.erreur";default:throw new Error(m.statut)}});return(h,S)=>(d(),$(le,{label:"",density:"compact",variant:"outlined"},{prepend:t(()=>[h.statut.type==="sync"?(d(),$(he,{key:0,indeterminate:""},{default:t(()=>[e(U,{color:a.value.couleur},{default:t(()=>[k(r(a.value.icône),1)]),_:1},8,["color"])]),_:1})):(d(),$(U,{key:1,start:"",color:a.value.couleur},{default:t(()=>[k(r(a.value.icône),1)]),_:1},8,["color"]))]),default:t(()=>[k(" "+r(s(x)(p.value)),1)]),_:1}))}}),Sa=z({__name:"ItemAutomatisation",props:{spécification:{}},setup(l){const o=l,x=re(),{அகராதியிலிருந்து_மொழிபெயர்ப்பு:m}=De(),a=b();Ve(()=>{if(o.spécification.type==="importation")ie(x.tableaux.suivreNomsTableau({idTableau:o.spécification.idTableau,f:n=>a.value=n}));else switch(o.spécification.typeObjet){case"tableau":ie(x.tableaux.suivreNomsTableau({idTableau:o.spécification.idObjet,f:n=>a.value=n}));break;case"projet":ie(x.projets.suivreNomsProjet({idProjet:o.spécification.idObjet,f:n=>a.value=n}));break;case"bd":ie(x.bds.suivreNomsBd({idBd:o.spécification.idObjet,f:n=>a.value=n}));break;case"nuée":ie(x.nuées.suivreNomsNuée({idNuée:o.spécification.idObjet,f:n=>a.value=n}));break;default:throw new Error(JSON.stringify(o.spécification))}});const c=m(a),i=q(()=>{if(o.spécification.type==="importation")return"tableaux.sansNom";switch(o.spécification.typeObjet){case"bd":return"bds.sansNom";case"nuée":return"nuées.sansNom";case"projet":return"projets.sansNom";case"tableau":return"tableaux.sansNom";default:return"communs.sansNom"}}),p=q(()=>o.spécification.type==="importation"?"mdi-table":ge(o.spécification.typeObjet)),h=Ze(x.automatisations.suivreÉtatAutomatisations),S=q(()=>h.value?h.value[o.spécification.id]:void 0);return(n,v)=>(d(),$(K,null,{prepend:t(()=>[e(U,null,{default:t(()=>[k(r(n.spécification.type==="exportation"?"mdi-export":"mdi-import"),1)]),_:1})]),default:t(()=>[e(et,null,{default:t(()=>[e(U,null,{default:t(()=>[k(r(p.value),1)]),_:1}),k(" "+r(s(c)||i.value),1)]),_:1}),n.spécification.type==="importation"?(d(),$(Tt,{key:0,spécification:n.spécification},null,8,["spécification"])):(d(),$(At,{key:1,class:"mx-2 my-2",spécification:n.spécification},null,8,["spécification"])),S.value?(d(),$(Bt,{key:2,statut:S.value},null,8,["statut"])):A("",!0)]),_:1}))}}),Rt=z({__name:"OptionsLanguesExportation",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(l){const o=pe(l,"modelValue"),{மொழியாக்கம்_பயன்படுத்து:x,கிடைக்கும்_மொழிகளை_பயன்படுத்து:m}=L(),{$மொ:a}=x(),{மொழி:c,மாற்றுமொழிகள்:i}=De(),{மொழிகளும்_குறியீடுகளும்:p}=m(),h=q(()=>p.value.map(S=>S.மொழி));return X(()=>{o.value=[c.value,...i.value].map(S=>p.value.find(n=>n.குறியீடு===S)?.மொழி||S)}),(S,n)=>(d(),$(tt,{modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=v=>o.value=v),items:h.value,label:s(a)("exportations.carte.étiquetteLangues"),variant:"outlined",multiple:"",chips:"","closable-chips":"","hide-details":""},null,8,["modelValue","items","label"]))}}),Et={key:0,class:"d-flex"},zt={class:"my-auto"},Mt={key:0,class:"d-flex"},Lt={key:0,class:"d-flex"},Gt={class:"my-auto"},Jt={key:1,class:"d-flex"},Ht=z({__name:"OptionsSauvegardesMultiples",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(l){const{mdAndUp:o}=we(),{மொழியாக்கம்_பயன்படுத்து:x}=L(),{$மொ:m}=x(),a=Oe(),c=pe(l,"modelValue"),i=b(c.value?.type?c.value.type:"aucune"),p=["aucune","n","temps"],h=b(c.value?.type==="n"?c.value.n.toString():"1"),S=q(()=>a.எண்ணுக்கு({உரை:h.value})),n=b(c.value?.type==="temps"?c.value.temps.détails.n.toString():"1"),v=q(()=>a.எண்ணுக்கு({உரை:n.value})),w=b(c.value?.type==="temps"?c.value.temps.détails.unités:"jours"),F=["années","mois","semaines","jours","heures","minutes","secondes","millisecondes"];return X(()=>{switch(i.value){case"aucune":c.value=void 0;break;case"n":{const R={type:"n",n:S.value};c.value=R;break}case"temps":{const R={type:"temps",temps:{type:"fixe",détails:{unités:w.value,n:v.value}}};c.value=R;break}}}),(R,O)=>(d(),E(se,null,[e(te,{modelValue:i.value,"onUpdate:modelValue":O[3]||(O[3]=g=>i.value=g),class:Fe(s(o)?["mb-4"]:["mb-2"]),items:p,variant:"outlined",density:"compact","hide-details":""},at({item:t(({props:g,item:j})=>[e(K,je(ke({...g,title:s(m)(`automatisations.sauvegardes.sélection.${j.raw}.item`)})),null,16)]),selection:t(({item:g})=>[k(r(s(m)(`automatisations.sauvegardes.sélection.${g.raw}.sélection`)),1)]),_:2},[s(o)?{name:"append",fn:t(()=>[e($e,null,{default:t(()=>[i.value==="n"?(d(),E("div",Et,[e(Y,{modelValue:h.value,"onUpdate:modelValue":O[0]||(O[0]=g=>h.value=g),class:"mx-1 me-3",variant:"outlined","hide-details":"",density:"compact"},null,8,["modelValue"]),V("span",zt,r(s(m)("automatisations.sauvegardes.sélection.n.sauvegardes")),1)])):A("",!0)]),_:1}),e($e,null,{default:t(()=>[i.value==="temps"?(d(),E("div",Mt,[e(Y,{modelValue:n.value,"onUpdate:modelValue":O[1]||(O[1]=g=>n.value=g),variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue"]),e(te,{modelValue:w.value,"onUpdate:modelValue":O[2]||(O[2]=g=>w.value=g),items:F,class:"ms-2",variant:"outlined",density:"compact","hide-details":""},{selection:t(({item:g})=>[k(r(s(m)(`automatisations.fréquence.unités.${g.raw}`)),1)]),item:t(({item:g,props:j})=>[e(K,B(j,{title:s(m)(`automatisations.fréquence.unités.${g.raw}`)}),null,16,["title"])]),_:1},8,["modelValue"])])):A("",!0)]),_:1})]),key:"0"}:void 0]),1032,["modelValue","class"]),s(o)?A("",!0):(d(),$(Ie,{key:0},{default:t(()=>[i.value==="n"?(d(),E("div",Lt,[e(Y,{modelValue:h.value,"onUpdate:modelValue":O[4]||(O[4]=g=>h.value=g),class:"mx-1 me-3",variant:"outlined","hide-details":"",density:"compact"},null,8,["modelValue"]),V("span",Gt,r(s(m)("automatisations.sauvegardes.sélection.n.sauvegardes")),1)])):A("",!0),i.value==="temps"?(d(),E("div",Jt,[e(Y,{modelValue:n.value,"onUpdate:modelValue":O[5]||(O[5]=g=>n.value=g),variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue"]),e(te,{modelValue:w.value,"onUpdate:modelValue":O[6]||(O[6]=g=>w.value=g),items:F,class:"ms-2",variant:"outlined",density:"compact","hide-details":""},{selection:t(({item:g})=>[k(r(s(m)(`automatisations.fréquence.unités.${g.raw}`)),1)]),item:t(({item:g,props:j})=>[e(K,B(j,{title:s(m)(`automatisations.fréquence.unités.${g.raw}`)}),null,16,["title"])]),_:1},8,["modelValue"])])):A("",!0)]),_:1}))],64))}}),Wt=z({__name:"SélecteurProjet",props:{multiples:{type:Boolean},originaux:{}},emits:["selectionne"],setup(l,{emit:o}){const x=o,{மொழியாக்கம்_பயன்படுத்து:m}=L(),{$மொ:a}=m(),c=re(),i=b([]);X(()=>{x("selectionne",i.value)});const p=b(),{résultats:h,onTravaille:S}=st(c.recherche.rechercherProjetsSelonTexte,{texte:p});return(n,v)=>(d(),$(lt,{multiples:n.multiples,originaux:n.originaux,"resultats-recherche":s(h),"on-travaille":s(S),"texte-etiquette-recherche":s(a)("projets.recherche.étiquette"),"texte-aucun-résultat":s(a)("projets.recherche.aucunRésultat"),onSelectionnee:v[0]||(v[0]=w=>i.value=w),onRequeteModifiee:v[1]||(v[1]=w=>p.value=w)},{résultat:t(({résultat:w,click:F})=>[e(Ot,{résultat:w,onClick:F},null,8,["résultat","onClick"])]),"jeton-objet":t(({id:w,deselectionner:F})=>[e(Ft,{id:w},{activator:t(({props:R})=>[e(ot,B({id:w},{props:R}),{default:t(()=>[e(U,{class:"ms-2",icon:"mdi-close",size:"small",variant:"flat",onClick:()=>F({id:w})},null,8,["onClick"])]),_:2},1040,["id"])]),_:2},1032,["id"])]),nouveau:t(({nouveau:w})=>[e(It,{onNouveau:w},{activator:t(({props:F})=>[e(K,B(F,{title:s(a)("projets.nouveau.btn"),"prepend-icon":"mdi-plus"}),null,16,["title"])]),_:2},1032,["onNouveau"])]),_:1},8,["multiples","originaux","resultats-recherche","on-travaille","texte-etiquette-recherche","texte-aucun-résultat"]))}}),Kt={class:"font-weight-bold"},Qt={class:"text-medium-emphasis text-caption"},Xt={class:"font-weight-bold"},Yt={class:"text-medium-emphasis text-caption"},Zt={key:0,class:"my-1 text-medium-emphasis text-caption"},ea={class:"font-weight-bold"},ta={class:"text-medium-emphasis text-caption",style:{display:"flex","align-items":"center"}},aa={class:"d-flex"},sa={key:0,class:"my-1 text-medium-emphasis text-caption"},la={class:"font-weight-bold"},oa={class:"text-medium-emphasis text-caption"},na={class:"my-2"},Ca=z({__name:"NouvelleExportation",props:{infoObjet:{}},setup(l){const o=l,{mdAndUp:x}=we(),{மொழியாக்கம்_பயன்படுத்து:m}=L(),{$மொ:a}=m(),c=Oe(),{so:i}=Ue(),p=i==="androïde"||i==="iOS",h=re(),S=b(!1),n=["objetConstellation","destination","format","automatiser","confirmation"],v=b(n.indexOf(o.infoObjet?P?"format":"destination":"objetConstellation")),w=q(()=>{switch(n[v.value]){case"objetConstellation":return"exportations.carte.titreObjetConstellation";case"destination":return"exportations.carte.titreDestination";case"format":return"exportations.carte.titreFormat";case"automatiser":return"exportations.carte.titreAutomatiser";case"confirmation":return"exportations.carte.titreConfirmation";default:return""}}),F=()=>{switch(n[v.value]){case"objetConstellation":v.value=n.indexOf(P?"format":"destination");break;default:v.value++;break}},R=()=>{switch(n[v.value]){case"format":v.value=n.indexOf(P?"objetConstellation":"destination");break;default:v.value--;break}},O=q(()=>{switch(n[v.value]){case"objetConstellation":return{actif:!!I.value,visible:!0};case"destination":return{actif:!!D.value,visible:!0};case"format":return{actif:!!f.value,visible:!0};case"automatiser":return{actif:!!H.value,visible:!0};case"confirmation":return{actif:!1,visible:!1};default:return{actif:!0,visible:!0}}}),g=q(()=>{switch(n[v.value]){case"objetConstellation":return{actif:!1,visible:!1};case"destination":return{actif:!o.infoObjet,visible:!o.infoObjet};case"format":return{actif:!o.infoObjet||!P,visible:!o.infoObjet||!P};case"confirmation":return{actif:!be.value,visible:!0};default:return{actif:!0,visible:!0}}}),j=b(o.infoObjet?.typeObjet||"bd"),I=b(o.infoObjet?.id),ae=[{type:"tableau",texte:"pages.mesDonnées.tableaux"},{type:"bd",texte:"pages.mesDonnées.bds"},{type:"projet",texte:"pages.mesDonnées.projets"},{type:"nuée",texte:"pages.mesDonnées.nuées"}],D=b(),C=async()=>{(D.value===""||!D.value)&&(D.value=await mt())},f=b("ods"),oe=["ods","csv","txt","xlsx","xls"],G=b(),J=b(!0),H=b(P?"manuelle":"fixe"),y=b("1"),T=q(()=>{try{return c.எண்ணுக்கு({உரை:y.value})}catch{return}}),W=b("jours"),ve=["années","mois","semaines","jours","heures","minutes","secondes","millisecondes"],fe=N=>{try{return c.எண்ணுக்கு({உரை:N}),!0}catch{return a("règles.numérique")}},_e=N=>(N|0)===N,ce=()=>T.value!==void 0&&T.value>0&&_e(T.value)?!0:a("règles.nombreEntierPositif"),ee=b(),be=b(!1),de=async()=>{if(!(!D.value||!I.value||!j.value)){if(H.value==="aucune")j.value==="tableau"?await h.tableaux.exporterTableauÀFichier(ue({idTableau:I.value,langues:G.value,formatDoc:f.value,dossier:D.value,inclureDocuments:J.value})):j.value==="bd"?await h.bds.exporterBdÀFichier(ue({idBd:I.value,langues:G.value,formatDoc:f.value,dossier:D.value,inclureDocuments:J.value})):j.value==="nuée"?await h.nuées.exporterNuéeÀFichier(ue({idNuée:I.value,langues:G.value,formatDoc:f.value,dossier:D.value,inclureDocuments:J.value})):j.value==="projet"&&await h.projets.exporterProjetÀFichier(ue({idProjet:I.value,langues:G.value,formatDoc:f.value,dossier:D.value,inclureDocuments:J.value}));else{if(!T.value)return;await h.automatisations.ajouterAutomatisationExporter(ue({id:I.value,typeObjet:j.value,formatDoc:f.value,inclureDocuments:J.value,dossier:D.value,langues:G.value,fréquence:{type:H.value,détails:{n:T.value,unités:W.value}},copies:ee.value}))}me()}},me=()=>{S.value=!1};return(N,_)=>(d(),$(Ne,{modelValue:S.value,"onUpdate:modelValue":_[17]||(_[17]=u=>S.value=u)},{activator:t(({props:u})=>[We(N.$slots,"activator",je(ke({props:u})))]),default:t(()=>[e(Pe,{class:"mx-auto",width:s(x)?600:"90%"},{default:t(()=>[e(Ae,null,{default:t(()=>[e(Te,{class:"d-flex"},{default:t(()=>[k(r(s(a)(w.value))+" ",1),e(ye),e(xe,{icon:"mdi-close",size:"small",variant:"flat",onClick:_[0]||(_[0]=u=>S.value=!1)})]),_:1})]),_:1}),e(Be,{style:{"overflow-y":"auto"}},{default:t(()=>[e(Re,{modelValue:v.value,"onUpdate:modelValue":_[16]||(_[16]=u=>v.value=u),style:{"overflow-y":"scroll"},disabled:""},{default:t(()=>[e(M,{value:n.indexOf("objetConstellation")},{default:t(()=>[e(Ee,{modelValue:j.value,"onUpdate:modelValue":_[1]||(_[1]=u=>j.value=u),color:"primary",mandatory:""},{default:t(()=>[(d(),E(se,null,ze(ae,u=>e(le,{key:u.type,value:u.type,text:s(a)(u.texte),class:"mx-2",variant:"outlined","prepend-icon":s(ge)(u.type)},null,8,["value","text","prepend-icon"])),64))]),_:1},8,["modelValue"]),j.value==="bd"?(d(),$(Me,{key:0,multiples:!1,onSelectionnee:_[2]||(_[2]=u=>I.value=u[0])})):j.value==="tableau"?(d(),$(Le,{key:1,multiples:!1,onSelectionne:_[3]||(_[3]=u=>I.value=u)})):j.value==="projet"?(d(),$(Wt,{key:2,multiples:!1,onSelectionne:_[4]||(_[4]=u=>I.value=u[0])})):j.value==="nuée"?(d(),$(Dt,{key:3,multiples:!1,onSelectionnee:_[5]||(_[5]=u=>I.value=u[0])})):A("",!0)]),_:1},8,["value"]),e(M,{value:n.indexOf("destination")},{default:t(()=>[e(Y,{modelValue:D.value,"onUpdate:modelValue":_[6]||(_[6]=u=>D.value=u),label:s(a)("exportations.carte.étiquetteDestination"),class:"mt-2",variant:"outlined","prepend-icon":"mdi-folder-outline",density:"compact",clearable:"",onClick:_[7]||(_[7]=()=>C())},null,8,["modelValue","label"])]),_:1},8,["value"]),e(M,{value:n.indexOf("format")},{default:t(()=>[e(te,{modelValue:f.value,"onUpdate:modelValue":_[8]||(_[8]=u=>f.value=u),items:oe,label:s(a)("exportations.carte.étiquetteFormatDoc"),class:"mt-2",variant:"outlined"},{selection:t(({item:u})=>[k(r(s(a)(`exportations.format.${u.raw}`)),1)]),item:t(({item:u,props:ne})=>[e(K,B(ne,{title:s(a)(`exportations.format.${u.raw}`)}),null,16,["title"])]),_:1},8,["modelValue","label"]),e(Rt,{modelValue:G.value,"onUpdate:modelValue":_[9]||(_[9]=u=>G.value=u)},null,8,["modelValue"]),e(Ge,{modelValue:J.value,"onUpdate:modelValue":_[10]||(_[10]=u=>J.value=u),color:"primary"},{label:t(()=>[k(r(s(a)("exportations.carte.étiquetteInclureDocuments"))+" ",1),s(p)?A("",!0):(d(),$(Je,{key:0,location:"bottom",text:s(a)("exportations.carte.indiceInclureDocuments")},{activator:t(({props:u})=>[e(U,B(u,{icon:"mdi-information-outline",end:""}),null,16)]),_:1},8,["text"]))]),_:1},8,["modelValue"])]),_:1},8,["value"]),e(M,{value:n.indexOf("automatiser")},{default:t(()=>[V("p",null,r(s(a)("exportations.carte.automatiser")),1),e(He,{modelValue:H.value,"onUpdate:modelValue":_[13]||(_[13]=u=>H.value=u)},{default:t(()=>[e(Z,{value:"manuelle",class:"my-2"},{label:t(()=>[V("div",null,[V("p",Kt,r(s(a)("automatisations.fréquence.manuelle")),1),V("p",Qt,r(s(a)("automatisations.fréquence.indiceManuelle")),1)])]),_:1}),e(Z,{value:"dynamique",class:"my-2",disabled:s(P)},{label:t(()=>[V("div",null,[V("p",Xt,r(s(a)("automatisations.fréquence.dynamique")),1),V("p",Yt,r(s(a)("automatisations.fréquence.indiceDynamique")),1),s(P)?(d(),E("p",Zt,[e(U,{icon:"mdi-alert-outline",start:""}),k(r(s(a)("automatisations.fréquence.pasSurNavig")),1)])):A("",!0)])]),_:1},8,["disabled"]),e(Z,{value:"fixe",class:"my-2",disabled:s(P)},{label:t(()=>[V("div",null,[V("p",ea,r(s(a)("automatisations.fréquence.fixe")),1),_[18]||(_[18]=V("p",{class:"text-medium-emphasis text-caption"},null,-1)),V("div",{class:Fe({"d-flex":s(x)})},[V("div",ta,r(s(a)("automatisations.fréquence.indiceFixe")),1),V("div",aa,[e(Y,{modelValue:y.value,"onUpdate:modelValue":_[11]||(_[11]=u=>y.value=u),class:"mx-1",variant:"outlined",density:"compact","hide-details":fe(y.value)===!0&&ce()===!0,rules:[fe,ce]},null,8,["modelValue","hide-details","rules"]),e(te,{modelValue:W.value,"onUpdate:modelValue":_[12]||(_[12]=u=>W.value=u),items:ve,class:"mx-1",variant:"outlined",density:"compact","hide-details":""},{selection:t(({item:u})=>[k(r(s(a)(`automatisations.fréquence.unités.${u.raw}`)),1)]),item:t(({item:u,props:ne})=>[e(K,B(ne,{title:s(a)(`automatisations.fréquence.unités.${u.raw}`)}),null,16,["title"])]),_:1},8,["modelValue"])])],2),s(P)?(d(),E("p",sa,[e(U,{icon:"mdi-alert-outline",start:""}),k(r(s(a)("automatisations.fréquence.pasSurNavig")),1)])):A("",!0)])]),_:1},8,["disabled"]),e(Z,{value:"aucune",class:"my-2"},{label:t(()=>[V("div",null,[V("p",la,r(s(a)("automatisations.fréquence.aucune")),1),V("p",oa,r(s(a)("automatisations.fréquence.indiceAucune")),1)])]),_:1})]),_:1},8,["modelValue"]),e(Ie,null,{default:t(()=>[nt(V("div",null,[V("p",na,r(s(a)("exportations.carte.copies")),1),e(Ht,{modelValue:ee.value,"onUpdate:modelValue":_[14]||(_[14]=u=>ee.value=u)},null,8,["modelValue"])],512),[[it,H.value==="dynamique"||H.value==="fixe"]])]),_:1})]),_:1},8,["value"]),e(M,{value:n.indexOf("confirmation"),class:"text-center"},{default:t(()=>[e(xe,{"append-icon":"mdi-check",variant:"outlined",onClick:_[15]||(_[15]=()=>de())},{default:t(()=>[k(r(s(a)("exportations.carte.confirmer")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["modelValue"])]),_:1}),e(ut),e(rt,null,{default:t(()=>[e(ct,{visible:g.value.visible,actif:g.value.actif,onRetour:R},null,8,["visible","actif"]),e(ye),e(dt,{visible:O.value.visible,actif:O.value.actif,onSuivant:F},null,8,["visible","actif"])]),_:1})]),_:1},8,["width"])]),_:3},8,["modelValue"]))}}),ia=vt({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:l=>typeof l=="boolean"||[1e3,1024].includes(Number(l))},...jt({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:l=>l.multiple?[]:null,validator:l=>Ke(l).every(o=>o!=null&&typeof o=="object")},...wt({clearable:!0})},"VFileInput"),ua=pt()({name:"VFileInput",inheritAttrs:!1,props:ia(),emits:{"click:control":l=>!0,"mousedown:control":l=>!0,"update:focused":l=>!0,"update:modelValue":l=>!0},setup(l,o){let{attrs:x,emit:m,slots:a}=o;const{t:c}=ft(),i=_t(l,"modelValue",l.modelValue,y=>Ke(y),y=>!l.multiple&&Array.isArray(y)?y[0]:y),{isFocused:p,focus:h,blur:S}=bt(l),n=q(()=>typeof l.showSize!="boolean"?l.showSize:void 0),v=q(()=>(i.value??[]).reduce((y,T)=>{let{size:W=0}=T;return y+W},0)),w=q(()=>Se(v.value,n.value)),F=q(()=>(i.value??[]).map(y=>{const{name:T="",size:W=0}=y;return l.showSize?`${T} (${Se(W,n.value)})`:T})),R=q(()=>{const y=i.value?.length??0;return l.showSize?c(l.counterSizeString,y,w.value):c(l.counterString,y)}),O=b(),g=b(),j=b(),I=q(()=>p.value||l.active),ae=q(()=>["plain","underlined"].includes(l.variant));function D(){j.value!==document.activeElement&&j.value?.focus(),p.value||h()}function C(y){j.value?.click()}function f(y){m("mousedown:control",y)}function oe(y){j.value?.click(),m("click:control",y)}function G(y){y.stopPropagation(),D(),St(()=>{i.value=[],Ct(l["onClick:clear"],y)})}function J(y){y.preventDefault()}function H(y){y.preventDefault(),y.dataTransfer&&(i.value=[...y.dataTransfer.files??[]])}return yt(i,y=>{(!Array.isArray(y)||!y.length)&&j.value&&(j.value.value="")}),xt(()=>{const y=!!(a.counter||l.counter),T=!!(y||a.details),[W,ve]=Vt(x),{modelValue:fe,..._e}=Ce.filterProps(l),ce=ht(l);return e(Ce,B({ref:O,modelValue:l.multiple?i.value:i.value[0],class:["v-file-input",{"v-file-input--chips":!!l.chips,"v-file-input--hide":l.hideInput,"v-input--plain-underlined":ae.value},l.class],style:l.style,"onClick:prepend":C},W,_e,{centerAffix:!ae.value,focused:p.value}),{...a,default:ee=>{let{id:be,isDisabled:de,isDirty:me,isReadonly:N,isValid:_}=ee;return e($t,B({ref:g,"prepend-icon":l.prependIcon,onMousedown:f,onClick:oe,"onClick:clear":G,"onClick:prependInner":l["onClick:prependInner"],"onClick:appendInner":l["onClick:appendInner"]},ce,{id:be.value,active:I.value||me.value,dirty:me.value||l.dirty,disabled:de.value,focused:p.value,error:_.value===!1,onDragover:J,onDrop:H}),{...a,default:u=>{let{props:{class:ne,...Qe}}=u;return e(se,null,[e("input",B({ref:j,type:"file",readonly:N.value,disabled:de.value,multiple:l.multiple,name:l.name,onClick:Q=>{Q.stopPropagation(),N.value&&Q.preventDefault(),D()},onChange:Q=>{if(!Q.target)return;const Xe=Q.target;i.value=[...Xe.files??[]]},onFocus:D,onBlur:S},Qe,ve),null),e("div",{class:ne},[!!i.value?.length&&!l.hideInput&&(a.selection?a.selection({fileNames:F.value,totalBytes:v.value,totalBytesReadable:w.value}):l.chips?F.value.map(Q=>e(le,{key:Q,size:"small",text:Q},null)):F.value.join(", "))])])}})},details:T?ee=>e(se,null,[a.details?.(ee),y&&e(se,null,[e("span",null,null),e(kt,{active:!!i.value?.length,value:R.value,disabled:l.disabled},a.counter)])]):void 0})}),gt({},O,g,j)}}),ra={class:"font-weight-bold"},ca={class:"text-medium-emphasis text-caption"},da={class:"font-weight-bold"},ma={class:"text-medium-emphasis text-caption"},pa={key:0,class:"my-1 text-medium-emphasis text-caption"},va={key:1,class:"my-1 text-medium-emphasis text-caption"},fa={class:"font-weight-bold"},_a={class:"d-flex vertical-align"},ba={class:"text-medium-emphasis text-caption",style:{display:"flex","align-items":"center"}},ya={key:0,class:"my-1 text-medium-emphasis text-caption"},xa={class:"font-weight-bold"},Va={class:"text-medium-emphasis text-caption"},qa=z({__name:"NouvelleImportation",props:{infoObjet:{}},setup(l){const o=l,{mdAndUp:x}=we(),{மொழியாக்கம்_பயன்படுத்து:m}=L(),{$மொ:a}=m(),c=b(!1),i=["objetConstellation","sourceImportation","correspondancesImportation","automatiser","confirmation"],p=b(i.indexOf(o.infoObjet?"sourceImportation":"objetConstellation")),h=q(()=>{switch(i[p.value]){case"objetConstellation":return"importations.carte.titreObjetConstellation";case"sourceImportation":return"importations.carte.titreSourceImportation";case"correspondancesImportation":return"importations.carte.titreCorrespondancesImportation";case"confirmation":return"importations.carte.titreconfirmation";default:return""}}),S=b(o.infoObjet?.typeObjet),n=b(o.infoObjet?.id),v=b(),w=b();X(()=>{v.value&&(w.value=void 0)}),X(()=>{w.value&&(v.value=void 0)});const F=b(),R=b(),O=b(!1);X(()=>{const D=v.value?.[0].name||w.value;R.value=D?.split(".").pop()}),X(async()=>{if(w.value)try{const D=await qt.get(w.value);F.value=D.data}catch{O.value=!0}else v.value?F.value=new Uint8Array(await v.value[0].arrayBuffer()):F.value=void 0});const g=b("manuelle"),j=b(1),I=b("jours"),ae=["années","mois","semaines","jours","heures","minutes","secondes","millisecondes"];return(D,C)=>(d(),$(Ne,{modelValue:c.value,"onUpdate:modelValue":C[10]||(C[10]=f=>c.value=f)},{activator:t(({props:f})=>[We(D.$slots,"activator",je(ke({props:f})))]),default:t(()=>[e(Pe,{class:"mx-auto","max-width":s(x)?500:300},{default:t(()=>[e(Ae,null,{default:t(()=>[e(Te,{class:"d-flex"},{default:t(()=>[k(r(s(a)(h.value))+" ",1),e(ye),e(xe,{icon:"mdi-close",size:"small",variant:"flat",onClick:C[0]||(C[0]=f=>c.value=!1)})]),_:1})]),_:1}),e(Be,null,{default:t(()=>[e(Re,{modelValue:p.value,"onUpdate:modelValue":C[9]||(C[9]=f=>p.value=f),style:{"overflow-y":"scroll"}},{default:t(()=>[e(M,{value:i.indexOf("objetConstellation")},{default:t(()=>[e(Ee,{modelValue:S.value,"onUpdate:modelValue":C[1]||(C[1]=f=>S.value=f),color:"primary",mandatory:""},{default:t(()=>[(d(),E(se,null,ze(["tableau","bd"],f=>e(le,{key:f,class:"mx-2",variant:"outlined","prepend-icon":s(ge)(f)},null,8,["prepend-icon"])),64))]),_:1},8,["modelValue"]),S.value==="bd"?(d(),$(Me,{key:0,multiples:!1,onSelectionnee:C[2]||(C[2]=f=>n.value=f[0])})):S.value==="tableau"?(d(),$(Le,{key:1,multiples:!1,onSelectionne:C[3]||(C[3]=f=>n.value=f)})):A("",!0)]),_:1},8,["value"]),e(M,{value:i.indexOf("sourceImportation")},{default:t(()=>[e(ua,{modelValue:v.value,"onUpdate:modelValue":C[4]||(C[4]=f=>v.value=f),class:"mt-2",variant:"outlined",label:s(a)("importations.carte.étiquetteFichier")},null,8,["modelValue","label"]),e(Y,{modelValue:w.value,"onUpdate:modelValue":C[5]||(C[5]=f=>w.value=f),"prepend-icon":"mdi-web",variant:"outlined",label:s(a)("importations.carte.étiquetteURL")},null,8,["modelValue","label"]),k(" "+r(w.value)+" "+r(F.value),1)]),_:1},8,["value"]),e(M,{value:i.indexOf("correspondancesImportation")},null,8,["value"]),e(M,{value:i.indexOf("automatiser")},{default:t(()=>[V("p",null,r(s(a)("exportations.carte.automatiser")),1),e(He,{modelValue:g.value,"onUpdate:modelValue":C[8]||(C[8]=f=>g.value=f)},{default:t(()=>[e(Z,{value:"manuelle",class:"my-2"},{label:t(()=>[V("div",null,[V("p",ra,r(s(a)("automatisations.fréquence.manuelle")),1),V("p",ca,r(s(a)("automatisations.fréquence.indiceManuelle")),1)])]),_:1}),e(Z,{value:"dynamique",class:"my-2",disabled:!!w.value||s(P)},{label:t(()=>[V("div",null,[V("p",da,r(s(a)("automatisations.fréquence.dynamique")),1),V("p",ma,r(s(a)("automatisations.fréquence.indiceDynamique")),1),w.value?(d(),E("p",pa,[e(U,{icon:"mdi-alert-outline",start:""}),k(r(s(a)("automatisations.fréquence.pasDeSourceURL")),1)])):s(P)?(d(),E("p",va,[e(U,{icon:"mdi-alert-outline",start:""}),k(r(s(a)("automatisations.fréquence.pasSurNavig")),1)])):A("",!0)])]),_:1},8,["disabled"]),e(Z,{value:"fixe",class:"my-2",disabled:s(P)},{label:t(()=>[V("div",null,[V("p",fa,r(s(a)("automatisations.fréquence.fixe")),1),C[11]||(C[11]=V("p",{class:"text-medium-emphasis text-caption"},null,-1)),V("div",_a,[V("div",ba,r(s(a)("automatisations.fréquence.indiceFixe")),1),e(Y,{modelValue:j.value,"onUpdate:modelValue":C[6]||(C[6]=f=>j.value=f),class:"mx-1",variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue"]),e(te,{modelValue:I.value,"onUpdate:modelValue":C[7]||(C[7]=f=>I.value=f),items:ae,class:"mx-1",variant:"outlined",density:"compact","hide-details":""},{selection:t(({item:f})=>[k(r(s(a)(`automatisations.fréquence.unités.${f.raw}`)),1)]),item:t(({item:f,props:oe})=>[e(K,B(oe,{title:s(a)(`automatisations.fréquence.unités.${f.raw}`)}),null,16,["title"])]),_:1},8,["modelValue"])]),s(P)?(d(),E("p",ya,[e(U,{icon:"mdi-alert-outline",start:""}),k(r(s(a)("automatisations.fréquence.pasSurNavig")),1)])):A("",!0)])]),_:1},8,["disabled"]),e(Z,{value:"aucune",class:"my-2"},{label:t(()=>[V("div",null,[V("p",xa,r(s(a)("automatisations.fréquence.aucune")),1),V("p",Va,r(s(a)("automatisations.fréquence.indiceAucune")),1)])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["value"]),e(M,{value:i.indexOf("confirmation")},null,8,["value"])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["max-width"])]),_:3},8,["modelValue"]))}}),Da=z({__name:"OptionsDocumentsExportation",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:["update:modelValue"],setup(l){const{மொழியாக்கம்_பயன்படுத்து:o}=L(),{$மொ:x}=o(),{so:m}=Ue(),a=m==="androïde"||m==="iOS",c=pe(l,"modelValue");return(i,p)=>(d(),$(Ge,{modelValue:c.value,"onUpdate:modelValue":p[0]||(p[0]=h=>c.value=h),color:"primary","hide-details":""},{label:t(()=>[k(r(s(x)("exportations.carte.étiquetteInclureDocuments"))+" ",1),s(a)?A("",!0):(d(),$(Je,{key:0,location:"bottom",text:s(x)("exportations.carte.indiceInclureDocuments")},{activator:t(({props:h})=>[e(U,B(h,{icon:"mdi-information-outline",end:""}),null,16)]),_:1},8,["text"]))]),_:1},8,["modelValue"]))}}),Oa=z({__name:"OptionsFormatExportation",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(l){pe(l,"modelValue");const{மொழியாக்கம்_பயன்படுத்து:o}=L(),{$மொ:x}=o(),m=b("ods"),a=["ods","csv","txt","xlsx","xls"];return(c,i)=>(d(),$(te,{modelValue:m.value,"onUpdate:modelValue":i[0]||(i[0]=p=>m.value=p),items:a,label:s(x)("exportations.carte.étiquetteFormatDoc"),class:"mt-2",variant:"outlined"},{selection:t(({item:p})=>[k(r(s(x)(`exportations.format.${p.raw}`)),1)]),item:t(({item:p,props:h})=>[e(K,B(h,{title:s(x)(`exportations.format.${p.raw}`)}),null,16,["title"])]),_:1},8,["modelValue","label"]))}});export{qa as _,Ca as a,Sa as b,Oa as c,Rt as d,Da as e,At as f,Ht as g,Bt as h,Tt as i};
//# sourceMappingURL=OptionsFormatExportation.vue_vue_type_script_setup_true_lang-D4IotNVi.js.map
