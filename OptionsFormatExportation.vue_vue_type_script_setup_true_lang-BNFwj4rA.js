import{e1 as Be,e2 as De,e3 as gt,e4 as Ee,e5 as he,e6 as Re,e7 as _e,e8 as xt,e9 as Vt,ea as jt,eb as ht,ec as $t,ed as wt,ee as Tt,ef as St,d as N,ம as R,p as J,r as V,o as Me,q as S,eg as Le,c as h,a as m,O as le,w as o,f as T,t as c,h as n,B as $e,G as I,cQ as Ct,b as t,az as pe,s as ie,A as U,aA as we,M as G,F as P,aq as ze,v as H,dR as ye,க as kt,aQ as Dt,n as Te,cU as Ge,aX as ae,a8 as Se,c5 as Ot,dS as Oe,z as _,a1 as Z,K as L,I as Ce,J as ke,as as Je,Q as se,an as qt,cu as At,eh as It,au as We,dT as E,x as Ke,V as Qe,i as Xe,e as Ye,y as Ve,j as je,m as He,T as Ze,W as z,bt as et,N as tt,c1 as at,ei as nt,ah as ot,ai as st,aK as lt,aL as ee,ac as Ft,ad as Ut,R as Pt,aj as Nt,br as Bt,bs as Et,H as it,ej as Rt,b8 as Mt,b9 as Lt,bd as zt,bc as Gt,df as ut,bb as Jt,ek as qe,bf as Wt,cY as Kt,aP as Qt,bh as Xt,bi as Yt,cj as Ae,bk as Ie,dC as Ht,bp as Zt,cm as ea,el as ta,bg as aa,em as na,en as oa}from"./index-B5veLJsJ.js";import{c as sa}from"./SélecteurNuée.vue_vue_type_script_setup_true_lang-Clu144H5.js";import{_ as la}from"./RésultatRechercheProjet.vue_vue_type_script_setup_true_lang-CddIBTEj.js";import{_ as ia}from"./CarteProjet.vue_vue_type_script_setup_true_lang-DnoP9Ppd.js";import{_ as ua}from"./NouveauProjet.vue_vue_type_script_setup_true_lang-DAiguM1w.js";function ra(e,s){for(var i=-1,a=e==null?0:e.length;++i<a&&s(e[i],i,e)!==!1;);return e}var ca=Object.prototype,da=ca.hasOwnProperty;function ma(e){var s=e.length,i=new e.constructor(s);return s&&typeof e[0]=="string"&&da.call(e,"index")&&(i.index=e.index,i.input=e.input),i}function pa(e,s){var i=Be(e.buffer);return new e.constructor(i,e.byteOffset,e.byteLength)}var fa=/\w*$/;function va(e){var s=new e.constructor(e.source,fa.exec(e));return s.lastIndex=e.lastIndex,s}var Fe=De?De.prototype:void 0,Ue=Fe?Fe.valueOf:void 0;function ba(e){return Ue?Object(Ue.call(e)):{}}var _a="[object Boolean]",ya="[object Date]",ga="[object Map]",xa="[object Number]",Va="[object RegExp]",ja="[object Set]",ha="[object String]",$a="[object Symbol]",wa="[object ArrayBuffer]",Ta="[object DataView]",Sa="[object Float32Array]",Ca="[object Float64Array]",ka="[object Int8Array]",Da="[object Int16Array]",Oa="[object Int32Array]",qa="[object Uint8Array]",Aa="[object Uint8ClampedArray]",Ia="[object Uint16Array]",Fa="[object Uint32Array]";function Ua(e,s,i){var a=e.constructor;switch(s){case wa:return Be(e);case _a:case ya:return new a(+e);case Ta:return pa(e);case Sa:case Ca:case ka:case Da:case Oa:case qa:case Aa:case Ia:case Fa:return gt(e,i);case ga:return new a;case xa:case ha:return new a(e);case Va:return va(e);case ja:return new a;case $a:return ba(e)}}var Pa="[object Map]";function Na(e){return Ee(e)&&he(e)==Pa}var Pe=_e&&_e.isMap,Ba=Pe?Re(Pe):Na,Ea="[object Set]";function Ra(e){return Ee(e)&&he(e)==Ea}var Ne=_e&&_e.isSet,Ma=Ne?Re(Ne):Ra,La=1,rt="[object Arguments]",za="[object Array]",Ga="[object Boolean]",Ja="[object Date]",Wa="[object Error]",ct="[object Function]",Ka="[object GeneratorFunction]",Qa="[object Map]",Xa="[object Number]",dt="[object Object]",Ya="[object RegExp]",Ha="[object Set]",Za="[object String]",en="[object Symbol]",tn="[object WeakMap]",an="[object ArrayBuffer]",nn="[object DataView]",on="[object Float32Array]",sn="[object Float64Array]",ln="[object Int8Array]",un="[object Int16Array]",rn="[object Int32Array]",cn="[object Uint8Array]",dn="[object Uint8ClampedArray]",mn="[object Uint16Array]",pn="[object Uint32Array]",D={};D[rt]=D[za]=D[an]=D[nn]=D[Ga]=D[Ja]=D[on]=D[sn]=D[ln]=D[un]=D[rn]=D[Qa]=D[Xa]=D[dt]=D[Ya]=D[Ha]=D[Za]=D[en]=D[cn]=D[dn]=D[mn]=D[pn]=!0;D[Wa]=D[ct]=D[tn]=!1;function be(e,s,i,a,u,r){var l,p=s&La;if(l!==void 0)return l;if(!xt(e))return e;var $=Tt(e);if($)l=ma(e);else{var g=he(e),y=g==ct||g==Ka;if(Vt(e))return jt(e,p);if(g==dt||g==rt||y&&!u)l=y?{}:ht(e);else{if(!D[g])return u?e:{};l=Ua(e,g,p)}}r||(r=new $t);var j=r.get(e);if(j)return j;r.set(e,l),Ma(e)?e.forEach(function(C){l.add(be(C,s,i,C,e,r))}):Ba(e)&&e.forEach(function(C,f){l.set(f,be(C,s,i,f,e,r))});var A=wt,F=$?void 0:A(e);return ra(F||e,function(C,f){F&&(f=C,C=e[f]),St(l,f,be(C,s,i,f,e,r))}),l}var fn=1,vn=4;function me(e){return be(e,fn|vn)}const bn=N({__name:"JetonFichierExportation",props:{spécification:{}},setup(e){const s=e,{$மொ:i}=R(),a=J(),u=V();Me(async()=>{u.value=await a.obtIdDispositif()});const r=S(()=>!!u.value&&s.spécification.dispositifs.includes(u.value)),l=S(()=>r.value&&s.spécification.dossier===void 0),p=S(()=>typeof s.spécification.dossier=="string"),$=S(()=>s.spécification.dossier?Le.parse(s.spécification.dossier).base:"automatisations.fichierIntrouvable");return(g,y)=>(m(),h(le,{variant:"outlined",label:"",density:"compact"},{prepend:o(()=>[l.value?(m(),h($e,{key:0,class:"me-2",indeterminate:"",size:"15",width:"2",color:"primary"})):p.value?(m(),h(I,{key:1,start:""},{default:o(()=>y[0]||(y[0]=[T(" mdi-file-outline ")])),_:1,__:[0]})):(m(),h(I,{key:2,color:"error"},{default:o(()=>y[1]||(y[1]=[T(" mdi-alert ")])),_:1,__:[1]}))]),default:o(()=>[T(" "+c(n(i)($.value)),1)]),_:1}))}}),mt=N({__name:"JetonStatutAutomatisation",props:{statut:{}},setup(e){const{$மொ:s}=R(),i=e,a=S(()=>{switch(i.statut.type){case"erreur":return{icône:"mdi-alert",couleur:"error"};case"programmée":return{icône:"mdi-check",couleur:"success"};case"sync":return{icône:"mdi-sync",couleur:"primary"};case"écoute":return{icône:"",couleur:"success"};default:throw new Error(JSON.stringify(i.statut))}}),u=V(new Date().getTime());let r;Me(()=>{r=window.setInterval(()=>u.value=new Date().getTime(),1e3)}),Ct(()=>{r&&clearInterval(r)});const l=S(()=>{switch(i.statut.type){case"écoute":return"automatisations.jetonStatut.écoute";case"sync":return s("automatisations.jetonStatut.sync",{depuis:u.value-i.statut.depuis});case"programmée":return s("automatisations.jetonStatut.programmée",{dans:i.statut.à-u.value});case"erreur":return i.statut.prochaineProgramméeÀ?s("automatisations.jetonStatut.erreurRéssayer",{dans:i.statut.prochaineProgramméeÀ-u.value}):"automatisations.jetonStatut.erreur";default:throw new Error(i.statut)}});return(p,$)=>(m(),h(le,{label:"",density:"compact",variant:"outlined"},{prepend:o(()=>[p.statut.type==="sync"?(m(),h($e,{key:0,indeterminate:""},{default:o(()=>[t(I,{color:a.value.couleur},{default:o(()=>[T(c(a.value.icône),1)]),_:1},8,["color"])]),_:1})):(m(),h(I,{key:1,start:"",color:a.value.couleur},{default:o(()=>[T(c(a.value.icône),1)]),_:1},8,["color"]))]),default:o(()=>[T(" "+c(n(s)(l.value)),1)]),_:1}))}}),_n=N({__name:"NomBd",props:{idBd:{}},setup(e){const s=e,{$மொ:i}=R(),a=J(),{அகராதியிலிருந்து_மொழிபெயர்ப்பு:u}=pe(),r=ie(a.bds.suivreNomsBd,{idBd:S(()=>s.idBd)}),l=u(r);return(p,$)=>(m(),U("span",null,c(n(l)||n(i)("bds.sansNom")),1))}}),yn=N({__name:"NomNuée",props:{idNuee:{}},setup(e){const s=e,{$மொ:i}=R(),a=J(),{அகராதியிலிருந்து_மொழிபெயர்ப்பு:u}=pe(),r=ie(a.nuées.suivreNomsNuée,{idNuée:S(()=>s.idNuee)}),l=u(r);return(p,$)=>(m(),U("span",null,c(n(l)||n(i)("nuées.sansNom")),1))}}),gn=N({__name:"NomProjet",props:{idProjet:{}},setup(e){const s=e,{$மொ:i}=R(),a=J(),{அகராதியிலிருந்து_மொழிபெயர்ப்பு:u}=pe(),r=ie(a.projets.suivreNomsProjet,{idProjet:S(()=>s.idProjet)}),l=u(r);return(p,$)=>(m(),U("span",null,c(n(l)||n(i)("projets.sansNom")),1))}}),pt=N({__name:"NomTableau",props:{idTableau:{}},setup(e){const s=e,{$மொ:i}=R(),a=J(),{அகராதியிலிருந்து_மொழிபெயர்ப்பு:u}=pe(),r=ie(a.tableaux.suivreNomsTableau,{idTableau:S(()=>s.idTableau)}),l=u(r);return(p,$)=>(m(),U("span",null,c(n(l)||n(i)("tableaux.sansNom")),1))}}),io=N({__name:"ItemAutomatisationExportation",props:{specification:{}},setup(e){const s=e,i=J(),a=S(()=>we(s.specification.typeObjet)),u=ie(i.automatisations.suivreÉtatAutomatisations),r=S(()=>u.value?u.value[s.specification.id]:void 0);return(l,p)=>(m(),h(G,null,{prepend:o(()=>[t(I,null,{default:o(()=>p[0]||(p[0]=[T("mdi-export")])),_:1,__:[0]})]),default:o(()=>[t(ze,null,{default:o(()=>[t(I,null,{default:o(()=>[T(c(a.value),1)]),_:1}),l.specification.typeObjet==="tableau"?(m(),h(pt,{key:0,"id-tableau":l.specification.idObjet},null,8,["id-tableau"])):l.specification.typeObjet==="bd"?(m(),h(_n,{key:1,"id-bd":l.specification.idObjet},null,8,["id-bd"])):l.specification.typeObjet==="nuée"?(m(),h(yn,{key:2,"id-nuee":l.specification.idObjet},null,8,["id-nuee"])):l.specification.typeObjet==="projet"?(m(),h(gn,{key:3,"id-projet":l.specification.idObjet},null,8,["id-projet"])):P("",!0)]),_:1}),t(bn,{class:"mx-2 my-2",spécification:l.specification},null,8,["spécification"]),r.value?(m(),h(mt,{key:0,statut:r.value},null,8,["statut"])):P("",!0)]),_:1}))}}),xn=N({__name:"JetonFichierImportation",props:{spécification:{}},setup(e){const s=e,{$மொ:i}=R(),a=J(),u=S(()=>s.spécification.source.typeSource==="fichier"?l.value===void 0:!1),r=S(()=>s.spécification.source.typeSource==="url"||typeof l.value=="string"),l=V();H(async()=>{s.spécification.source.typeSource==="fichier"&&(l.value=await a.automatisations.résoudreAdressePrivéeFichier({clef:s.spécification.source.adresseFichier}))});const p=S(()=>s.spécification.source.typeSource==="fichier"?"mdi-file":"mdi-web"),$=S(()=>s.spécification.source.typeSource==="fichier"?l.value===void 0?"automatisations.rechercheFichier":l.value===null?"automatisations.fichierIntrouvable":Le.parse(l.value).base:s.spécification.source.url.slice(-10)+i("communs.troisPetitsPoints"));return(g,y)=>(m(),h(le,null,{prepend:o(()=>[u.value?(m(),h($e,{key:0,indeterminate:"",color:"primary"})):r.value?(m(),h(I,{key:1},{default:o(()=>[T(c(p.value),1)]),_:1})):(m(),h(I,{key:2,color:"error"},{default:o(()=>y[0]||(y[0]=[T(" mdi-alert ")])),_:1,__:[0]}))]),default:o(()=>[T(" "+c(n(i)($.value)),1)]),_:1}))}}),uo=N({__name:"ItemAutomatisationImportation",props:{specification:{}},setup(e){const s=e,i=J(),a=ie(i.automatisations.suivreÉtatAutomatisations),u=S(()=>a.value?a.value[s.specification.id]:void 0);return(r,l)=>(m(),h(G,null,{prepend:o(()=>[t(I,null,{default:o(()=>l[0]||(l[0]=[T("mdi-import")])),_:1,__:[0]})]),default:o(()=>[t(ze,null,{default:o(()=>[t(I,null,{default:o(()=>l[1]||(l[1]=[T("mdi-table")])),_:1,__:[1]}),t(pt,{"id-tableau":r.specification.idTableau},null,8,["id-tableau"])]),_:1}),t(xn,{spécification:r.specification},null,8,["spécification"]),u.value?(m(),h(mt,{key:0,statut:u.value},null,8,["statut"])):P("",!0)]),_:1}))}}),Vn=N({__name:"OptionsLanguesExportation",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const s=ye(e,"modelValue"),{$மொ:i}=R(),{மொழி:a,மாற்றுமொழிகள்:u}=pe(),{மொழிகளும்_குறியீடுகளும்:r}=kt(),l=S(()=>r.value.map(p=>p.மொழி));return H(()=>{s.value=[a.value,...u.value].map(p=>r.value.find($=>$.குறியீடு===p)?.மொழி||p)}),(p,$)=>(m(),h(Dt,{modelValue:s.value,"onUpdate:modelValue":$[0]||($[0]=g=>s.value=g),items:l.value,label:n(i)("exportations.carte.étiquetteLangues"),variant:"outlined",multiple:"",chips:"","closable-chips":"","hide-details":""},null,8,["modelValue","items","label"]))}}),jn={key:0,class:"d-flex"},hn={class:"my-auto"},$n={key:0,class:"d-flex"},wn={key:0,class:"d-flex"},Tn={class:"my-auto"},Sn={key:1,class:"d-flex"},Cn=N({__name:"OptionsSauvegardesMultiples",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const{mdAndUp:s}=Te(),{$மொ:i}=R(),a=Ge(),u=ye(e,"modelValue"),r=V(u.value?.type?u.value.type:"aucune"),l=["aucune","n","temps"],p=V(u.value?.type==="n"?u.value.n.toString():"1"),$=S(()=>a.எண்ணுக்கு({உரை:p.value})),g=V(u.value?.type==="temps"?u.value.temps.détails.n.toString():"1"),y=S(()=>a.எண்ணுக்கு({உரை:g.value})),j=V(u.value?.type==="temps"?u.value.temps.détails.unités:"jours"),A=["années","mois","semaines","jours","heures","minutes","secondes","millisecondes"];return H(()=>{switch(r.value){case"aucune":u.value=void 0;break;case"n":{const F={type:"n",n:$.value};u.value=F;break}case"temps":{const F={type:"temps",temps:{type:"fixe",détails:{unités:j.value,n:y.value}}};u.value=F;break}}}),(F,C)=>(m(),U(se,null,[t(ae,{modelValue:r.value,"onUpdate:modelValue":C[3]||(C[3]=f=>r.value=f),class:Se(n(s)?["mb-4"]:["mb-2"]),items:l,variant:"outlined",density:"compact","hide-details":""},Ot({item:o(({props:f,item:O})=>[t(G,Ce(ke({...f,title:n(i)(`automatisations.sauvegardes.sélection.${O.raw}.item`)})),null,16)]),selection:o(({item:f})=>[T(c(n(i)(`automatisations.sauvegardes.sélection.${f.raw}.sélection`)),1)]),_:2},[n(s)?{name:"append",fn:o(()=>[t(Oe,null,{default:o(()=>[r.value==="n"?(m(),U("div",jn,[t(Z,{modelValue:p.value,"onUpdate:modelValue":C[0]||(C[0]=f=>p.value=f),class:"mx-1 me-3",variant:"outlined","hide-details":"",density:"compact"},null,8,["modelValue"]),_("span",hn,c(n(i)("automatisations.sauvegardes.sélection.n.sauvegardes")),1)])):P("",!0)]),_:1}),t(Oe,null,{default:o(()=>[r.value==="temps"?(m(),U("div",$n,[t(Z,{modelValue:g.value,"onUpdate:modelValue":C[1]||(C[1]=f=>g.value=f),variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue"]),t(ae,{modelValue:j.value,"onUpdate:modelValue":C[2]||(C[2]=f=>j.value=f),items:A,class:"ms-2",variant:"outlined",density:"compact","hide-details":""},{selection:o(({item:f})=>[T(c(n(i)(`automatisations.fréquence.unités.${f.raw}`)),1)]),item:o(({item:f,props:O})=>[t(G,L(O,{title:n(i)(`automatisations.fréquence.unités.${f.raw}`)}),null,16,["title"])]),_:1},8,["modelValue"])])):P("",!0)]),_:1})]),key:"0"}:void 0]),1032,["modelValue","class"]),n(s)?P("",!0):(m(),h(Je,{key:0},{default:o(()=>[r.value==="n"?(m(),U("div",wn,[t(Z,{modelValue:p.value,"onUpdate:modelValue":C[4]||(C[4]=f=>p.value=f),class:"mx-1 me-3",variant:"outlined","hide-details":"",density:"compact"},null,8,["modelValue"]),_("span",Tn,c(n(i)("automatisations.sauvegardes.sélection.n.sauvegardes")),1)])):P("",!0),r.value==="temps"?(m(),U("div",Sn,[t(Z,{modelValue:g.value,"onUpdate:modelValue":C[5]||(C[5]=f=>g.value=f),variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue"]),t(ae,{modelValue:j.value,"onUpdate:modelValue":C[6]||(C[6]=f=>j.value=f),items:A,class:"ms-2",variant:"outlined",density:"compact","hide-details":""},{selection:o(({item:f})=>[T(c(n(i)(`automatisations.fréquence.unités.${f.raw}`)),1)]),item:o(({item:f,props:O})=>[t(G,L(O,{title:n(i)(`automatisations.fréquence.unités.${f.raw}`)}),null,16,["title"])]),_:1},8,["modelValue"])])):P("",!0)]),_:1}))],64))}}),kn=N({__name:"SélecteurProjet",props:{multiples:{type:Boolean},originaux:{}},emits:["selectionne"],setup(e,{emit:s}){const i=s,{$மொ:a}=R(),u=J(),r=V([]);H(()=>{i("selectionne",r.value)});const l=V(),{résultats:p,onTravaille:$}=qt(u.recherche.rechercherProjetsSelonTexte,{texte:l});return(g,y)=>(m(),h(At,{multiples:g.multiples,originaux:g.originaux,"resultats-recherche":n(p),"on-travaille":n($),"texte-etiquette-recherche":n(a)("projets.recherche.étiquette"),"texte-aucun-résultat":n(a)("projets.recherche.aucunRésultat"),onSelectionnee:y[0]||(y[0]=j=>r.value=j),onRequeteModifiee:y[1]||(y[1]=j=>l.value=j)},{résultat:o(({résultat:j,click:A})=>[t(la,{résultat:j,onClick:A},null,8,["résultat","onClick"])]),"jeton-objet":o(({id:j,deselectionner:A})=>[t(ia,{id:j},{activateur:o(({props:F})=>[t(It,L({props:F},{id:j,class:"me-1 mb-1"}),{default:o(()=>[t(I,{class:"ms-2",icon:"mdi-close",size:"small",variant:"flat",onClick:()=>A({id:j})},null,8,["onClick"])]),_:2},1040,["id"])]),_:2},1032,["id"])]),nouveau:o(({nouveau:j})=>[t(ua,{onNouveau:j},{activateur:o(({props:A})=>[t(G,L(A,{title:n(a)("projets.nouveau.btn"),"prepend-icon":"mdi-plus"}),null,16,["title"])]),_:2},1032,["onNouveau"])]),_:1},8,["multiples","originaux","resultats-recherche","on-travaille","texte-etiquette-recherche","texte-aucun-résultat"]))}}),Dn={class:"font-weight-bold"},On={class:"text-medium-emphasis text-caption"},qn={class:"font-weight-bold"},An={class:"text-medium-emphasis text-caption"},In={key:0,class:"my-1 text-medium-emphasis text-caption"},Fn={class:"font-weight-bold"},Un={class:"text-medium-emphasis text-caption",style:{display:"flex","align-items":"center"}},Pn={class:"d-flex"},Nn={key:0,class:"my-1 text-medium-emphasis text-caption"},Bn={class:"font-weight-bold"},En={class:"text-medium-emphasis text-caption"},Rn={class:"my-2"},ro=N({__name:"NouvelleExportation",props:{infoObjet:{},idBd:{}},setup(e){const s=e,{mdAndUp:i}=Te(),{$மொ:a}=R(),u=Ge(),{so:r}=We(),l=r==="androïde"||r==="iOS",p=J(),$=V(!1),g=["objetConstellation","destination","format","automatiser","confirmation"],y=V(g.indexOf(s.infoObjet?E?"format":"destination":"objetConstellation")),j=S(()=>{switch(g[y.value]){case"objetConstellation":return"exportations.carte.titreObjetConstellation";case"destination":return"exportations.carte.titreDestination";case"format":return"exportations.carte.titreFormat";case"automatiser":return"exportations.carte.titreAutomatiser";case"confirmation":return"exportations.carte.titreConfirmation";default:return""}}),A=()=>{switch(g[y.value]){case"objetConstellation":y.value=g.indexOf(E?"format":"destination");break;default:y.value++;break}},F=()=>{switch(g[y.value]){case"format":y.value=g.indexOf(E?"objetConstellation":"destination");break;default:y.value--;break}},C=S(()=>{switch(g[y.value]){case"objetConstellation":return{actif:!!k.value,visible:!0};case"destination":return{actif:!!q.value,visible:!0};case"format":return{actif:!!v.value,visible:!0};case"automatiser":return{actif:!!Q.value,visible:!0};case"confirmation":return{actif:!1,visible:!1};default:return{actif:!0,visible:!0}}}),f=S(()=>{switch(g[y.value]){case"objetConstellation":return{actif:!1,visible:!1};case"destination":return{actif:!s.infoObjet,visible:!s.infoObjet};case"format":return{actif:!s.infoObjet||!E,visible:!s.infoObjet||!E};case"confirmation":return{actif:!ge.value,visible:!0};default:return{actif:!0,visible:!0}}}),O=V(s.infoObjet?.typeObjet||"bd"),k=V(s.infoObjet?.id),ue=[{type:"tableau",texte:"pages.mesDonnées.tableaux"},{type:"bd",texte:"pages.mesDonnées.bds"},{type:"projet",texte:"pages.mesDonnées.projets"},{type:"nuée",texte:"pages.mesDonnées.nuées"}],q=V(),w=async()=>{(q.value===""||!q.value)&&(q.value=await Rt())},v=V("ods"),re=["ods","csv","txt","xlsx","xls"],W=V(),K=V(!0),Q=V(E?"manuelle":"fixe"),ne=V("1"),te=S(()=>{try{return u.எண்ணுக்கு({உரை:ne.value})}catch{return}}),ce=V("jours"),x=["années","mois","semaines","jours","heures","minutes","secondes","millisecondes"],M=B=>{try{return u.எண்ணுக்கு({உரை:B}),!0}catch{return a("règles.numérique")}},X=B=>(B|0)===B,fe=()=>te.value!==void 0&&te.value>0&&X(te.value)?!0:a("règles.nombreEntierPositif"),ve=V(),ge=V(!1),xe=async()=>{if(!(!q.value||!k.value||!O.value)){if(Q.value==="aucune")O.value==="tableau"?await p.tableaux.exporterTableauÀFichier(me({idTableau:k.value,langues:W.value,formatDoc:v.value,dossier:q.value,inclureDocuments:K.value})):O.value==="bd"?await p.bds.exporterBdÀFichier(me({idBd:k.value,langues:W.value,formatDoc:v.value,dossier:q.value,inclureDocuments:K.value})):O.value==="nuée"?await p.nuées.exporterNuéeÀFichier(me({idNuée:k.value,langues:W.value,formatDoc:v.value,dossier:q.value,inclureDocuments:K.value})):O.value==="projet"&&await p.projets.exporterProjetÀFichier(me({idProjet:k.value,langues:W.value,formatDoc:v.value,dossier:q.value,inclureDocuments:K.value}));else{if(!te.value)return;await p.automatisations.ajouterAutomatisationExporter(me({id:k.value,typeObjet:O.value,formatDoc:v.value,inclureDocuments:K.value,dossier:q.value,langues:W.value,fréquence:{type:Q.value,détails:{n:te.value,unités:ce.value}},copies:ve.value}))}de()}},de=()=>{$.value=!1};return(B,b)=>(m(),h(Ke,{modelValue:$.value,"onUpdate:modelValue":b[17]||(b[17]=d=>$.value=d)},{activator:o(({props:d})=>[it(B.$slots,"activateur",Ce(ke({props:d})))]),default:o(()=>[t(Qe,{class:"mx-auto",width:n(i)?600:"90%"},{default:o(()=>[t(Xe,null,{default:o(()=>[t(Ye,{class:"d-flex align-center"},{default:o(()=>[T(c(n(a)(j.value))+" ",1),t(Ve),t(je,{icon:"mdi-close",size:"small",variant:"flat",onClick:b[0]||(b[0]=d=>$.value=!1)})]),_:1})]),_:1}),t(He,{style:{"overflow-y":"auto"}},{default:o(()=>[t(Ze,{modelValue:y.value,"onUpdate:modelValue":b[16]||(b[16]=d=>y.value=d),style:{"overflow-y":"scroll"},disabled:""},{default:o(()=>[t(z,{value:g.indexOf("objetConstellation")},{default:o(()=>[t(et,{modelValue:O.value,"onUpdate:modelValue":b[1]||(b[1]=d=>O.value=d),color:"primary",mandatory:""},{default:o(()=>[(m(),U(se,null,tt(ue,d=>t(le,{key:d.type,value:d.type,text:n(a)(d.texte),class:"mx-2",variant:"outlined","prepend-icon":n(we)(d.type)},null,8,["value","text","prepend-icon"])),64))]),_:1},8,["modelValue"]),O.value==="bd"?(m(),h(at,{key:0,multiples:!1,onSelectionnee:b[2]||(b[2]=d=>k.value=d[0])})):O.value==="tableau"?(m(),h(nt,{key:1,"id-bd":B.idBd,multiples:!1,onSelectionne:b[3]||(b[3]=d=>k.value=d)},null,8,["id-bd"])):O.value==="projet"?(m(),h(kn,{key:2,multiples:!1,onSelectionne:b[4]||(b[4]=d=>k.value=d[0])})):O.value==="nuée"?(m(),h(sa,{key:3,multiples:!1,onSelectionnee:b[5]||(b[5]=d=>k.value=d[0])})):P("",!0)]),_:1},8,["value"]),t(z,{value:g.indexOf("destination")},{default:o(()=>[t(Z,{modelValue:q.value,"onUpdate:modelValue":b[6]||(b[6]=d=>q.value=d),label:n(a)("exportations.carte.étiquetteDestination"),class:"mt-2",variant:"outlined","prepend-icon":"mdi-folder-outline",density:"compact",clearable:"",onClick:b[7]||(b[7]=()=>w())},null,8,["modelValue","label"])]),_:1},8,["value"]),t(z,{value:g.indexOf("format")},{default:o(()=>[t(ae,{modelValue:v.value,"onUpdate:modelValue":b[8]||(b[8]=d=>v.value=d),items:re,label:n(a)("exportations.carte.étiquetteFormatDoc"),class:"mt-2",variant:"outlined"},{selection:o(({item:d})=>[T(c(n(a)(`exportations.format.${d.raw}`)),1)]),item:o(({item:d,props:oe})=>[t(G,L(oe,{title:n(a)(`exportations.format.${d.raw}`)}),null,16,["title"])]),_:1},8,["modelValue","label"]),t(Vn,{modelValue:W.value,"onUpdate:modelValue":b[9]||(b[9]=d=>W.value=d)},null,8,["modelValue"]),t(ot,{modelValue:K.value,"onUpdate:modelValue":b[10]||(b[10]=d=>K.value=d),color:"primary"},{label:o(()=>[T(c(n(a)("exportations.carte.étiquetteInclureDocuments"))+" ",1),n(l)?P("",!0):(m(),h(st,{key:0,location:"bottom",text:n(a)("exportations.carte.indiceInclureDocuments")},{activator:o(({props:d})=>[t(I,L(d,{icon:"mdi-information-outline",end:""}),null,16)]),_:1},8,["text"]))]),_:1},8,["modelValue"])]),_:1},8,["value"]),t(z,{value:g.indexOf("automatiser")},{default:o(()=>[_("p",null,c(n(a)("exportations.carte.automatiser")),1),t(lt,{modelValue:Q.value,"onUpdate:modelValue":b[13]||(b[13]=d=>Q.value=d)},{default:o(()=>[t(ee,{value:"manuelle",class:"my-2"},{label:o(()=>[_("div",null,[_("p",Dn,c(n(a)("automatisations.fréquence.manuelle")),1),_("p",On,c(n(a)("automatisations.fréquence.indiceManuelle")),1)])]),_:1}),t(ee,{value:"dynamique",class:"my-2",disabled:n(E)},{label:o(()=>[_("div",null,[_("p",qn,c(n(a)("automatisations.fréquence.dynamique")),1),_("p",An,c(n(a)("automatisations.fréquence.indiceDynamique")),1),n(E)?(m(),U("p",In,[t(I,{icon:"mdi-alert-outline",start:""}),T(c(n(a)("automatisations.fréquence.pasSurNavig")),1)])):P("",!0)])]),_:1},8,["disabled"]),t(ee,{value:"fixe",class:"my-2",disabled:n(E)},{label:o(()=>[_("div",null,[_("p",Fn,c(n(a)("automatisations.fréquence.fixe")),1),b[18]||(b[18]=_("p",{class:"text-medium-emphasis text-caption"},null,-1)),_("div",{class:Se({"d-flex":n(i)})},[_("div",Un,c(n(a)("automatisations.fréquence.indiceFixe")),1),_("div",Pn,[t(Z,{modelValue:ne.value,"onUpdate:modelValue":b[11]||(b[11]=d=>ne.value=d),class:"mx-1",variant:"outlined",density:"compact","hide-details":M(ne.value)===!0&&fe()===!0,rules:[M,fe]},null,8,["modelValue","hide-details","rules"]),t(ae,{modelValue:ce.value,"onUpdate:modelValue":b[12]||(b[12]=d=>ce.value=d),items:x,class:"mx-1",variant:"outlined",density:"compact","hide-details":""},{selection:o(({item:d})=>[T(c(n(a)(`automatisations.fréquence.unités.${d.raw}`)),1)]),item:o(({item:d,props:oe})=>[t(G,L(oe,{title:n(a)(`automatisations.fréquence.unités.${d.raw}`)}),null,16,["title"])]),_:1},8,["modelValue"])])],2),n(E)?(m(),U("p",Nn,[t(I,{icon:"mdi-alert-outline",start:""}),T(c(n(a)("automatisations.fréquence.pasSurNavig")),1)])):P("",!0)])]),_:1},8,["disabled"]),t(ee,{value:"aucune",class:"my-2"},{label:o(()=>[_("div",null,[_("p",Bn,c(n(a)("automatisations.fréquence.aucune")),1),_("p",En,c(n(a)("automatisations.fréquence.indiceAucune")),1)])]),_:1})]),_:1},8,["modelValue"]),t(Je,null,{default:o(()=>[Ft(_("div",null,[_("p",Rn,c(n(a)("exportations.carte.copies")),1),t(Cn,{modelValue:ve.value,"onUpdate:modelValue":b[14]||(b[14]=d=>ve.value=d)},null,8,["modelValue"])],512),[[Ut,Q.value==="dynamique"||Q.value==="fixe"]])]),_:1})]),_:1},8,["value"]),t(z,{value:g.indexOf("confirmation"),class:"text-center"},{default:o(()=>[t(je,{"append-icon":"mdi-check",variant:"outlined",onClick:b[15]||(b[15]=()=>xe())},{default:o(()=>[T(c(n(a)("exportations.carte.confirmer")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["modelValue"])]),_:1}),t(Pt),t(Nt,null,{default:o(()=>[t(Bt,{visible:f.value.visible,actif:f.value.actif,onRetour:F},null,8,["visible","actif"]),t(Ve),t(Et,{visible:C.value.visible,actif:C.value.actif,onSuivant:A},null,8,["visible","actif"])]),_:1})]),_:1},8,["width"])]),_:3},8,["modelValue"]))}}),Mn=Lt({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(Number(e))},...ea({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:e=>e.multiple?[]:null,validator:e=>ut(e).every(s=>s!=null&&typeof s=="object")},...Zt({clearable:!0})},"VFileInput"),Ln=Mt()({name:"VFileInput",inheritAttrs:!1,props:Mn(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,s){let{attrs:i,emit:a,slots:u}=s;const{t:r}=zt(),l=Gt(e,"modelValue",e.modelValue,x=>ut(x),x=>!e.multiple&&Array.isArray(x)?x[0]:x),{isFocused:p,focus:$,blur:g}=Jt(e),y=S(()=>typeof e.showSize!="boolean"?e.showSize:void 0),j=S(()=>(l.value??[]).reduce((x,M)=>{let{size:X=0}=M;return x+X},0)),A=S(()=>qe(j.value,y.value)),F=S(()=>(l.value??[]).map(x=>{const{name:M="",size:X=0}=x;return e.showSize?`${M} (${qe(X,y.value)})`:M})),C=S(()=>{const x=l.value?.length??0;return e.showSize?r(e.counterSizeString,x,A.value):r(e.counterString,x)}),f=V(),O=V(),k=V(),ue=Wt(()=>p.value||e.active),q=S(()=>["plain","underlined"].includes(e.variant)),w=Kt(!1);function v(){k.value!==document.activeElement&&k.value?.focus(),p.value||$()}function re(x){k.value?.click()}function W(x){a("mousedown:control",x)}function K(x){k.value?.click(),a("click:control",x)}function Q(x){x.stopPropagation(),v(),aa(()=>{l.value=[],na(e["onClick:clear"],x)})}function ne(x){x.preventDefault(),x.stopImmediatePropagation(),w.value=!0}function te(x){x.preventDefault(),w.value=!1}function ce(x){if(x.preventDefault(),x.stopImmediatePropagation(),w.value=!1,!x.dataTransfer?.files?.length||!k.value)return;const M=new DataTransfer;for(const X of x.dataTransfer.files)M.items.add(X);k.value.files=M.files,k.value.dispatchEvent(new Event("change",{bubbles:!0}))}return Qt(l,x=>{(!Array.isArray(x)||!x.length)&&k.value&&(k.value.value="")}),Xt(()=>{const x=!!(u.counter||e.counter),M=!!(x||u.details),[X,fe]=Yt(i),{modelValue:ve,...ge}=Ae.filterProps(e),xe=Ie.filterProps(e);return t(Ae,L({ref:f,modelValue:e.multiple?l.value:l.value[0],class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-file-input--dragging":w.value,"v-file-input--hide":e.hideInput,"v-input--plain-underlined":q.value},e.class],style:e.style,"onClick:prepend":re},X,ge,{centerAffix:!q.value,focused:p.value}),{...u,default:de=>{let{id:B,isDisabled:b,isDirty:d,isReadonly:oe,isValid:ft}=de;return t(Ie,L({ref:O,"prepend-icon":e.prependIcon,onMousedown:W,onClick:K,"onClick:clear":Q,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},xe,{id:B.value,active:ue.value||d.value,dirty:d.value||e.dirty,disabled:b.value,focused:p.value,error:ft.value===!1,onDragover:ne,onDrop:ce}),{...u,default:vt=>{let{props:{class:bt,..._t}}=vt;return _(se,null,[_("input",L({ref:k,type:"file",readonly:oe.value,disabled:b.value,multiple:e.multiple,name:e.name,onClick:Y=>{Y.stopPropagation(),oe.value&&Y.preventDefault(),v()},onChange:Y=>{if(!Y.target)return;const yt=Y.target;l.value=[...yt.files??[]]},onDragleave:te,onFocus:v,onBlur:g},_t,fe),null),_("div",{class:Se(bt)},[!!l.value?.length&&!e.hideInput&&(u.selection?u.selection({fileNames:F.value,totalBytes:j.value,totalBytesReadable:A.value}):e.chips?F.value.map(Y=>t(le,{key:Y,size:"small",text:Y},null)):F.value.join(", "))])])}})},details:M?de=>_(se,null,[u.details?.(de),x&&_(se,null,[_("span",null,null),t(ta,{active:!!l.value?.length,value:C.value,disabled:e.disabled},u.counter)])]):void 0})}),Ht({},f,O,k)}}),zn={class:"font-weight-bold"},Gn={class:"text-medium-emphasis text-caption"},Jn={class:"font-weight-bold"},Wn={class:"text-medium-emphasis text-caption"},Kn={key:0,class:"my-1 text-medium-emphasis text-caption"},Qn={key:1,class:"my-1 text-medium-emphasis text-caption"},Xn={class:"font-weight-bold"},Yn={class:"d-flex vertical-align"},Hn={class:"text-medium-emphasis text-caption",style:{display:"flex","align-items":"center"}},Zn={key:0,class:"my-1 text-medium-emphasis text-caption"},eo={class:"font-weight-bold"},to={class:"text-medium-emphasis text-caption"},co=N({__name:"NouvelleImportation",props:{infoObjet:{},idBd:{}},setup(e){const s=e,{mdAndUp:i}=Te(),{$மொ:a}=R(),u=V(!1),r=["objetConstellation","sourceImportation","correspondancesImportation","automatiser","confirmation"],l=V(r.indexOf(s.infoObjet?"sourceImportation":"objetConstellation")),p=S(()=>{switch(r[l.value]){case"objetConstellation":return"importations.carte.titreObjetConstellation";case"sourceImportation":return"importations.carte.titreSourceImportation";case"correspondancesImportation":return"importations.carte.titreCorrespondancesImportation";case"confirmation":return"importations.carte.titreconfirmation";default:return""}}),$=V(s.infoObjet?.typeObjet),g=V(s.infoObjet?.id),y=V(),j=V();H(()=>{y.value&&(j.value=void 0)}),H(()=>{j.value&&(y.value=void 0)});const A=V(),F=V(),C=V(!1);H(()=>{const q=y.value?.[0].name||j.value;F.value=q?.split(".").pop()}),H(async()=>{if(j.value)try{const q=await oa.get(j.value);A.value=q.data}catch{C.value=!0}else y.value?A.value=new Uint8Array(await y.value[0].arrayBuffer()):A.value=void 0});const f=V("manuelle"),O=V(1),k=V("jours"),ue=["années","mois","semaines","jours","heures","minutes","secondes","millisecondes"];return(q,w)=>(m(),h(Ke,{modelValue:u.value,"onUpdate:modelValue":w[10]||(w[10]=v=>u.value=v)},{activator:o(({props:v})=>[it(q.$slots,"activateur",Ce(ke({props:v})))]),default:o(()=>[t(Qe,{class:"mx-auto","max-width":n(i)?500:300},{default:o(()=>[t(Xe,null,{default:o(()=>[t(Ye,{class:"d-flex align-center"},{default:o(()=>[T(c(n(a)(p.value))+" ",1),t(Ve),t(je,{icon:"mdi-close",size:"small",variant:"flat",onClick:w[0]||(w[0]=v=>u.value=!1)})]),_:1})]),_:1}),t(He,null,{default:o(()=>[t(Ze,{modelValue:l.value,"onUpdate:modelValue":w[9]||(w[9]=v=>l.value=v),style:{"overflow-y":"scroll"}},{default:o(()=>[t(z,{value:r.indexOf("objetConstellation")},{default:o(()=>[t(et,{modelValue:$.value,"onUpdate:modelValue":w[1]||(w[1]=v=>$.value=v),color:"primary",mandatory:""},{default:o(()=>[(m(),U(se,null,tt(["tableau","bd"],v=>t(le,{key:v,class:"mx-2",variant:"outlined","prepend-icon":n(we)(v)},null,8,["prepend-icon"])),64))]),_:1},8,["modelValue"]),$.value==="bd"?(m(),h(at,{key:0,multiples:!1,onSelectionnee:w[2]||(w[2]=v=>g.value=v[0])})):$.value==="tableau"?(m(),h(nt,{key:1,multiples:!1,"id-bd":q.idBd,onSelectionne:w[3]||(w[3]=v=>g.value=v)},null,8,["id-bd"])):P("",!0)]),_:1},8,["value"]),t(z,{value:r.indexOf("sourceImportation")},{default:o(()=>[t(Ln,{modelValue:y.value,"onUpdate:modelValue":w[4]||(w[4]=v=>y.value=v),class:"mt-2",variant:"outlined",label:n(a)("importations.carte.étiquetteFichier")},null,8,["modelValue","label"]),t(Z,{modelValue:j.value,"onUpdate:modelValue":w[5]||(w[5]=v=>j.value=v),"prepend-icon":"mdi-web",variant:"outlined",label:n(a)("importations.carte.étiquetteURL")},null,8,["modelValue","label"]),T(" "+c(j.value)+" "+c(A.value),1)]),_:1},8,["value"]),t(z,{value:r.indexOf("correspondancesImportation")},null,8,["value"]),t(z,{value:r.indexOf("automatiser")},{default:o(()=>[_("p",null,c(n(a)("exportations.carte.automatiser")),1),t(lt,{modelValue:f.value,"onUpdate:modelValue":w[8]||(w[8]=v=>f.value=v)},{default:o(()=>[t(ee,{value:"manuelle",class:"my-2"},{label:o(()=>[_("div",null,[_("p",zn,c(n(a)("automatisations.fréquence.manuelle")),1),_("p",Gn,c(n(a)("automatisations.fréquence.indiceManuelle")),1)])]),_:1}),t(ee,{value:"dynamique",class:"my-2",disabled:!!j.value||n(E)},{label:o(()=>[_("div",null,[_("p",Jn,c(n(a)("automatisations.fréquence.dynamique")),1),_("p",Wn,c(n(a)("automatisations.fréquence.indiceDynamique")),1),j.value?(m(),U("p",Kn,[t(I,{icon:"mdi-alert-outline",start:""}),T(c(n(a)("automatisations.fréquence.pasDeSourceURL")),1)])):n(E)?(m(),U("p",Qn,[t(I,{icon:"mdi-alert-outline",start:""}),T(c(n(a)("automatisations.fréquence.pasSurNavig")),1)])):P("",!0)])]),_:1},8,["disabled"]),t(ee,{value:"fixe",class:"my-2",disabled:n(E)},{label:o(()=>[_("div",null,[_("p",Xn,c(n(a)("automatisations.fréquence.fixe")),1),w[11]||(w[11]=_("p",{class:"text-medium-emphasis text-caption"},null,-1)),_("div",Yn,[_("div",Hn,c(n(a)("automatisations.fréquence.indiceFixe")),1),t(Z,{modelValue:O.value,"onUpdate:modelValue":w[6]||(w[6]=v=>O.value=v),class:"mx-1",variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue"]),t(ae,{modelValue:k.value,"onUpdate:modelValue":w[7]||(w[7]=v=>k.value=v),items:ue,class:"mx-1",variant:"outlined",density:"compact","hide-details":""},{selection:o(({item:v})=>[T(c(n(a)(`automatisations.fréquence.unités.${v.raw}`)),1)]),item:o(({item:v,props:re})=>[t(G,L(re,{title:n(a)(`automatisations.fréquence.unités.${v.raw}`)}),null,16,["title"])]),_:1},8,["modelValue"])]),n(E)?(m(),U("p",Zn,[t(I,{icon:"mdi-alert-outline",start:""}),T(c(n(a)("automatisations.fréquence.pasSurNavig")),1)])):P("",!0)])]),_:1},8,["disabled"]),t(ee,{value:"aucune",class:"my-2"},{label:o(()=>[_("div",null,[_("p",eo,c(n(a)("automatisations.fréquence.aucune")),1),_("p",to,c(n(a)("automatisations.fréquence.indiceAucune")),1)])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["value"]),t(z,{value:r.indexOf("confirmation")},null,8,["value"])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["max-width"])]),_:3},8,["modelValue"]))}}),mo=N({__name:"OptionsDocumentsExportation",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:["update:modelValue"],setup(e){const{$மொ:s}=R(),{so:i}=We(),a=i==="androïde"||i==="iOS",u=ye(e,"modelValue");return(r,l)=>(m(),h(ot,{modelValue:u.value,"onUpdate:modelValue":l[0]||(l[0]=p=>u.value=p),color:"primary","hide-details":""},{label:o(()=>[T(c(n(s)("exportations.carte.étiquetteInclureDocuments"))+" ",1),n(a)?P("",!0):(m(),h(st,{key:0,location:"bottom",text:n(s)("exportations.carte.indiceInclureDocuments")},{activator:o(({props:p})=>[t(I,L(p,{icon:"mdi-information-outline",end:""}),null,16)]),_:1},8,["text"]))]),_:1},8,["modelValue"]))}}),po=N({__name:"OptionsFormatExportation",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){ye(e,"modelValue");const{$மொ:s}=R(),i=V("ods"),a=["ods","csv","txt","xlsx","xls"];return(u,r)=>(m(),h(ae,{modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=l=>i.value=l),items:a,label:n(s)("exportations.carte.étiquetteFormatDoc"),class:"mt-2",variant:"outlined"},{selection:o(({item:l})=>[T(c(n(s)(`exportations.format.${l.raw}`)),1)]),item:o(({item:l,props:p})=>[t(G,L(p,{title:n(s)(`exportations.format.${l.raw}`)}),null,16,["title"])]),_:1},8,["modelValue","label"]))}});export{co as _,ro as a,uo as b,io as c,po as d,Vn as e,mo as f,pt as g,bn as h,Cn as i,mt as j,xn as k};
//# sourceMappingURL=OptionsFormatExportation.vue_vue_type_script_setup_true_lang-BNFwj4rA.js.map
