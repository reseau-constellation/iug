{"version":3,"file":"RésultatRechercheProjet.vue_vue_type_script_setup_true_lang-CHoRu2uD.js","sources":["../../src/components/recherche/RésultatRechercheProjet.vue"],"sourcesContent":["<template>\n  <v-list-item>\n    <template #prepend>\n      <v-img\n        :src=\"srcImgProjet || imgDéfaut\"\n        class=\"me-4 rounded-circle border-thin\"\n        width=\"40\"\n        height=\"40\"\n      />\n    </template>\n    <v-list-item-title>\n      <TexteSurligneRecherche\n        v-if=\"infoSourceNom\"\n        :info=\"infoSourceNom\"\n      />\n      <span v-else>{{ nomTraduit || t('nuées.aucunNom') }}</span>\n    </v-list-item-title>\n    <v-list-item-subtitle>\n      <TexteSurligneRecherche\n        v-if=\"infoSourceDescr\"\n        :info=\"infoSourceDescr\"\n      />\n      <span v-else>{{ descriptionTraduite || t('nuées.aucuneDescription') }}</span>\n    </v-list-item-subtitle>\n    <AuteursObjet\n      :auteurs=\"auteurs\"\n      :n-max=\"1\"\n    ></AuteursObjet>\n    <jeton-id-objet :id=\"résultat.id\">\n      <TexteSurligneRecherche\n        v-if=\"infoSourceId\"\n        :info=\"infoSourceId\"\n      />\n      <span v-else>{{ résultat.id }}</span>\n    </jeton-id-objet>\n    <JetonVariable\n      v-if=\"infoSourceVariable\"\n      :id=\"infoSourceVariable.id\"\n    >\n      <TexteSurligneRecherche :info=\"infoSourceVariable.info.info\" />\n    </JetonVariable>\n    <JetonMotClef\n      v-if=\"infoSourceMotClef\"\n      :id=\"infoSourceMotClef.id\"\n    >\n      <TexteSurligneRecherche :info=\"infoSourceMotClef.info.info\" />\n    </JetonMotClef>\n    <JetonBd\n      v-if=\"infoSourceBdDirecte\"\n      :id=\"infoSourceBdDirecte.id\"\n    >\n      <TexteSurligneRecherche :info=\"infoSourceBdDirecte.info.info\" />\n    </JetonBd>\n    <JetonBd\n      v-if=\"infoSourceBdIndirecte\"\n      :id=\"infoSourceBdIndirecte.id\"\n    >\n      <TexteSurligneRecherche :info=\"infoSourceBdIndirecte.info.info\" />\n    </JetonBd>\n  </v-list-item>\n</template>\n<script setup lang=\"ts\">\nimport type {types} from '@constl/ipa';\n\nimport {suivre} from '@constl/vue';\nimport type {ComputedRef} from 'vue';\nimport {computed} from 'vue';\n\nimport TexteSurligneRecherche from './TexteSurlignéRecherche.vue';\nimport AuteursObjet from '/@/components/communs/AuteursObjet.vue';\nimport JetonIdObjet from '/@/components/communs/JetonIdObjet.vue';\nimport JetonMotClef from '/@/components/motsClefs/JetonMotClef.vue';\nimport JetonVariable from '/@/components/variables/JetonVariable.vue';\n\nimport {மொழிகளைப்_பயன்படுத்து, மொழியாக்கத்தைப்_பயன்படுத்து} from '@lassi-js/kilimukku-vue';\nimport JetonBd from '../bds/JetonBd.vue';\nimport {utiliserConstellation} from '/@/components/utils';\nimport {utiliserImagesDéco} from '/@/composables/images';\nimport {sourceImage} from '/@/utils';\n\nconst props = defineProps<{\n  résultat: types.résultatRecherche<\n    | types.infoRésultatTexte\n    | types.infoRésultatRecherche<\n        | types.infoRésultatTexte\n        | types.infoRésultatVide\n        | types.infoRésultatRecherche<types.infoRésultatTexte | types.infoRésultatVide>\n      >\n    | types.infoRésultatVide\n  >;\n}>();\n\nconst constl = utiliserConstellation();\n\nconst {அகராதியிலிருந்து_மொழிபெயர்ப்பு} = மொழிகளைப்_பயன்படுத்து();\n\nconst {$மொ: t} = மொழியாக்கத்தைப்_பயன்படுத்து();\n\n// Sources résultat directes (nom, description, id de la nuée)\nconst sourceDirecte = (de: string): ComputedRef<types.infoRésultatTexte | undefined> => {\n  return computed(() => {\n    const {de: sourceRésultat, info} = props.résultat.résultatObjectif;\n    if (info.type === 'texte' && sourceRésultat === de) {\n      return info;\n    } else {\n      return undefined;\n    }\n  });\n};\n\nconst infoSourceNom = sourceDirecte('nom');\nconst infoSourceDescr = sourceDirecte('descr');\nconst infoSourceId = sourceDirecte('id');\n\n// Source BD directe\nconst infoSourceBdIndirecte = computed(\n  ():\n    | {\n        id: string;\n        info: types.infoRésultatRecherche<types.infoRésultatTexte>;\n      }\n    | undefined => {\n    const {de, clef, info} = props.résultat.résultatObjectif;\n    if (info.type === 'résultat' && de === 'bd' && clef && info.info.type === 'résultat') {\n      if (info.info.info.type === 'texte') {\n        return {\n          id: clef,\n          info: {\n            type: info.info.type,\n            de: info.info.de,\n            info: info.info.info,\n          },\n        };\n      } else return undefined;\n    } else {\n      return undefined;\n    }\n  },\n);\n\n// Sources objets connexes\nconst sourceObjetConnexe = (\n  de: string,\n): ComputedRef<\n  | {\n      id: string;\n      info: types.infoRésultatRecherche<types.infoRésultatTexte>;\n    }\n  | undefined\n> => {\n  return computed(() => {\n    const {de: sourceRésultat, clef, info} = props.résultat.résultatObjectif;\n    if (info.type === 'résultat' && sourceRésultat === de && clef && info.info.type === 'texte') {\n      return {\n        id: clef,\n        info: info as types.infoRésultatRecherche<types.infoRésultatTexte>,\n      };\n    } else {\n      return undefined;\n    }\n  });\n};\nconst infoSourceVariable = sourceObjetConnexe('variable');\nconst infoSourceMotClef = sourceObjetConnexe('motClef');\nconst infoSourceBdDirecte = sourceObjetConnexe('bd');\n\n// Nom\nconst noms = suivre(constl.projets.suivreNomsProjet, {idProjet: computed(() => props.résultat.id)});\nconst nomTraduit = அகராதியிலிருந்து_மொழிபெயர்ப்பு(noms);\n\n// Descriptions\nconst descriptions = suivre(constl.projets.suivreDescriptionsProjet, {\n  idProjet: computed(() => props.résultat.id),\n});\nconst descriptionTraduite = அகராதியிலிருந்து_மொழிபெயர்ப்பு(descriptions);\n\n// Auteurs\nconst auteurs = suivre(constl.réseau.suivreAuteursProjet, {\n  idProjet: computed(() => props.résultat.id),\n});\n\n// Image\nconst imageProjet = suivre(constl.projets.suivreImage, {\n  idProjet: computed(() => props.résultat.id),\n});\nconst srcImgProjet = sourceImage(imageProjet);\n\nconst {obtImageDéco} = utiliserImagesDéco();\nconst imgDéfaut = obtImageDéco('logoBD');\n</script>\n"],"names":["props","__props","constl","utiliserConstellation","அகராதியிலிருந்து_மொழிபெயர்ப்பு","மொழிகளைப்_பயன்படுத்து","t","மொழியாக்கத்தைப்_பயன்படுத்து","sourceDirecte","de","computed","sourceRésultat","info","infoSourceNom","infoSourceDescr","infoSourceId","infoSourceBdIndirecte","clef","sourceObjetConnexe","infoSourceVariable","infoSourceMotClef","infoSourceBdDirecte","noms","suivre","nomTraduit","descriptions","descriptionTraduite","auteurs","imageProjet","srcImgProjet","sourceImage","obtImageDéco","utiliserImagesDéco","imgDéfaut"],"mappings":"6UAgFA,MAAMA,EAAQC,EAYRC,EAASC,EAAsB,EAE/B,CAAC,+BAAAC,CAA8B,EAAIC,EAAsB,EAEzD,CAAC,IAAKC,CAAC,EAAIC,EAA4B,EAGvCC,EAAiBC,GACdC,EAAS,IAAM,CACpB,KAAM,CAAC,GAAIC,EAAgB,KAAAC,CAAI,EAAIZ,EAAM,SAAS,iBAClD,GAAIY,EAAK,OAAS,SAAWD,IAAmBF,EACvC,OAAAG,CAGT,CACD,EAGGC,EAAgBL,EAAc,KAAK,EACnCM,EAAkBN,EAAc,OAAO,EACvCO,EAAeP,EAAc,IAAI,EAGjCQ,EAAwBN,EAC5B,IAKiB,CACf,KAAM,CAAC,GAAAD,EAAI,KAAAQ,EAAM,KAAAL,CAAI,EAAIZ,EAAM,SAAS,iBACpC,GAAAY,EAAK,OAAS,YAAcH,IAAO,MAAQQ,GAAQL,EAAK,KAAK,OAAS,WACxE,OAAIA,EAAK,KAAK,KAAK,OAAS,QACnB,CACL,GAAIK,EACJ,KAAM,CACJ,KAAML,EAAK,KAAK,KAChB,GAAIA,EAAK,KAAK,GACd,KAAMA,EAAK,KAAK,IAAA,CAEpB,EACY,MAGhB,CAEJ,EAGMM,EACJT,GAQOC,EAAS,IAAM,CACpB,KAAM,CAAC,GAAIC,EAAgB,KAAAM,EAAM,KAAAL,GAAQZ,EAAM,SAAS,iBACpD,GAAAY,EAAK,OAAS,YAAcD,IAAmBF,GAAMQ,GAAQL,EAAK,KAAK,OAAS,QAC3E,MAAA,CACL,GAAIK,EACJ,KAAAL,CACF,CAGF,CACD,EAEGO,EAAqBD,EAAmB,UAAU,EAClDE,EAAoBF,EAAmB,SAAS,EAChDG,EAAsBH,EAAmB,IAAI,EAG7CI,EAAOC,EAAOrB,EAAO,QAAQ,iBAAkB,CAAC,SAAUQ,EAAS,IAAMV,EAAM,SAAS,EAAE,EAAE,EAC5FwB,EAAapB,EAA+BkB,CAAI,EAGhDG,EAAeF,EAAOrB,EAAO,QAAQ,yBAA0B,CACnE,SAAUQ,EAAS,IAAMV,EAAM,SAAS,EAAE,CAAA,CAC3C,EACK0B,EAAsBtB,EAA+BqB,CAAY,EAGjEE,EAAUJ,EAAOrB,EAAO,OAAO,oBAAqB,CACxD,SAAUQ,EAAS,IAAMV,EAAM,SAAS,EAAE,CAAA,CAC3C,EAGK4B,EAAcL,EAAOrB,EAAO,QAAQ,YAAa,CACrD,SAAUQ,EAAS,IAAMV,EAAM,SAAS,EAAE,CAAA,CAC3C,EACK6B,EAAeC,EAAYF,CAAW,EAEtC,CAAC,aAAAG,CAAY,EAAIC,EAAmB,EACpCC,EAAYF,EAAa,QAAQ"}