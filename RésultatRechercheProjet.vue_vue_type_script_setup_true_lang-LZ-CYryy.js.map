{"version":3,"file":"RésultatRechercheProjet.vue_vue_type_script_setup_true_lang-LZ-CYryy.js","sources":["../../src/components/recherche/RésultatRechercheProjet.vue"],"sourcesContent":["<template>\n  <v-list-item>\n    <template #prepend>\n      <v-img\n        :src=\"srcImgProjet || imgDéfaut\"\n        class=\"me-4 rounded-circle border-thin\"\n        width=\"40\"\n        height=\"40\"\n      />\n    </template>\n    <v-list-item-title>\n      <TexteSurligneRecherche\n        v-if=\"infoSourceNom\"\n        :info=\"infoSourceNom\"\n      />\n      <span v-else>{{ nomTraduit || t('nuées.aucunNom') }}</span>\n    </v-list-item-title>\n    <v-list-item-subtitle>\n      <TexteSurligneRecherche\n        v-if=\"infoSourceDescr\"\n        :info=\"infoSourceDescr\"\n      />\n      <span v-else>{{ descriptionTraduite || t('nuées.aucuneDescription') }}</span>\n    </v-list-item-subtitle>\n    <AuteursObjet\n      :auteurs=\"auteurs\"\n      :n-max=\"1\"\n    ></AuteursObjet>\n    <jeton-id-objet :id=\"résultat.id\">\n      <TexteSurligneRecherche\n        v-if=\"infoSourceId\"\n        :info=\"infoSourceId\"\n      />\n      <span v-else>{{ résultat.id }}</span>\n    </jeton-id-objet>\n    <JetonVariable\n      v-if=\"infoSourceVariable\"\n      :id=\"infoSourceVariable.id\"\n    >\n      <TexteSurligneRecherche :info=\"infoSourceVariable.info.info\" />\n    </JetonVariable>\n    <JetonMotClef\n      v-if=\"infoSourceMotClef\"\n      :id=\"infoSourceMotClef.id\"\n    >\n      <TexteSurligneRecherche :info=\"infoSourceMotClef.info.info\" />\n    </JetonMotClef>\n    <JetonBd\n      v-if=\"infoSourceBdDirecte\"\n      :id=\"infoSourceBdDirecte.id\"\n    >\n      <TexteSurligneRecherche :info=\"infoSourceBdDirecte.info.info\" />\n    </JetonBd>\n    <JetonBd\n      v-if=\"infoSourceBdIndirecte\"\n      :id=\"infoSourceBdIndirecte.id\"\n    >\n      <TexteSurligneRecherche :info=\"infoSourceBdIndirecte.info.info\" />\n    </JetonBd>\n  </v-list-item>\n</template>\n<script setup lang=\"ts\">\nimport type {types} from '@constl/ipa';\n\nimport {suivre} from '@constl/vue';\nimport type {ComputedRef} from 'vue';\nimport {computed} from 'vue';\n\nimport TexteSurligneRecherche from './TexteSurlignéRecherche.vue';\nimport AuteursObjet from '/@/components/communs/AuteursObjet.vue';\nimport JetonIdObjet from '/@/components/communs/JetonIdObjet.vue';\nimport JetonMotClef from '/@/components/motsClefs/JetonMotClef.vue';\nimport JetonVariable from '/@/components/variables/JetonVariable.vue';\n\nimport {மொழிகளைப்_பயன்படுத்து, மொழியாக்கத்தைப்_பயன்படுத்து} from '@lassi-js/kilimukku-vue';\nimport JetonBd from '../bds/JetonBd.vue';\nimport {utiliserConstellation} from '/@/components/utils';\nimport {utiliserImagesDéco} from '/@/composables/images';\nimport {sourceImage} from '/@/utils';\n\nconst props = defineProps<{\n  résultat: types.résultatRecherche<\n    | types.infoRésultatTexte\n    | types.infoRésultatRecherche<\n        | types.infoRésultatTexte\n        | types.infoRésultatVide\n        | types.infoRésultatRecherche<types.infoRésultatTexte | types.infoRésultatVide>\n      >\n    | types.infoRésultatVide\n  >;\n}>();\n\nconst constl = utiliserConstellation();\n\nconst {அகராதியிலிருந்து_மொழிபெயர்ப்பு} = மொழிகளைப்_பயன்படுத்து();\n\nconst {$மொ: t} = மொழியாக்கத்தைப்_பயன்படுத்து();\n\n// Sources résultat directes (nom, description, id de la nuée)\nconst sourceDirecte = (de: string): ComputedRef<types.infoRésultatTexte | undefined> => {\n  return computed(() => {\n    const {de: sourceRésultat, info} = props.résultat.résultatObjectif;\n    if (info.type === 'texte' && sourceRésultat === de) {\n      return info;\n    } else {\n      return undefined;\n    }\n  });\n};\n\nconst infoSourceNom = sourceDirecte('nom');\nconst infoSourceDescr = sourceDirecte('descr');\nconst infoSourceId = sourceDirecte('id');\n\n// Source BD directe\nconst infoSourceBdIndirecte = computed(\n  ():\n    | {\n        id: string;\n        info: types.infoRésultatRecherche<types.infoRésultatTexte>;\n      }\n    | undefined => {\n    const {de, clef, info} = props.résultat.résultatObjectif;\n    if (info.type === 'résultat' && de === 'bd' && clef && info.info.type === 'résultat') {\n      if (info.info.info.type === 'texte') {\n        return {\n          id: clef,\n          info: {\n            type: info.info.type,\n            de: info.info.de,\n            info: info.info.info,\n          },\n        };\n      } else return undefined;\n    } else {\n      return undefined;\n    }\n  },\n);\n\n// Sources objets connexes\nconst sourceObjetConnexe = (\n  de: string,\n): ComputedRef<\n  | {\n      id: string;\n      info: types.infoRésultatRecherche<types.infoRésultatTexte>;\n    }\n  | undefined\n> => {\n  return computed(() => {\n    const {de: sourceRésultat, clef, info} = props.résultat.résultatObjectif;\n    if (info.type === 'résultat' && sourceRésultat === de && clef && info.info.type === 'texte') {\n      return {\n        id: clef,\n        info: info as types.infoRésultatRecherche<types.infoRésultatTexte>,\n      };\n    } else {\n      return undefined;\n    }\n  });\n};\nconst infoSourceVariable = sourceObjetConnexe('variable');\nconst infoSourceMotClef = sourceObjetConnexe('motClef');\nconst infoSourceBdDirecte = sourceObjetConnexe('bd');\n\n// Nom\nconst noms = suivre(constl.projets.suivreNomsProjet, {idProjet: computed(() => props.résultat.id)});\nconst nomTraduit = அகராதியிலிருந்து_மொழிபெயர்ப்பு(noms);\n\n// Descriptions\nconst descriptions = suivre(constl.projets.suivreDescriptionsProjet, {\n  idProjet: computed(() => props.résultat.id),\n});\nconst descriptionTraduite = அகராதியிலிருந்து_மொழிபெயர்ப்பு(descriptions);\n\n// Auteurs\nconst auteurs = suivre(constl.réseau.suivreAuteursProjet, {\n  idProjet: computed(() => props.résultat.id),\n});\n\n// Image\nconst imageProjet = suivre(constl.projets.suivreImage, {\n  idProjet: computed(() => props.résultat.id),\n});\nconst srcImgProjet = sourceImage(imageProjet);\n\nconst {obtImageDéco} = utiliserImagesDéco();\nconst imgDéfaut = obtImageDéco('logoBD');\n</script>\n"],"names":["props","__props","constl","utiliserConstellation","அகராதியிலிருந்து_மொழிபெயர்ப்பு","மொழிகளைப்_பயன்படுத்து","t","மொழியாக்கத்தைப்_பயன்படுத்து","sourceDirecte","de","computed","sourceRésultat","info","infoSourceNom","infoSourceDescr","infoSourceId","infoSourceBdIndirecte","clef","sourceObjetConnexe","infoSourceVariable","infoSourceMotClef","infoSourceBdDirecte","noms","suivre","nomTraduit","descriptions","descriptionTraduite","auteurs","imageProjet","srcImgProjet","sourceImage","obtImageDéco","utiliserImagesDéco","imgDéfaut","_createBlock","_component_v_list_item","_createVNode","_component_v_img","_unref","_component_v_list_item_title","TexteSurligneRecherche","_createElementBlock","_hoisted_1","_toDisplayString","_component_v_list_item_subtitle","_hoisted_2","AuteursObjet","JetonIdObjet","résultat","_hoisted_3","JetonVariable","JetonMotClef","JetonBd"],"mappings":"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"}