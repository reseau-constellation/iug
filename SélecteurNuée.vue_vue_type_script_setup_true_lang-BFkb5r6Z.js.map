{"version":3,"file":"SélecteurNuée.vue_vue_type_script_setup_true_lang-BFkb5r6Z.js","sources":["../../src/components/règles/SourceRègleColonne.vue","../../src/components/règles/ItemRègleColonne.vue","../../src/components/tableaux/NouvelleColonne.vue","../../src/components/tableaux/ItemSpécificationColonne.vue","../../src/components/tableaux/NouveauTableau.vue","../../src/components/tableaux/ItemSpécificationTableau.vue","../../src/components/nuées/NouvelleNuée.vue","../../src/components/nuées/SélecteurNuée.vue"],"sourcesContent":["<template>\n  <p class=\"text-disabled font-weight-light\">\n    {{ t(`règles.source.${source.type}`) }}\n  </p>\n</template>\n<script setup lang=\"ts\">\nimport type {valid} from '@constl/ipa';\nimport {மொழியாக்கத்தைப்_பயன்படுத்து} from '@lassi-js/kilimukku-vue';\ndefineProps<{\n  source: valid.sourceRègle;\n}>();\n\nconst {$மொ: t} = மொழியாக்கத்தைப்_பயன்படுத்து();\n</script>\n","<template>\n  <item-regle\n    :regle=\"regle.règle\"\n    :effacable=\"effaçable\"\n    :autorisation-modifier=\"autorisationModifier\"\n    @effacer=\"() => émettre('effacer')\"\n  >\n    <source-regle-colonne :source=\"regle.source\" />\n  </item-regle>\n</template>\n<script setup lang=\"ts\">\nimport type {valid} from '@constl/ipa';\n\nimport {computed} from 'vue';\n\nimport ItemRegle from './ItemRègle.vue';\nimport SourceRegleColonne from './SourceRègleColonne.vue';\n\nconst props = defineProps<{\n  regle: valid.règleColonne;\n  autorisationModifier: boolean;\n}>();\nconst émettre = defineEmits<{\n  (é: 'effacer'): void;\n}>();\n\nconst effaçable = computed(() => {\n  return props.regle.règle.règle.typeRègle !== 'catégorie' && props.regle.source.type === 'tableau';\n});\n</script>\n","<template>\n  <v-dialog v-model=\"dialogue\">\n    <template #activator=\"{props: propsActivateur}\">\n      <slot\n        name=\"activateur\"\n        v-bind=\"{props: propsActivateur}\"\n      ></slot>\n    </template>\n    <v-card\n      class=\"mx-auto\"\n      :min-width=\"mdAndUp ? 500 : 300\"\n    >\n      <v-card-item>\n        <v-card-title class=\"d-flex align-center\">\n          <span>{{ t(titreCarte) }}</span>\n          <v-spacer />\n          <v-btn\n            variant=\"flat\"\n            size=\"small\"\n            icon=\"mdi-close\"\n            @click=\"fermer\"\n          />\n        </v-card-title>\n        <v-card-subtitle> {{ t(sousTitreCarte) }} </v-card-subtitle>\n      </v-card-item>\n      <v-card-text>\n        <v-window\n          v-model=\"étape\"\n          style=\"overflow-y: scroll\"\n        >\n          <v-window-item :value=\"0\">\n            <SelecteurVariable\n              :interdites=\"variablesInterdites\"\n              :multiples=\"false\"\n              @selectionnee=\"ids => choisirVariable(ids[0])\"\n            />\n          </v-window-item>\n          <v-window-item :value=\"1\">\n            <v-checkbox\n              v-model=\"index\"\n              :label=\"t('colonnes.nouvelle.index')\"\n              color=\"primary\"\n            ></v-checkbox>\n          </v-window-item>\n          <v-window-item :value=\"2\">\n            <v-list>\n              <NouvelleRegle\n                :source=\"{\n                  type: 'tableau',\n                  idTableau,\n                }\"\n                :categorie-variable=\"catégorieBaseVariableChoisie\"\n                @sauvegarder=\"r => ajouterRègle(r)\"\n              >\n                <template #activateur=\"{props: propsActivateurNouvelleRègle}\">\n                  <v-list-item\n                    v-bind=\"propsActivateurNouvelleRègle\"\n                    prepend-icon=\"mdi-plus\"\n                  >\n                    <v-list-item-title>\n                      {{ t('tableaux.règles.nouvelle') }}\n                    </v-list-item-title>\n                  </v-list-item>\n                </template>\n              </NouvelleRegle>\n\n              <item-regle-colonne\n                v-for=\"règle in règlesExistantes\"\n                :key=\"règle.règle.id\"\n                :regle=\"règle\"\n                :effacable=\"false\"\n                :autorisation-modifier=\"false\"\n              />\n\n              <item-regle\n                v-for=\"règle in règlesColonne\"\n                :key=\"règle.id\"\n                :regle=\"règle\"\n                effacable\n                :autorisation-modifier=\"true\"\n                @effacer=\"() => effacerRègle(règle.id)\"\n              />\n            </v-list>\n          </v-window-item>\n          <v-window-item\n            :value=\"3\"\n            class=\"text-center\"\n          >\n            <v-btn\n              variant=\"outlined\"\n              @click=\"() => créerColonne()\"\n            >\n              {{ t('colonnes.nouvelle.texteBtnCréation') }}\n            </v-btn>\n          </v-window-item>\n        </v-window>\n      </v-card-text>\n      <v-divider></v-divider>\n\n      <v-card-actions>\n        <btn-retour\n          :visible=\"retourActif.visible\"\n          :actif=\"retourActif.actif\"\n          @retour=\"retour\"\n        />\n        <v-spacer></v-spacer>\n        <btn-suivant\n          :visible=\"suivantActif.visible\"\n          :actif=\"suivantActif.actif\"\n          @suivant=\"suivant\"\n        />\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n<script setup lang=\"ts\">\nimport type {valid} from '@constl/ipa';\n\nimport {suivre} from '@constl/vue';\nimport {computed, ref} from 'vue';\nimport {useDisplay} from 'vuetify';\n\nimport {v4 as uuidv4} from 'uuid';\n\nimport {utiliserConstellation} from '/@/components/utils';\nimport SelecteurVariable from '/@/components/variables/SélecteurVariable.vue';\n\nimport {மொழியாக்கத்தைப்_பயன்படுத்து} from '@lassi-js/kilimukku-vue';\nimport BtnRetour from '/@/components/communs/BtnRetour.vue';\nimport BtnSuivant from '/@/components/communs/BtnSuivant.vue';\nimport ItemRegle from '/@/components/règles/ItemRègle.vue';\nimport ItemRegleColonne from '/@/components/règles/ItemRègleColonne.vue';\nimport NouvelleRegle from '/@/components/règles/NouvelleRègle.vue';\n\nconst props = defineProps<{\n  idTableau?: string;\n  idVariable?: string;\n  idColonne?: string;\n  variablesInterdites?: string[];\n}>();\n\nconst émettre = defineEmits<{\n  (\n    é: 'nouvelle',\n    info: {\n      idVariable: string;\n      idColonne?: string;\n      index: boolean;\n      règles: valid.règleVariable[];\n    },\n  ): void;\n}>();\n\nconst {mdAndUp} = useDisplay();\n\nconst {$மொ: t} = மொழியாக்கத்தைப்_பயன்படுத்து();\n\nconst constl = utiliserConstellation();\n\n// Navigation\nconst dialogue = ref(false);\n\nconst étape = ref(0);\nconst listeÉtapes = ['variable', 'index', 'règles', 'confirmation'] as const;\n\nconst titreCarte = computed(() => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    case 'variable':\n      return 'colonnes.nouvelle.titreVariable';\n    case 'index':\n      return 'colonnes.nouvelle.titreIndex';\n    case 'règles':\n      return 'colonnes.nouvelle.titreRègles';\n    case 'confirmation':\n      return 'colonnes.nouvelle.titreConfirmation';\n    default:\n      return '';\n  }\n});\n\nconst sousTitreCarte = computed(() => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    case 'variable':\n      return 'colonnes.nouvelle.sousTitreVariable';\n    case 'index':\n      return 'colonnes.nouvelle.sousTitreIndex';\n    case 'règles':\n      return 'colonnes.nouvelle.sousTitreRègles';\n    case 'confirmation':\n      return 'colonnes.nouvelle.sousTitreConfirmation';\n    default:\n      return '';\n  }\n});\n\nconst suivant = () => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    default:\n      étape.value++;\n      break;\n  }\n};\n\nconst retour = () => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    default:\n      étape.value--;\n      break;\n  }\n};\n\nconst suivantActif = computed<{actif: boolean; visible: boolean}>(() => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    case 'variable':\n      return {actif: !!idVariableChoisie.value, visible: true};\n    case 'confirmation':\n      return {actif: false, visible: false};\n    default:\n      return {actif: true, visible: true};\n  }\n});\n\nconst retourActif = computed<{actif: boolean; visible: boolean}>(() => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    case 'variable':\n      return {actif: false, visible: false};\n    default:\n      return {actif: true, visible: true};\n  }\n});\n\n// Variable\nconst idVariableChoisie = ref(props.idVariable);\nconst choisirVariable = (idVar: string) => (idVariableChoisie.value = idVar);\n\n// Catégorie variable\nconst catégorieVariableChoisie = suivre(constl.variables.suivreCatégorieVariable, {\n  idVariable: idVariableChoisie,\n});\nconst catégorieBaseVariableChoisie = computed(() => catégorieVariableChoisie.value?.catégorie);\n\n// Index\nconst index = ref(false);\n\n// Règles variable associée\nconst règlesVariable = suivre(constl.variables.suivreRèglesVariable, {\n  idVariable: idVariableChoisie,\n});\nconst règlesExistantes = computed<valid.règleColonne[] | undefined>(() => {\n  const idVariable = idVariableChoisie.value;\n  if (!idVariable) return undefined;\n  return règlesVariable.value?.map(r => ({\n    règle: r,\n    source: {type: 'variable', id: idVariable},\n    colonne: '',\n  }));\n});\n\n// Règles colonne\nconst règlesColonne = ref<valid.règleVariableAvecId[]>([]);\n\nconst ajouterRègle = (règle: valid.règleVariable) => {\n  const idRègle = uuidv4();\n  règlesColonne.value = [...règlesColonne.value, {règle: règle, id: idRègle}];\n};\nconst effacerRègle = (idRègle: string) => {\n  règlesColonne.value = règlesColonne.value.filter(r => r.id !== idRègle);\n};\n\n// Créer colonne\nconst prèteÀCréér = computed<{idVariable: string} | undefined>(() => {\n  return idVariableChoisie.value ? {idVariable: idVariableChoisie.value} : undefined;\n});\n\nconst créerColonne = async () => {\n  if (!prèteÀCréér.value) return;\n  const {idVariable} = prèteÀCréér.value;\n\n  émettre('nouvelle', {\n    idVariable,\n    index: index.value,\n    idColonne: props.idColonne,\n    règles: règlesColonne.value.map(r => r.règle),\n  });\n\n  fermer();\n};\n\nconst fermer = () => {\n  idVariableChoisie.value = undefined;\n  index.value = false;\n  règlesColonne.value = [];\n\n  dialogue.value = false;\n  étape.value = 0;\n};\n</script>\n","<template>\n  <v-list-item>\n    <v-list-item-title>\n      {{ nomVariableTraduit }}\n    </v-list-item-title>\n\n    <template #append>\n      <v-btn\n        v-if=\"modificationPermise\"\n        icon=\"mdi-delete\"\n        variant=\"flat\"\n        @click=\"effacerColonne\"\n      />\n    </template>\n  </v-list-item>\n</template>\n<script setup lang=\"ts\">\nimport type {valid} from '@constl/ipa';\n\nimport {suivre} from '@constl/vue';\nimport {computed, ref, watchEffect} from 'vue';\n\nimport {மொழிகளைப்_பயன்படுத்து} from '@lassi-js/kilimukku-vue';\nimport {utiliserConstellation} from '/@/components/utils';\n\nconst {அகராதியிலிருந்து_மொழிபெயர்ப்பு} = மொழிகளைப்_பயன்படுத்து();\n\nconst props = defineProps<{\n  idVariable?: string;\n  index?: boolean;\n  modificationPermise: boolean;\n  règles: valid.règleVariable[];\n}>();\n\nconst émettre = defineEmits<{\n  (é: 'modifier-colonne', info: {idVariable?: string; index?: boolean}): void;\n  (é: 'effacer-colonne'): void;\n}>();\n\nconst constl = utiliserConstellation();\n\nconst choixVariable = ref(props.idVariable);\nwatchEffect(() => {\n  choixVariable.value = props.idVariable;\n});\n\n// Nom variable\nconst nomsVariable = suivre(constl.variables.suivreNomsVariable, {\n  idVariable: computed(() => props.idVariable),\n});\nconst nomVariableTraduit = அகராதியிலிருந்து_மொழிபெயர்ப்பு(nomsVariable);\n\n// Index\nconst choixIndex = ref<boolean>(props.index);\nwatchEffect(() => {\n  choixIndex.value = props.index;\n});\n\n// Modification\nwatchEffect(() => {\n  const spécColonne = {\n    idVariable: choixVariable.value,\n    index: choixIndex.value,\n  };\n  émettre('modifier-colonne', spécColonne);\n});\nconst effacerColonne = () => émettre('effacer-colonne');\n</script>\n","<template>\n  <v-dialog v-model=\"dialogue\">\n    <template #activator=\"{props: propsActivateur}\">\n      <slot\n        name=\"activateur\"\n        v-bind=\"{props: propsActivateur}\"\n      ></slot>\n    </template>\n\n    <v-card\n      class=\"mx-auto\"\n      :width=\"mdAndUp ? 500 : 300\"\n    >\n      <v-card-item>\n        <v-card-title class=\"d-flex align-center\">\n          {{ t(titreCarte) }}\n          <v-spacer />\n          <v-btn\n            icon=\"mdi-close\"\n            size=\"small\"\n            variant=\"flat\"\n            @click=\"() => (dialogue = false)\"\n          ></v-btn>\n        </v-card-title>\n        <v-card-subtitle> {{ t(sousTitreCarte) }} </v-card-subtitle>\n      </v-card-item>\n      <v-card-text>\n        <v-window\n          v-model=\"étape\"\n          style=\"overflow-y: scroll\"\n        >\n          <v-window-item :value=\"0\">\n            <liste-noms\n              :texte-aucun-nom=\"t('communs.texteAucunNom')\"\n              :indice-langue=\"t('communs.indiceLangue')\"\n              :etiquette-nom=\"t('communs.étiquetteNom')\"\n              :indice-nom=\"t('tableaux.nouveau.texteIndiceNom')\"\n              :noms-initiaux=\"noms\"\n              :autorisation-modification=\"true\"\n              @ajuster-noms=\"ajusterNoms\"\n            />\n          </v-window-item>\n          <v-window-item :value=\"1\">\n            <v-list>\n              <nouvelle-colonne\n                :variables-interdites=\"variablesDéjàAjoutées\"\n                @nouvelle=\"col => ajouterColonne(col)\"\n              >\n                <template #activateur=\"{props: propsActivateur}\">\n                  <v-list-item\n                    v-bind=\"propsActivateur\"\n                    :title=\"t('tableaux.nouveau.ajouterColonne')\"\n                    prepend-icon=\"mdi-table-column-plus-after\"\n                  ></v-list-item>\n                </template>\n              </nouvelle-colonne>\n              <ItemSpecificationColonne\n                v-for=\"col in colonnes\"\n                :id=\"col.info.id\"\n                :key=\"col.info.id\"\n                :id-variable=\"col.info.variable\"\n                :index=\"col.info.index\"\n                :règles=\"col.règles\"\n                modification-permise\n                @modifier-colonne=\"modifierColonne\"\n                @effacer-colonne=\"() => effacerColonne(col.info.id)\"\n              />\n            </v-list>\n          </v-window-item>\n          <v-window-item :value=\"2\">\n            <div class=\"text-center\">\n              <v-btn\n                class=\"mt-3\"\n                variant=\"outlined\"\n                @click=\"confirmer\"\n              >\n                {{ t('tableaux.nouveau.texteBtnCréation') }}\n              </v-btn>\n            </div>\n          </v-window-item>\n        </v-window>\n      </v-card-text>\n      <v-card-actions>\n        <btn-retour\n          :visible=\"retourActif.visible\"\n          :actif=\"retourActif.actif\"\n          @retour=\"retour\"\n        />\n        <v-spacer></v-spacer>\n        <btn-suivant\n          :visible=\"suivantActif.visible\"\n          :actif=\"suivantActif.actif\"\n          @suivant=\"suivant\"\n        />\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n<script setup lang=\"ts\">\nimport type {tableaux as tblx, valid} from '@constl/ipa';\n\nimport {computed, ref} from 'vue';\nimport {useDisplay} from 'vuetify';\n\nimport {மொழியாக்கத்தைப்_பயன்படுத்து} from '@lassi-js/kilimukku-vue';\nimport {v4 as uuidv4} from 'uuid';\n\nimport NouvelleColonne from './NouvelleColonne.vue';\nimport BtnRetour from '/@/components/communs/BtnRetour.vue';\nimport BtnSuivant from '/@/components/communs/BtnSuivant.vue';\nimport ListeNoms from '/@/components/communs/listeNoms/ListeNoms.vue';\nimport ItemSpecificationColonne from '/@/components/tableaux/ItemSpécificationColonne.vue';\n\nconst émettre = defineEmits<{\n  (\n    é: 'sauvegarder',\n    args: {\n      noms: {[langue: string]: string};\n      cols: {info: tblx.InfoCol; règles: valid.règleVariable[]}[];\n    },\n  ): void;\n}>();\n\nconst {mdAndUp} = useDisplay();\n\nconst {$மொ: t} = மொழியாக்கத்தைப்_பயன்படுத்து();\n\n// Navigation\nconst dialogue = ref(false);\n\nconst étape = ref(0);\nconst listeÉtapes = ['noms', 'colonnnes', 'confirmation'] as const;\n\nconst titreCarte = computed(() => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    case 'noms':\n      return 'tableaux.nouveau.titreNoms';\n    case 'colonnnes':\n      return 'tableaux.nouveau.titreColonnes';\n    case 'confirmation':\n      return 'tableaux.nouveau.titreConfirmation';\n    default:\n      return '';\n  }\n});\n\nconst sousTitreCarte = computed(() => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    case 'noms':\n      return 'tableaux.nouveau.sousTitreNoms';\n    case 'colonnnes':\n      return 'tableaux.nouveau.sousTitreColonnes';\n    case 'confirmation':\n      return 'tableaux.nouveau.sousTitreConfirmation';\n    default:\n      return '';\n  }\n});\n\nconst retour = () => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    default:\n      étape.value--;\n      break;\n  }\n};\n\nconst suivant = () => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    default:\n      étape.value++;\n      break;\n  }\n};\n\nconst suivantActif = computed<{actif: boolean; visible: boolean}>(() => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    case 'noms':\n      return {actif: !!Object.keys(noms.value).length, visible: true};\n    case 'confirmation':\n      return {actif: false, visible: false};\n    default:\n      return {actif: true, visible: true};\n  }\n});\n\nconst retourActif = computed<{actif: boolean; visible: boolean}>(() => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    case 'noms':\n      return {actif: false, visible: false};\n    default:\n      return {actif: true, visible: true};\n  }\n});\n\n// Noms tableau\nconst noms = ref<{[langue: string]: string}>({});\nconst ajusterNoms = (nms: {[lng: string]: string}) => {\n  noms.value = nms;\n};\n\n// Colonnes\nconst colonnes = ref<{info: tblx.InfoCol; règles: valid.règleVariable[]}[]>([]);\nconst ajouterColonne = ({\n  idVariable,\n  idColonne,\n  index,\n  règles,\n}: {\n  idVariable: string;\n  idColonne?: string | undefined;\n  index: boolean;\n  règles: valid.règleVariable[];\n}) => {\n  colonnes.value = [\n    ...colonnes.value,\n    {\n      info: {\n        id: idColonne || uuidv4(),\n        variable: idVariable,\n        index,\n      },\n      règles,\n    },\n  ];\n};\nconst modifierColonne = () => {};\nconst effacerColonne = (idColonne: string) => {\n  colonnes.value = colonnes.value.filter(c => c.info.id !== idColonne);\n};\n\nconst variablesDéjàAjoutées = computed(() => {\n  return colonnes.value.map(c => c.info.variable).filter(v => !!v) as string[];\n});\n\n// Confirmation\nconst confirmer = () => {\n  émettre('sauvegarder', {\n    noms: noms.value,\n    cols: colonnes.value || [],\n  });\n  fermer();\n};\n\nconst fermer = () => {\n  noms.value = {};\n  colonnes.value = [];\n\n  étape.value = 0;\n  dialogue.value = false;\n};\n</script>\n","<template>\n  <v-list-group :value=\"clef\">\n    <template #activator=\"{props: propsActivateur}\">\n      <v-list-item\n        v-bind=\"propsActivateur\"\n        prepend-icon=\"mdi-table\"\n      >\n        <v-list-item-title>\n          <DialogueNoms\n            :etiquette-nom=\"t('listeNomsProfil.étiquetteNom')\"\n            :indice-nom=\"t('listeNomsProfil.indiceNom')\"\n            :indice-langue=\"t('listeNomsProfil.indiceLangue')\"\n            :texte-aucun-nom=\"t('listeNomsProfil.texteAucunNom')\"\n            :titre=\"t('tableaux.spécification.titreDialogueNoms')\"\n            :sous-titre=\"t('tableaux.spécification.sousTitreDialogueNoms')\"\n            :noms-initiaux=\"noms\"\n            :autorisation-modification=\"modificationPermise\"\n            @ajuster-noms=\"modifierNoms\"\n          >\n            <template #activateur=\"{props: propsActivateurDialogueNoms}\">\n              <span v-bind=\"propsActivateurDialogueNoms\">\n                {{ nomTraduit || t('communs.baseCarteObjet.sansNom') }}\n                <v-btn\n                  :icon=\"modificationPermise ? 'mdi-pencil' : 'mdi-earth'\"\n                  variant=\"flat\"\n                  size=\"small\"\n                ></v-btn>\n              </span>\n            </template>\n          </DialogueNoms>\n        </v-list-item-title>\n      </v-list-item>\n    </template>\n    <NouvelleColonne\n      :variables-interdites=\"variablesDéjàAjoutées\"\n      @nouvelle=\"ajouterColonne\"\n    >\n      <template #activateur=\"{props: propsActivateur}\">\n        <v-list-item v-bind=\"propsActivateur\">\n          <template #prepend>\n            <v-icon> mdi-plus </v-icon>\n          </template>\n          <template #title>\n            {{ t('tableaux.spécification.nouvelleColonne') }}\n          </template>\n        </v-list-item>\n      </template>\n    </NouvelleColonne>\n\n    <ItemSpecificationColonne\n      v-for=\"col in colonnes\"\n      :id=\"col.info.id\"\n      :key=\"col.info.id\"\n      :id-variable=\"col.info.variable\"\n      :index=\"col.info.index\"\n      :règles=\"col.règles\"\n      :modification-permise=\"modificationPermise\"\n      @modifier-colonne=\"info => modifierColonne(col.info.id, info)\"\n      @effacer-colonne=\"() => effacerColonne(col.info.id)\"\n    />\n  </v-list-group>\n</template>\n\n<script setup lang=\"ts\">\nimport type {tableaux, valid} from '@constl/ipa';\n\nimport {மொழிகளைப்_பயன்படுத்து, மொழியாக்கத்தைப்_பயன்படுத்து} from '@lassi-js/kilimukku-vue';\nimport {computed} from 'vue';\nimport ItemSpecificationColonne from './ItemSpécificationColonne.vue';\nimport NouvelleColonne from './NouvelleColonne.vue';\nimport DialogueNoms from '/@/components/communs/listeNoms/DialogueNoms.vue';\n\nconst {$மொ: t} = மொழியாக்கத்தைப்_பயன்படுத்து();\nconst {அகராதியிலிருந்து_மொழிபெயர்ப்பு} = மொழிகளைப்_பயன்படுத்து();\n\nconst props = defineProps<{\n  clef: string;\n  noms: {[langue: string]: string};\n  idTableau?: string;\n  colonnes: {info: tableaux.InfoCol; règles: valid.règleVariable[]}[];\n  modificationPermise: boolean;\n}>();\nconst émettre = defineEmits<{\n  (é: 'modifier-noms', noms: {[langue: string]: string}): void;\n  (\n    é: 'nouvelle-colonne',\n    info: {idVariable: string; index?: boolean; règles: valid.règleVariable[]},\n  ): void;\n  (é: 'modifier-colonne', info: {idColonne: string; idVariable?: string; index?: boolean}): void;\n  (é: 'effacer-colonne', idColonne: string): void;\n}>();\n\n// Noms\nconst modifierNoms = (noms_: {[langue: string]: string}) => {\n  émettre('modifier-noms', noms_);\n};\nconst nomTraduit = அகராதியிலிருந்து_மொழிபெயர்ப்பு(computed(() => props.noms));\n\n// Variables déjà ajoutées au tableau, qu'on ne veut pas associer à de nouvelles colonnes\nconst variablesDéjàAjoutées = computed(() => {\n  return props.colonnes.map(c => c.info.variable).filter(v => v) as string[];\n});\n\n// Modification colonnes\nconst modifierColonne = (idColonne: string, info: {idVariable?: string; index?: boolean}) => {\n  émettre('modifier-colonne', {idColonne, ...info});\n};\nconst effacerColonne = (idColonne: string) => {\n  émettre('effacer-colonne', idColonne);\n};\nconst ajouterColonne = (info: {\n  idVariable: string;\n  index?: boolean;\n  règles: valid.règleVariable[];\n}) => {\n  émettre('nouvelle-colonne', info);\n};\n</script>\n","<template>\n  <v-dialog v-model=\"dialogue\">\n    <template #activator=\"{props: propsActivateur}\">\n      <slot\n        name=\"activateur\"\n        v-bind=\"{props: propsActivateur}\"\n      ></slot>\n    </template>\n\n    <v-card\n      class=\"mx-auto\"\n      :min-width=\"mdAndUp ? 500 : 300\"\n    >\n      <v-card-item>\n        <v-card-title class=\"d-flex align-center\">\n          {{ t(titreCarte) }}\n          <v-spacer />\n          <v-btn\n            variant=\"flat\"\n            size=\"small\"\n            icon=\"mdi-close\"\n            @click=\"fermer\"\n          />\n        </v-card-title>\n        <v-card-subtitle> {{ t(sousTitreCarte) }} </v-card-subtitle>\n      </v-card-item>\n      <v-card-text>\n        <v-window\n          v-model=\"étape\"\n          style=\"overflow-y: scroll\"\n        >\n          <v-window-item :key=\"0\">\n            <liste-noms\n              :texte-aucun-nom=\"t('communs.texteAucunNom')\"\n              :indice-langue=\"t('communs.indiceLangue')\"\n              :etiquette-nom=\"t('communs.étiquetteNom')\"\n              :indice-nom=\"t('nuées.nouvelle.texteIndiceNom')\"\n              :noms-initiaux=\"noms\"\n              :autorisation-modification=\"true\"\n              @ajuster-noms=\"ajusterNoms\"\n            />\n          </v-window-item>\n          <v-window-item :key=\"1\">\n            <liste-noms\n              :texte-aucun-nom=\"t('nuées.nouvelle.texteAucuneDescription')\"\n              :indice-langue=\"t('communs.indiceLangue')\"\n              :etiquette-nom=\"t('nuées.nouvelle.texteÉtiquetteDescription')\"\n              :indice-nom=\"t('nuées.nouvelle.texteIndiceDescription')\"\n              :noms-initiaux=\"descriptions\"\n              :autorisation-modification=\"true\"\n              longue\n              @ajuster-noms=\"ajusterDescriptions\"\n            />\n          </v-window-item>\n          <v-window-item :key=\"2\">\n            <v-radio-group v-model=\"autorisation\">\n              <v-radio\n                value=\"CJPI\"\n                class=\"my-2\"\n              >\n                <template #label>\n                  <div>\n                    <p class=\"font-weight-bold\">{{ t('nuées.nouvelle.parInvitation') }}</p>\n                    <p class=\"text-medium-emphasis text-caption\">\n                      {{ t('nuées.nouvelle.indiceParInvitation') }}\n                    </p>\n                  </div>\n                </template>\n              </v-radio>\n              <v-radio\n                value=\"IJPC\"\n                class=\"my-2\"\n              >\n                <template #label>\n                  <div>\n                    <p class=\"font-weight-bold\">{{ t('nuées.nouvelle.ouverteÀTous') }}</p>\n                    <p class=\"text-medium-emphasis text-caption\">\n                      {{ t('nuées.nouvelle.indiceOuverteÀTous') }}\n                    </p>\n                  </div>\n                </template>\n              </v-radio>\n            </v-radio-group>\n          </v-window-item>\n          <v-window-item :key=\"3\">\n            <v-list>\n              <nouveau-tableau\n                :importation-permise=\"false\"\n                @sauvegarder=\"ajouterTableau\"\n              >\n                <template #activateur=\"{props: propsActivateur}\">\n                  <v-list-item\n                    v-bind=\"propsActivateur\"\n                    :title=\"t('nuées.nouvelle.ajoutTableau')\"\n                    prepend-icon=\"mdi-plus\"\n                  >\n                  </v-list-item>\n                </template>\n              </nouveau-tableau>\n              <ItemSpecificationTableau\n                v-for=\"tbl in tableaux\"\n                :key=\"tbl.clef\"\n                :clef=\"tbl.clef\"\n                :noms=\"tbl.noms\"\n                :colonnes=\"tbl.cols\"\n                modification-permise\n                @modifier-noms=\"noms => modifierNomsTableau({clefTableau: tbl.clef, noms})\"\n                @nouvelle-colonne=\"\n                  col =>\n                    ajouterColonneTableau({\n                      clefTableau: tbl.clef,\n                      idVariable: col.idVariable,\n                      index: col.index,\n                      règles: col.règles,\n                    })\n                \"\n                @effacer-colonne=\"\n                  idColonne => effacerColonneTableau({clefTableau: tbl.clef, idColonne})\n                \"\n                @effacer-tableau=\"() => effacerTableau(tbl.clef)\"\n              />\n            </v-list>\n          </v-window-item>\n          <v-window-item :key=\"4\">\n            <div class=\"text-center\">\n              <v-btn\n                class=\"mt-3\"\n                variant=\"outlined\"\n                :loading=\"enCréation\"\n                @click=\"() => créerNuée()\"\n              >\n                {{ t('nuées.nouvelle.texteBtnCréation') }}\n              </v-btn>\n              <v-checkbox\n                v-model=\"ouvrirAprèsCréation\"\n                class=\"mx-auto\"\n                color=\"primary\"\n                :label=\"t('nuées.nouvelle.ouvrirAprèsCréation')\"\n              >\n              </v-checkbox>\n            </div>\n          </v-window-item>\n        </v-window>\n      </v-card-text>\n      <v-card-actions>\n        <btn-retour\n          :visible=\"retourActif.visible\"\n          :actif=\"retourActif.actif\"\n          @retour=\"retour\"\n        />\n        <v-spacer></v-spacer>\n        <btn-suivant\n          :visible=\"suivantActif.visible\"\n          :actif=\"suivantActif.actif\"\n          @suivant=\"suivant\"\n        />\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n<script setup lang=\"ts\">\nimport {type tableaux as tblx, type valid} from '@constl/ipa';\n\nimport {v4 as uuidv4} from 'uuid';\n\nimport {மொழியாக்கத்தைப்_பயன்படுத்து} from '@lassi-js/kilimukku-vue';\nimport {computed, ref} from 'vue';\nimport {useRouter} from 'vue-router';\nimport {useDisplay} from 'vuetify';\nimport ListeNoms from '../communs/listeNoms/ListeNoms.vue';\nimport NouveauTableau from '../tableaux/NouveauTableau.vue';\nimport BtnRetour from '/@/components/communs/BtnRetour.vue';\nimport BtnSuivant from '/@/components/communs/BtnSuivant.vue';\nimport ItemSpecificationTableau from '/@/components/tableaux/ItemSpécificationTableau.vue';\nimport {utiliserConstellation} from '/@/components/utils';\n\nconst {mdAndUp} = useDisplay();\n\nconst {$மொ: t} = மொழியாக்கத்தைப்_பயன்படுத்து();\nconst router = useRouter();\n\nconst émettre = defineEmits<{(é: 'nouvelle', id: string): void}>();\n\nconst constl = utiliserConstellation();\n\n// Navigation\nconst dialogue = ref(false);\n\nconst étape = ref(0);\nconst listeÉtapes = ['noms', 'descriptions', 'autorisation', 'tableaux', 'confirmation'] as const;\n\nconst titreCarte = computed(() => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    case 'noms':\n      return 'nuées.nouvelle.titreNoms';\n    case 'descriptions':\n      return 'nuées.nouvelle.titreDescriptions';\n    case 'autorisation':\n      return 'nuées.nouvelle.titreAutorisation';\n    case 'tableaux':\n      return 'nuées.nouvelle.titreTableaux';\n    case 'confirmation':\n      return 'nuées.nouvelle.titreConfirmation';\n    default:\n      return '';\n  }\n});\n\nconst sousTitreCarte = computed(() => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    case 'noms':\n      return 'nuées.nouvelle.sousTitreNoms';\n    case 'descriptions':\n      return 'nuées.nouvelle.sousTitreDescriptions';\n    case 'autorisation':\n      return 'nuées.nouvelle.sousTitreAutorisation';\n    case 'tableaux':\n      return 'nuées.nouvelle.sousTitreTableaux';\n    case 'confirmation':\n      return 'nuées.nouvelle.sousTitreConfirmation';\n    default:\n      return '';\n  }\n});\n\nconst retour = () => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    default:\n      étape.value--;\n      break;\n  }\n};\n\nconst suivant = () => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    default:\n      étape.value++;\n      break;\n  }\n};\n\nconst suivantActif = computed<{actif: boolean; visible: boolean}>(() => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    case 'noms':\n      return {actif: !!Object.keys(noms.value).length, visible: true};\n    case 'autorisation':\n      return {actif: autorisation.value !== undefined, visible: true};\n    case 'confirmation':\n      return {actif: false, visible: false};\n    default:\n      return {actif: true, visible: true};\n  }\n});\n\nconst retourActif = computed<{actif: boolean; visible: boolean}>(() => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    case 'noms':\n      return {actif: false, visible: false};\n    case 'confirmation':\n      return {actif: !enCréation.value, visible: true};\n    default:\n      return {actif: true, visible: true};\n  }\n});\n\n// Noms\nconst noms = ref<{[lng: string]: string}>({});\nconst ajusterNoms = (nms: {[lng: string]: string}) => {\n  noms.value = nms;\n};\n\n// Descriptions\nconst descriptions = ref<{[lng: string]: string}>({});\nconst ajusterDescriptions = (desrc: {[lng: string]: string}) => {\n  descriptions.value = desrc;\n};\n\n// Autorisation\nconst autorisation = ref<'CJPI' | 'IJPC'>('IJPC');\n\n// Tableaux\nconst tableaux = ref<\n  {\n    clef: string;\n    noms: {[langue: string]: string};\n    cols: {\n      info: tblx.InfoCol;\n      règles: valid.règleVariable[];\n    }[];\n  }[]\n>([]);\n\nconst ajouterTableau = ({\n  noms,\n  cols,\n}: {\n  noms: {[langue: string]: string};\n  cols: {info: tblx.InfoCol; règles: valid.règleVariable[]}[];\n}) => {\n  tableaux.value = [...tableaux.value, {clef: uuidv4(), noms, cols}];\n};\n\nconst effacerTableau = (clef: string) => {\n  tableaux.value = tableaux.value.filter(t => t.clef !== clef);\n};\n\nconst modifierNomsTableau = ({\n  clefTableau,\n  noms,\n}: {\n  clefTableau: string;\n  noms: {[langue: string]: string};\n}) => {\n  tableaux.value = tableaux.value.map(t => {\n    return t.clef === clefTableau ? {...t, noms} : t;\n  });\n};\n\n// Colonnes tableaux\nconst ajouterColonneTableau = ({\n  clefTableau,\n  idVariable,\n  index,\n  règles,\n}: {\n  clefTableau: string;\n  idVariable: string;\n  index?: boolean;\n  règles: valid.règleVariable[];\n}) => {\n  const nouvelleColonne = {\n    id: uuidv4(),\n    variable: idVariable,\n    index,\n  };\n  tableaux.value = tableaux.value.map(t => {\n    return t.clef === clefTableau\n      ? {clef: t.clef, noms: t.noms, cols: [...t.cols, {info: nouvelleColonne, règles}]}\n      : t;\n  });\n};\n\nconst effacerColonneTableau = ({\n  clefTableau,\n  idColonne,\n}: {\n  clefTableau: string;\n  idColonne: string;\n}) => {\n  tableaux.value = tableaux.value.map(t => {\n    return t.clef === clefTableau\n      ? {clef: t.clef, noms: t.noms, cols: t.cols.filter(c => c.info.id !== idColonne)}\n      : t;\n  });\n};\n\n// Création\nconst ouvrirAprèsCréation = ref(true);\n\nconst enCréation = ref(false);\n\nconst créerNuée = async () => {\n  enCréation.value = true;\n\n  const idNuée = await constl.nuées.créerNuée({\n    autorisation: autorisation.value,\n  });\n  if (!idNuée) throw new Error('Nuée non créée.');\n\n  await constl.nuées.sauvegarderNomsNuée({\n    idNuée,\n    noms: Object.fromEntries(Object.entries(noms.value)),\n  });\n  await constl.nuées.sauvegarderDescriptionsNuée({\n    idNuée,\n    descriptions: Object.fromEntries(Object.entries(descriptions.value)),\n  });\n\n  // Ajouter les tableaux\n  for (const tbl of tableaux.value) {\n    const idTableau = await constl.nuées.ajouterTableauNuée({\n      idNuée,\n      clefTableau: tbl.clef,\n    });\n    if (!idTableau) return;\n\n    await constl.nuées.sauvegarderNomsTableauNuée({\n      idTableau,\n      noms: tbl.noms,\n    });\n\n    // Ajouter les colonnes\n    for (const col of tbl.cols) {\n      const idColonne = col.info.id;\n      await constl.nuées.ajouterColonneTableauNuée({\n        idTableau,\n        idVariable: col.info.variable,\n        idColonne,\n      });\n      if (col.info.index)\n        await constl.nuées.changerColIndexTableauNuée({\n          idTableau,\n          idColonne,\n          val: col.info.index,\n        });\n\n      // Ajotuer les règles colonne\n      for (const règle of col.règles) {\n        await constl.nuées.ajouterRègleTableauNuée({\n          idTableau,\n          idColonne,\n          règle,\n        });\n      }\n    }\n  }\n\n  émettre('nouvelle', idNuée);\n\n  fermer();\n\n  if (ouvrirAprèsCréation.value)\n    router.push(encodeURI(`/données/nuée/${encodeURIComponent(idNuée)}`));\n};\n\n// Fermer\nconst fermer = () => {\n  noms.value = {};\n  descriptions.value = {};\n  autorisation.value = 'IJPC';\n  tableaux.value = [];\n\n  étape.value = 0;\n  dialogue.value = false;\n  enCréation.value = false;\n};\n</script>\n","<template>\n  <selecteur-objet\n    :multiples=\"multiples\"\n    :originaux=\"originales\"\n    :resultats-recherche=\"résultats\"\n    :on-travaille=\"onTravaille\"\n    :texte-etiquette-recherche=\"t('nuées.recherche.étiquette')\"\n    :texte-aucun-résultat=\"t('nuées.recherche.aucunRésultat')\"\n    @selectionnee=\"ids => (idsNuéesSélectionnées = ids)\"\n    @requete-modifiee=\"r => (requête = r)\"\n  >\n    <template #résultat=\"{résultat, click}\">\n      <ResultatRechercheNuée\n        :résultat=\"résultat\"\n        @click=\"click\"\n      />\n    </template>\n    <template #jeton-objet=\"{id, deselectionner}\">\n      <carte-nuée :id=\"id\">\n        <template #activator=\"{props: propsActivateur}\">\n          <jeton-nuee\n            v-bind=\"{props: propsActivateur}\"\n            :id=\"id\"\n            class=\"me-1 mb-1\"\n          >\n            <v-icon\n              class=\"ms-2\"\n              icon=\"mdi-close\"\n              size=\"small\"\n              variant=\"flat\"\n              @click=\"() => deselectionner({id})\"\n            />\n          </jeton-nuee>\n        </template>\n      </carte-nuée>\n    </template>\n    <template #nouveau=\"{nouveau}\">\n      <nouvelle-nuée @nouvelle=\"nouveau\">\n        <template #activator=\"{props: propsActivateur}\">\n          <v-list-item\n            v-bind=\"propsActivateur\"\n            :title=\"t('nuées.nouveau.btn')\"\n            prepend-icon=\"mdi-plus\"\n          >\n          </v-list-item>\n        </template>\n      </nouvelle-nuée>\n    </template>\n  </selecteur-objet>\n</template>\n<script setup lang=\"ts\">\nimport {rechercher} from '@constl/vue';\nimport {ref, watchEffect} from 'vue';\n\nimport SelecteurObjet from '/@/components/communs/SélecteurObjet.vue';\nimport ResultatRechercheNuée from '/@/components/recherche/RésultatRechercheNuée.vue';\n\nimport {utiliserConstellation} from '/@/components/utils';\n\nimport {மொழியாக்கத்தைப்_பயன்படுத்து} from '@lassi-js/kilimukku-vue';\nimport CarteNuée from './CarteNuée.vue';\nimport JetonNuee from './JetonNuée.vue';\nimport NouvelleNuée from './NouvelleNuée.vue';\n\ndefineProps<{multiples: boolean; originales?: string[]}>();\nconst émettre = defineEmits<{\n  (é: 'selectionnee', idsNuées: string[]): void;\n}>();\n\nconst {$மொ: t} = மொழியாக்கத்தைப்_பயன்படுத்து();\n\nconst constl = utiliserConstellation();\n\n// Sélection\nconst idsNuéesSélectionnées = ref<string[]>([]);\nwatchEffect(() => {\n  émettre('selectionnee', idsNuéesSélectionnées.value);\n});\n\n// Contrôles recherche\nconst requête = ref('');\nconst {résultats, onTravaille} = rechercher(constl.recherche.rechercherNuéesSelonTexte, {\n  texte: requête,\n});\n</script>\n"],"names":["t","மொழியாக்கத்தைப்_பயன்படுத்து","_openBlock","_createElementBlock","_hoisted_1","_toDisplayString","_unref","source","props","__props","émettre","__emit","effaçable","computed","_createBlock","ItemRegle","regle","autorisationModifier","_createVNode","SourceRegleColonne","mdAndUp","useDisplay","constl","utiliserConstellation","dialogue","ref","étape","listeÉtapes","titreCarte","sousTitreCarte","suivant","é","retour","suivantActif","idVariableChoisie","retourActif","choisirVariable","idVar","catégorieVariableChoisie","suivre","catégorieBaseVariableChoisie","index","règlesVariable","règlesExistantes","idVariable","r","règlesColonne","ajouterRègle","règle","idRègle","uuidv4","effacerRègle","prèteÀCréér","créerColonne","fermer","_component_v_dialog","$event","_withCtx","propsActivateur","_renderSlot","_ctx","_component_v_card","_component_v_card_item","_component_v_card_title","_createElementVNode","_component_v_spacer","_component_v_btn","_component_v_card_subtitle","_createTextVNode","_component_v_card_text","_component_v_window","_component_v_window_item","SelecteurVariable","variablesInterdites","_cache","ids","_component_v_checkbox","_component_v_list","NouvelleRegle","idTableau","propsActivateurNouvelleRègle","_component_v_list_item","_mergeProps","_component_v_list_item_title","_Fragment","_renderList","ItemRegleColonne","_component_v_divider","_component_v_card_actions","BtnRetour","BtnSuivant","அகராதியிலிருந்து_மொழிபெயர்ப்பு","மொழிகளைப்_பயன்படுத்து","choixVariable","watchEffect","nomsVariable","nomVariableTraduit","choixIndex","spécColonne","effacerColonne","modificationPermise","noms","ajusterNoms","nms","colonnes","ajouterColonne","idColonne","règles","modifierColonne","c","variablesDéjàAjoutées","v","confirmer","ListeNoms","NouvelleColonne","col","ItemSpecificationColonne","modifierNoms","noms_","nomTraduit","info","_component_v_list_group","clef","DialogueNoms","propsActivateurDialogueNoms","_component_v_icon","router","useRouter","autorisation","enCréation","descriptions","ajusterDescriptions","desrc","tableaux","ajouterTableau","cols","effacerTableau","modifierNomsTableau","clefTableau","ajouterColonneTableau","nouvelleColonne","effacerColonneTableau","ouvrirAprèsCréation","créerNuée","idNuée","tbl","_component_v_radio_group","_component_v_radio","_hoisted_2","_hoisted_3","_hoisted_4","NouveauTableau","ItemSpecificationTableau","_hoisted_5","idsNuéesSélectionnées","requête","résultats","onTravaille","rechercher","SelecteurObjet","multiples","originales","résultat","click","ResultatRechercheNuée","id","deselectionner","CarteNuée","JetonNuee","nouveau","NouvelleNuée"],"mappings":"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"}