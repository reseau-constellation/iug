import{r as q,q as m,dg as ae,v as O,க as M,d as R,dh as $,p as j,s as G,A as ne,a as H,b as i,aX as oe,h as o,w as t,M as ue,K as F,f as g,t as C,av as k,ad as Q,ae as L,aQ as de,aI as re,di as pe,Q as ce,n as fe,c as ve,x as me,V as ge,i as be,e as Ue,y as z,j as x,R as D,m as Ve,z as c,G as S,df as U,ap as Se,H as Ce,I as qe,J as Te}from"./index-luGBhR1e.js";import{a as xe}from"./valide-lmbSZfrd.js";const Ae=()=>{const{மொழியாக்கம்_பயன்படுத்து:s}=M(),{$மொ:l}=s();return[{titre:l("épingler.aucun"),sousTitre:l("épingler.indiceAucun"),icône:"mdi-cancel",valeur:"AUCUN"},{titre:l("épingler.tous"),sousTitre:l("épingler.indiceTous"),icône:"mdi-devices",valeur:"TOUS"},{titre:l("épingler.installé"),sousTitre:l("épingler.indiceInstallé"),icône:"mdi-monitor",valeur:"INSTALLÉ"},{titre:l("épingler.dispositifsSpécifiques"),sousTitre:l("épingler.indiceDispositifsSpécifiques"),icône:"mdi-monitor-cellphone-star",valeur:"SPÉCIFIQUES"}]},E=(s,l="AUCUN")=>{const a=q(l),d=q([]),V=m(()=>a.value==="SPÉCIFIQUES"?d.value:a.value),f=m(()=>a.value==="SPÉCIFIQUES"?d.value?.length:!0),v=m(()=>s.value==="AUCUN"||s.value===void 0?a.value!=="AUCUN":Array.isArray(s.value)?!ae(new Set(s.value),new Set(a.value)):s.value!==a.value);return O(()=>{a.value!=="SPÉCIFIQUES"&&(d.value=[])}),O(()=>{s.value===void 0?a.value="AUCUN":Array.isArray(s.value)||xe(s.value)?(a.value="SPÉCIFIQUES",d.value=Array.isArray(s.value)?s.value:[s.value]):(s.value==="INSTALLÉ"||s.value==="TOUS")&&(a.value=s.value)}),{sélection:a,spécifiques:d,dispositifs:V,valide:f,modifié:v}},P=R({__name:"SélectionDispositifs",props:{selection:{},selectionModifiers:{},specifiques:{},specifiquesModifiers:{}},emits:["update:selection","update:specifiques"],setup(s){const l=$(s,"selection"),a=$(s,"specifiques"),d=j(),{மொழியாக்கம்_பயன்படுத்து:V}=M(),{$மொ:f}=V(),v=Ae(),b=G(d.suivreDispositifs);return(T,r)=>(H(),ne(ce,null,[i(oe,{modelValue:l.value,"onUpdate:modelValue":r[0]||(r[0]=n=>l.value=n),items:o(v),"prepend-inner-icon":o(v).find(n=>n.valeur===l.value)?.icône,"item-value":"valeur",variant:"plain"},{selection:t(({item:n})=>[g(C(n.raw.titre),1)]),item:t(({item:n,props:p})=>[i(ue,F(p,{title:n.raw.titre,subtitle:n.raw.sousTitre,"prepend-icon":n.raw.icône}),null,16,["title","subtitle","prepend-icon"])]),_:1},8,["modelValue","items","prepend-inner-icon"]),i(k,null,{default:t(()=>[Q(i(de,{modelValue:a.value,"onUpdate:modelValue":r[1]||(r[1]=n=>a.value=n),items:o(b),label:o(f)("épingler.indiceSélectionnerDispositif"),chips:"","closable-chips":"",density:"compact",variant:"outlined",multiple:""},{chip:t(({props:n,item:p})=>[i(pe,F(n,{"id-dispositif":p.title}),null,16,["id-dispositif"])]),item:t(({props:n,item:p})=>[i(re,F(n,{"id-dispositif":p.title}),null,16,["id-dispositif"])]),_:1},8,["modelValue","items","label"]),[[L,l.value==="SPÉCIFIQUES"]])]),_:1})],64))}}),_e={class:"mb-2"},Be=R({__name:"ÉpinglerBd",props:{idBd:{}},setup(s){const l=s,a=j(),{mdAndUp:d}=fe(),{மொழியாக்கம்_பயன்படுத்து:V}=M(),{$மொ:f}=V(),v=q(!1),b=q(!1),T=G(a.bds.suivreÉpingleBd,{idBd:l.idBd}),{sélection:r,dispositifs:n,spécifiques:p,valide:J,modifié:K}=E(m(()=>T.value?.base),"TOUS"),{sélection:A,dispositifs:X,spécifiques:_,valide:W,modifié:Y}=E(m(()=>T.value?.données.tableaux),"TOUS"),{sélection:w,dispositifs:Z,spécifiques:I,valide:h,modifié:ee}=E(m(()=>T.value?.données.fichiers),"INSTALLÉ"),ie=m(()=>J&&W&&h),se=m(()=>K.value||Y.value||ee.value),B=q(!1),le=async()=>{if(B.value=!0,n.value!=="AUCUN"){const N={type:"bd",base:n.value,données:{tableaux:X.value,fichiers:Z.value}};await a.bds.épinglerBd({idBd:l.idBd,options:N})}else await te();y()},te=async()=>{await a.favoris.désépinglerFavori({idObjet:l.idBd})},y=()=>{v.value=!1,B.value=!1};return(N,e)=>(H(),ve(me,{modelValue:v.value,"onUpdate:modelValue":e[8]||(e[8]=u=>v.value=u),"max-width":o(d)?500:300},{activator:t(({props:u})=>[Ce(N.$slots,"activator",qe(Te({props:u})))]),default:t(()=>[i(ge,null,{default:t(()=>[i(be,null,{default:t(()=>[i(Ue,{class:"d-flex"},{default:t(()=>[g(C(o(f)("épingler.titre"))+" ",1),i(z),i(x,{icon:"mdi-close",size:"small",variant:"flat",onClick:y})]),_:1})]),_:1}),i(D),i(Ve,{style:{"overflow-y":"scroll"}},{default:t(()=>[i(S,{start:""},{default:t(()=>e[9]||(e[9]=[g("mdi-pin-outline")])),_:1}),e[14]||(e[14]=c("span",{class:"font-weight-bold"},"ஒட்டுக்கொள்ளும் சாதனங்கள்",-1)),i(P,{selection:o(r),"onUpdate:selection":e[0]||(e[0]=u=>U(r)?r.value=u:null),specifiques:o(p),"onUpdate:specifiques":e[1]||(e[1]=u=>U(p)?p.value=u:null)},null,8,["selection","specifiques"]),i(k,null,{default:t(()=>[Q(c("div",null,[c("p",_e,[c("span",null,C(o(f)("épingler.optionsAvancées")),1),i(x,{icon:b.value?"mdi-chevron-up":"mdi-chevron-down",size:"xsmall",variant:"flat",onClick:e[2]||(e[2]=()=>b.value=!b.value)},null,8,["icon"])]),i(k,null,{default:t(()=>[Q(c("div",null,[i(D,{class:"mb-2"}),c("p",null,[i(S,{start:""},{default:t(()=>e[10]||(e[10]=[g("mdi-table-multiple")])),_:1}),e[11]||(e[11]=c("span",{class:"font-weight-bold"},"தரவுகளை ஒட்டுக்கொள்ளும் சாதனங்கள்",-1))]),i(P,{selection:o(A),"onUpdate:selection":e[3]||(e[3]=u=>U(A)?A.value=u:null),specifiques:o(_),"onUpdate:specifiques":e[4]||(e[4]=u=>U(_)?_.value=u:null)},null,8,["selection","specifiques"]),c("p",null,[i(S,{start:""},{default:t(()=>e[12]||(e[12]=[g("mdi-image-multiple-outline")])),_:1}),e[13]||(e[13]=c("span",{class:"font-weight-bold"},"கோப்புரைகளை ஒட்டுக்கொள்ளும் சாதனங்கள்",-1))]),i(P,{selection:o(w),"onUpdate:selection":e[5]||(e[5]=u=>U(w)?w.value=u:null),specifiques:o(I),"onUpdate:specifiques":e[6]||(e[6]=u=>U(I)?I.value=u:null)},null,8,["selection","specifiques"])],512),[[L,b.value]])]),_:1})],512),[[L,o(r)!=="AUCUN"]])]),_:1})]),_:1}),i(D),i(Se,null,{default:t(()=>[i(z),i(x,{variant:"outlined",onClick:y},{default:t(()=>[g(C(o(f)("communs.fermer"))+" ",1),i(S,{icon:"mdi-close",end:""})]),_:1}),i(x,{color:"primary",variant:"outlined",loading:B.value,disabled:!ie.value||!se.value,onClick:e[7]||(e[7]=()=>le())},{default:t(()=>[g(C(o(f)("communs.sauvegarder"))+" ",1),i(S,{icon:"mdi-check",end:""})]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:3},8,["modelValue","max-width"]))}});export{Be as _,P as a,E as o};
//# sourceMappingURL=ÉpinglerBd.vue_vue_type_script_setup_true_lang-DDZqpnpH.js.map
