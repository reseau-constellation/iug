{"version":3,"file":"PageNuée-8u95ZHlD.js","sources":["../../src/components/nuées/ItemMembreExclusNuée.vue","../../src/components/nuées/ItemMembreAcceptéNuée.vue","../../src/components/nuées/CarteAutorisationsNuée.vue","../../src/components/nuées/CarteBdsDeNuée.vue","../../src/components/nuées/CarteStatutNuée.vue","../../src/components/nuées/CarteCodeNuée.vue","../../src/components/nuées/ItemAutorisationsNuée.vue","../../src/components/nuées/ItemBdsDeNuée.vue","../../src/components/tableaux/CarteCodeTableauNuée.vue","../../src/components/tableaux/TableauNuée.vue","../../src/vues/données/PageNuée.vue"],"sourcesContent":["<template>\n  <item-membre\n    :compte=\"idCompte\"\n    montrer-anonymes\n  >\n    <template #fin>\n      <v-btn\n        icon=\"mdi-cancel\"\n        size=\"small\"\n        variant=\"flat\"\n        @click=\"()=>émettre('effacer', idCompte)\"\n      />\n    </template>\n  </item-membre>\n</template>\n<script setup lang=\"ts\">\nimport ItemMembre from '/@/components/membres/ItemMembre.vue';\n\ndefineProps<{idCompte: string}>();\nconst émettre = defineEmits<{\n  (é: 'effacer', id: string): void\n}>();\n</script>","<template>\n  <item-membre\n    :compte=\"idCompte\"\n    montrer-anonymes\n  >\n    <template #fin>\n      <v-btn\n        icon=\"mdi-cancel\"\n        size=\"small\"\n        variant=\"flat\"\n        @click=\"()=>émettre('effacer', idCompte)\"\n      />\n    </template>\n  </item-membre>\n</template>\n  <script setup lang=\"ts\">\n  import ItemMembre from '/@/components/membres/ItemMembre.vue';\n  \n  defineProps<{idCompte: string}>();\n  const émettre = defineEmits<{\n    (é: 'effacer', id: string): void\n  }>();\n  </script>","<template>\n  <v-dialog v-model=\"dialogue\">\n    <template #activator=\"{props: propsActivateur}\">\n      <slot\n        name=\"activateur\"\n        v-bind=\"{props: propsActivateur}\"\n      ></slot>\n    </template>\n    <v-card\n      class=\"mx-auto\"\n      :min-width=\"mdAndUp ? 500 : 300\"\n    >\n      <v-card-item>\n        <v-card-title class=\"d-flex align-center\">\n          {{ t('nuées.autorisations.carte.titre') }}\n          <v-spacer />\n          <v-btn\n            icon=\"mdi-close\"\n            size=\"small\"\n            variant=\"flat\"\n            @click=\"dialogue = false\"\n          />\n        </v-card-title>\n      </v-card-item>\n      <v-card-text v-if=\"monAutorisation\">\n        <p class=\"mt-2 font-weight-bold\">{{ t('nuées.autorisations.philosophie') }}</p>\n        <v-divider />\n        <v-radio-group\n          v-model=\"autorisation\"\n        >\n          <v-radio\n            value=\"CJPI\"\n            class=\"my-2\"\n          >\n            <template #label>\n              <div>\n                <p>{{ t('nuées.nouvelle.parInvitation') }}</p>\n                <p class=\"text-disabled\">\n                  {{ t('nuées.nouvelle.indiceParInvitation') }}\n                </p>\n              </div>\n            </template>\n          </v-radio>\n          <v-radio\n            value=\"IJPC\"\n            class=\"my-2\"\n          >\n            <template #label>\n              <div>\n                <p>{{ t('nuées.nouvelle.ouverteÀTous') }}</p>\n                <p class=\"text-disabled\">\n                  {{ t('nuées.nouvelle.indiceOuverteÀTous') }}\n                </p>\n              </div>\n            </template>\n          </v-radio>\n        </v-radio-group>\n        <p class=\"mt-2 font-weight-bold\">\n          {{\n            t(\n              `nuées.autorisations.${autorisation === 'CJPI' ? 'membresAutorisés' : 'membresBloqués'}`,\n            )\n          }}\n        </p>\n        <v-divider />\n        <v-dialog>\n          <template #activator=\"{props: propsActivateur}\">\n            <v-list-item\n              v-bind=\"propsActivateur\"\n              :prepend-icon=\"autorisation === 'CJPI' ? 'mdi-account-plus-outline' : 'mdi-account-cancel-outline'\"\n            >\n              {{\n                t(\n                  `nuées.autorisations.${autorisation === 'CJPI' ? 'ajouterMembreAccepté' : 'ajouterMembreExclus'}`,\n                )\n              }}\n            </v-list-item>\n          </template>\n          <v-card\n            class=\"mx-auto\"\n            :max-width=\"500\"\n            :min-width=\"300\"\n          >\n            <v-card-text>\n              <selecteur-membre\n                multiples\n                :interdits=\"autorisation === 'CJPI' ? membresAcceptés : membresExclus\"\n                @selectionnee=\"membres => lorsqueMembresSélectionnés(membres)\"\n              />\n            </v-card-text>  \n          </v-card>\n        </v-dialog>\n        <p\n          v-if=\"autorisation === 'CJPI' ? !membresAcceptés?.length : !membresExclus?.length\"\n          class=\"text-h6 text-disabled text-center\"\n        >\n          {{ t(`nuées.autorisations.${autorisation === 'CJPI' ? 'aucunMembreAccepté' : 'aucunMembreExclus'}`) }}\n        </p>\n        <v-list v-if=\"autorisation === 'CJPI'\">\n          <item-membre-accepte-nuee\n            v-for=\"membre in membresAcceptés\"\n            :key=\"membre\"\n            :id-compte=\"membre\"\n            @effacer=\"idMembre=>révoquerAcceptationMembre(idMembre)\"\n          />\n        </v-list>\n        <v-list v-else-if=\"autorisation === 'IJPC'\">\n          <item-membre-exclus-nuee\n            v-for=\"membre in membresExclus\"\n            :key=\"membre\"\n            :id-compte=\"membre\"\n            @effacer=\"idMembre=>révoquerExclusionMembre(idMembre)\"\n          />\n        </v-list>\n      </v-card-text>\n      <v-card-text v-else>\n        <div class=\"text-center\">\n          <p class=\"text-h5\">{{ autorisation === 'CJPI' ? t('nuées.autorisations.parInvitation') : t('nuées.autorisations.ouverteÀTous') }}</p>\n          <p class=\"text-disabled text-h6\">\n            {{ autorisation === 'CJPI' ? t('nuées.autorisations.indiceParInvitation') : t('nuées.autorisations.indiceOuverteÀTous') }}\n          </p>\n        </div>\n      </v-card-text>\n      <v-card-actions>\n        <v-spacer />\n        <btn-annuler @click=\"dialogue = false\" />\n        <btn-sauvegarder\n          :actif=\"modifié\"\n          @click=\"() => sauvegarder()\"\n        />\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n<script setup lang=\"ts\">\nimport {மொழியாக்கத்தைப்_பயன்படுத்து} from '@lassi-js/kilimukku-vue';\nimport {computed, ref} from 'vue';\nimport {useDisplay} from 'vuetify';\n\nimport SelecteurMembre from '/@/components/membres/SélecteurMembre.vue';\nimport ItemMembreExclusNuee from '../nuées/ItemMembreExclusNuée.vue';\nimport ItemMembreAccepteNuee from '../nuées/ItemMembreAcceptéNuée.vue';\n\nimport BtnAnnuler from '/@/components/communs/BtnAnnuler.vue';\nimport BtnSauvegarder from '/@/components/communs/BtnSauvegarder.vue';\n\nimport {suivre} from '@constl/vue';\nimport {watchEffect} from 'vue';\nimport {utiliserConstellation} from '../utils';\n\nconst props = defineProps<{idNuee: string}>();\n\nconst {$மொ: t} = மொழியாக்கத்தைப்_பயன்படுத்து();\nconst {mdAndUp} = useDisplay();\nconst constl = utiliserConstellation();\n\n// Navigation\nconst dialogue = ref(false);\n\n// Accès à la Nuée\nconst monAutorisation = suivre(constl.suivrePermission, {idObjet: computed(() => props.idNuee)});\n\n// Autorisation\nconst autorisationNuée = suivre(constl.nuées.suivrePhilosophieAutorisation, {\n  idNuée: computed(() => props.idNuee),\n});\nconst autorisation = ref(autorisationNuée.value);\nwatchEffect(() => {\n  autorisation.value = autorisationNuée.value;\n});\n\n// Membres\nconst autorisationsMembres = suivre(constl.nuées.suivreAutorisationsMembresDeNuée, {\n  idNuée: computed(() => props.idNuee),\n});\nconst membresAcceptés = computed(() =>\n  autorisationsMembres.value?.filter(a => a.statut === 'accepté').map(a => a.idCompte),\n);\nconst membresExclus = computed(() =>\n  autorisationsMembres.value?.filter(a => a.statut === 'exclus').map(a => a.idCompte),\n);\n\nconst lorsqueMembresSélectionnés = async (membres: string[]) => {\n  if (autorisation.value === 'CJPI') {\n    await Promise.all(\n      membres.map(async m=>await constl.nuées.accepterMembreNuée({\n        idNuée: props.idNuee,\n        idCompte: m,\n      }),\n    ));\n  } else if (autorisation.value === 'IJPC') {\n    await Promise.all(\n      membres.map(async m => await constl.nuées.exclureMembreDeNuée({\n        idNuée: props.idNuee,\n        idCompte: m,\n      })),\n    );\n  }\n};\n\nconst révoquerExclusionMembre = async (idMembre: string) => {\n  await constl.nuées.révoquerExclusionMembreNuée({\n    idNuée: props.idNuee,\n    idCompte: idMembre,\n  });\n}; \nconst révoquerAcceptationMembre = async (idMembre: string) => {\n  await constl.nuées.révoquerAcceptationMembreNuée({\n    idNuée: props.idNuee,\n    idCompte: idMembre,\n  });\n}; \n\n// Sauvegarde\nconst modifié = computed(() => autorisation.value !== autorisationNuée.value);\nconst sauvegarder = () => {};\n</script>\n","<template>\n  <v-dialog v-model=\"dialogue\">\n    <template #activator=\"{props: propsActivateur}\">\n      <slot\n        name=\"activateur\"\n        v-bind=\"{props: propsActivateur}\"\n      ></slot>\n    </template>\n    <v-card\n      class=\"mx-auto\"\n      :min-width=\"mdAndUp ? 500 : 300\"\n    >\n      <v-card-item>\n        <v-card-title class=\"d-flex align-center\">\n          {{ t('nuées.bds.carte.titre') }}\n          <v-spacer />\n          <v-btn\n            icon=\"mdi-close\"\n            size=\"small\"\n            variant=\"flat\"\n            @click=\"dialogue = false\"\n          />\n        </v-card-title>\n      </v-card-item>\n      <v-card-text>\n        <v-list>\n          <nouvelle-bd :init=\"{type: 'nuée', id: idNuee}\">\n            <template #activateur=\"{props: propsActivateur}\">\n              <v-list-item\n                v-bind=\"propsActivateur\"\n                prepend-icon=\"mdi-database-plus-outline\"\n              >\n                {{ t('nuées.bds.créer') }}\n              </v-list-item>\n            </template>\n          </nouvelle-bd>\n          <v-divider />\n          <item-bd\n            v-for=\"idBd in bdsDeNuée\"\n            :id=\"idBd\"\n            :key=\"idBd\"\n          />\n          <div class=\"text-center\">\n            <p\n              v-if=\"!bdsDeNuée?.length\"\n              class=\"my-4 text-h6 text-disabled\"\n            >\n              {{ t('nuées.bds.aucuneBd') }}\n            </p>\n          </div>\n        </v-list>\n      </v-card-text>\n    </v-card>\n  </v-dialog>\n</template>\n<script setup lang=\"ts\">\nimport {மொழியாக்கத்தைப்_பயன்படுத்து} from '@lassi-js/kilimukku-vue';\nimport {computed, ref} from 'vue';\nimport {useDisplay} from 'vuetify';\n\nimport {rechercher} from '@constl/vue';\nimport {utiliserConstellation} from '../utils';\nimport ItemBd from '/@/components/bds/ItemBd.vue';\nimport NouvelleBd from '/@/components/bds/NouvelleBd.vue';\n\nconst props = defineProps<{idNuee: string}>();\n\nconst {$மொ: t} = மொழியாக்கத்தைப்_பயன்படுத்து();\nconst {mdAndUp} = useDisplay();\nconst constl = utiliserConstellation();\n\n// Navigation\nconst dialogue = ref(false);\n\n// Bds\nconst {résultats: bdsDeNuée} = rechercher(constl.nuées.suivreBdsCorrespondantes, {\n  idNuée: computed(() => props.idNuee),\n});\n</script>\n","<template>\n  <v-dialog v-model=\"dialogue\">\n    <template #activator=\"{props: propsActivateur}\">\n      <slot\n        name=\"activateur\"\n        v-bind=\"{props: propsActivateur}\"\n      ></slot>\n    </template>\n    <v-card\n      class=\"mx-auto\"\n      :min-width=\"mdAndUp ? 500 : 300\"\n    >\n      <v-card-item>\n        <v-card-title>{{ t('nuées.statut.carte.titre') }}</v-card-title>\n      </v-card-item>\n      <v-card-text>\n        <choisir-statut\n          :initial=\"statutChoisi\"\n          @choisir=\"stt => (statutChoisi = stt)\"\n        >\n          <template #sélecteur=\"{choisirNouvelle}\">\n            <selecteur-nuee\n              :multiples=\"false\"\n              @selectionnee=\"ids => choisirNouvelle(ids[0])\"\n            />\n          </template>\n        </choisir-statut>\n      </v-card-text>\n      <v-card-actions>\n        <v-spacer />\n        <btn-annuler @click=\"dialogue = false\" />\n        <btn-sauvegarder\n          :actif=\"modifié\"\n          :en-attente=\"enModification\"\n          @click=\"() => sauvegarder()\"\n        />\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n<script setup lang=\"ts\">\nimport {suivre} from '@constl/vue';\nimport {computed, ref} from 'vue';\nimport {useDisplay} from 'vuetify';\n\nimport type {types} from '@constl/ipa';\nimport {மொழியாக்கத்தைப்_பயன்படுத்து} from '@lassi-js/kilimukku-vue';\nimport {watchEffect} from 'vue';\nimport {utiliserConstellation} from '../utils';\nimport SelecteurNuee from './SélecteurNuée.vue';\nimport ChoisirStatut from '/@/components/communs/ChoisirStatut.vue';\n\nimport BtnAnnuler from '/@/components/communs/BtnAnnuler.vue';\nimport BtnSauvegarder from '/@/components/communs/BtnSauvegarder.vue';\n\nconst props = defineProps<{idNuee: string}>();\n\nconst {$மொ: t} = மொழியாக்கத்தைப்_பயன்படுத்து();\nconst {mdAndUp} = useDisplay();\n\nconst constl = utiliserConstellation();\n\n// Navigation\nconst dialogue = ref(false);\n\n// Statut\nconst statut = suivre(constl.nuées.suivreStatutNuée, {idNuée: computed(() => props.idNuee)});\nconst statutChoisi = ref<types.schémaStatut>();\nwatchEffect(() => {\n  statutChoisi.value = statut.value;\n});\nconst modifié = computed(() => {\n  return (\n    statut.value?.statut !== statutChoisi.value?.statut ||\n    statut.value?.idNouvelle !== statutChoisi.value?.idNouvelle\n  );\n});\nconst enModification = ref(false);\nconst sauvegarder = async () => {\n  enModification.value = true;\n  if (statutChoisi.value)\n    await constl.nuées.changerStatutNuée({\n      idNuée: props.idNuee,\n      statut: statutChoisi.value,\n    });\n  enModification.value = false;\n  dialogue.value = false;\n};\n</script>\n","<template>\n  <carte-code\n    :codes=\"codes\"\n    langage-defaut=\"py\"\n  >\n    <template #activateur=\"{props: propsActivateur}\">\n      <slot\n        name=\"activateur\"\n        v-bind=\"{props: propsActivateur}\"\n      ></slot>\n    </template>\n  </carte-code>\n</template>\n\n<script setup lang=\"ts\">\nimport {மொழிகளைப்_பயன்படுத்து} from '@lassi-js/kilimukku-vue';\nimport {computed} from 'vue';\nimport CarteCode from '/@/components/communs/CarteCode.vue';\n\nconst {மொழி, மாற்றுமொழிகள்} = மொழிகளைப்_பயன்படுத்து();\n\nconst languesPréférées = computed(() => {\n  return [மொழி.value, ...மாற்றுமொழிகள்.value];\n});\n\nconst props = defineProps<{id: string}>();\n\nconst codes = computed(() => {\n  return {\n    ts: `import { créerConstellation, type nuées } from \"@constl/ipa\";\n\nconst client = créerConstellation();\n\nconst analyser = async (données: nuées.donnéesNuéeExportation) => {\n    console.log(données)  // Faire quelque chose de plus intelligent ici :)\n}\nconst fOublierDonnées = await client.nuées.suivreDonnéesExportation({\n    idNuée: \"${props.id}\",\n    // Modifier langues selon vos besoins\n    langues: [${languesPréférées.value.map(lng => '\"' + lng + '\"').join(', ')}],\n    f: analyser\n});\n`,\n    py: `from constellationPy import Serveur, ClientSync\n\nwith Serveur():\n    client = ClientSync()\n\n    données = client.obt_données_nuée(\n        id_nuée=\"${props.id}\",\n        # Modifier langues selon vos besoins\n        langues=[${languesPréférées.value.map(lng => '\"' + lng + '\"').join(', ')}]\n    )\n\n    # Analyser ou sauvegarder les données ici, par exemple...\n    données.exporter(\"fichier.ods\")  # ou bien \"fichier.xlsx\" pour Excel\n\n    # Accéder à un tableau en format pandas\n    données_tableau = tableau_exporté_à_pandas(données[\"Un tableau\"])\n`,\n    julia: `import Constellation\n\nConstellation.avecServeur() do port\n    Constellation.avecClient(port) do client\n        donnéesRéseau = Constellation.obtDonnéesTableauNuée(\n          client, \n          \"${props.id}\", \n          // Modifier langues selon vos besoins\n          [${languesPréférées.value.map(lng => '\"' + lng + '\"').join(', ')}]\n        )\n    end\nend`,\n    r: `library(constellationR)\n\nconstellationR::avecClientEtServeur(\n  function (client) {\n    f <- function(résultats) {\n      print(résultats)\n\n      # Analyser les données ici...\n    }\n\n    oublier <- client$obtDonnéesTableauNuée(\n      f=f,\n      idNuée=\"${props.id}\",\n    )\n  }\n)\n`,\n  };\n});\n</script>\n","<template>\n  <v-list-item prepend-icon=\"mdi-account-multiple-check-outline\">\n    <v-list-item-title>\n      {{ t('nuées.autorisations.item.titre') }}\n    </v-list-item-title>\n  </v-list-item>\n</template>\n<script setup lang=\"ts\">\nimport {மொழியாக்கத்தைப்_பயன்படுத்து} from '@lassi-js/kilimukku-vue';\n\nconst {$மொ: t} = மொழியாக்கத்தைப்_பயன்படுத்து();\n\ndefineProps<{idNuee: string}>();\n</script>\n","<template>\n  <v-list-item prepend-icon=\"mdi-database-check-outline\">\n    <v-list-item-title>\n      {{ t('nuées.bds.item.titre', nBdsDeNuée) }}\n    </v-list-item-title>\n  </v-list-item>\n</template>\n<script setup lang=\"ts\">\nimport {rechercher} from '@constl/vue';\nimport {மொழியாக்கத்தைப்_பயன்படுத்து} from '@lassi-js/kilimukku-vue';\nimport {computed} from 'vue';\nimport {utiliserConstellation} from '../utils';\n\nconst props = defineProps<{idNuee: string}>();\n\nconst {$மொ: t} = மொழியாக்கத்தைப்_பயன்படுத்து();\n\nconst constl = utiliserConstellation();\n\nconst {résultats: bdsDeNuée} = rechercher(constl.nuées.suivreBdsCorrespondantes, {\n  idNuée: computed(() => props.idNuee),\n});\nconst nBdsDeNuée = computed(() => bdsDeNuée.value?.length);\n</script>\n","<template>\n  <CarteCode\n    :codes=\"codes\"\n    langage-defaut=\"py\"\n  >\n    <template #activateur=\"{props: propsActivateur}\">\n      <slot\n        name=\"activateur\"\n        v-bind=\"{props: propsActivateur}\"\n      ></slot>\n    </template>\n  </CarteCode>\n</template>\n\n<script setup lang=\"ts\">\nimport {மொழிகளைப்_பயன்படுத்து} from '@lassi-js/kilimukku-vue';\n\nimport {computed} from 'vue';\nimport CarteCode from '/@/components/communs/CarteCode.vue';\n\nconst props = defineProps<{idNuee: string; clefTableau: string}>();\n\nconst {மொழி, மாற்றுமொழிகள்} = மொழிகளைப்_பயன்படுத்து();\n\nconst languesPréférées = computed(() => {\n  return [மொழி.value, ...மாற்றுமொழிகள்.value];\n});\n\nconst codes = {\n  ts: `import { créerConstellation } from \"@constl/ipa\";\n\nconst client = créerConstellation();\n\nconst monAnalyse = async (données) => {\n  console.log(données)\n  // Faire quelque chose...\n}\n\nconst fOublier = client.nuées.suivreDonnéesExportationTableau({\n  idNuée: \"${props.idNuee}\",\n  clefTableau: \"${props.clefTableau}\",\n  langues: [${languesPréférées.value.map(lng => '\"' + lng + '\"').join(', ')}],  // Modifier langues selon vos besoins\n  f: monAnalyse\n});\n`,\n  py: `from constellationPy import Serveur, ClientSync\n\nwith Serveur():\n    client = ClientSync()\n\n    données = client.obt_données_tableau_nuée(\n      idNuée: \"${props.idNuee}\",\n      clefTableau: \"${props.clefTableau}\",\n      # Modifier langues selon vos besoins\n      langues=[${languesPréférées.value.map(lng => '\"' + lng + '\"').join(', ')}]\n    )\n\n    # Analyser ou sauvegarder les données ici...\n    données.to_excel(\"./MesDonnéesExportées.xlsx\")\n`,\n  julia: `import Constellation\n\nConstellation.avecServeur() do port\n  Constellation.avecClient(port) do client\n\n    oublier = Constellation.suivre(\n        client, \n        \"nuées.suivreDonnéesExportationTableau\", \n        Dict([\n          (\"idNuée\",\"${props.idNuee}\"),\n          (\"clefTableau\",\"${props.clefTableau}\"),\n          (\"langues\", [${languesPréférées.value.map(lng => '\"' + lng + '\"').join(', ')}])\n        ])\n    ) do résultat\n        print(résultat)\n    end\n  end\nend\n\n`,\n  r: `library(constellationR)\n\nconstellationR::avecClientEtServeur(\n  function (client) {\n    \n    données <- client$appeler(\n      \"tableaux.suivreDonnéesExportation\", \n      list(\n        idNuée=\"${props.idNuee}\",\n        clefTableau=\"${props.clefTableau}\",\n        langues=c(${languesPréférées.value.map(lng => '\"' + lng + '\"').join(', ')})\n      )\n    )\n  }\n)\n\n`,\n};\n</script>\n","<template>\n  <v-data-table\n    :headers=\"entêtes\"\n    :items=\"filesTableau\"\n  >\n    <template #top>\n      <v-toolbar\n        flat\n        density=\"compact\"\n      >\n        <v-spacer />\n        <nouvelle-colonne\n          v-if=\"autorisation\"\n          :id-tableau=\"idTableau\"\n          :variables-interdites=\"variables\"\n          @nouvelle=\"col => ajouterColonne(col)\"\n        >\n          <template #activateur=\"{props: propsActivateur}\">\n            <v-btn\n              v-bind=\"propsActivateur\"\n              icon=\"mdi-table-column-plus-after\"\n            ></v-btn>\n          </template>\n        </nouvelle-colonne>\n        <carte-code-tableau-nuee\n          :id-nuee=\"idNuee\"\n          :clef-tableau=\"clefTableau\"\n        >\n          <template #activateur=\"{props: propsActivateurCarte}\">\n            <v-tooltip\n              :text=\"t('code.indice')\"\n              :open-delay=\"200\"\n              location=\"bottom\"\n            >\n              <template #activator=\"{props: propsActivateurIndice}\">\n                <v-btn\n                  v-bind=\"{...propsActivateurCarte, ...propsActivateurIndice}\"\n                  icon=\"mdi-xml\"\n                />\n              </template>\n            </v-tooltip>\n          </template>\n        </carte-code-tableau-nuee>\n        <carte-effacer\n          v-if=\"autorisation\"\n          @effacer=\"() => effacerTableau()\"\n        >\n          <template #activateurctivator=\"{props: propsActivateur}\">\n            <v-btn\n              v-bind=\"propsActivateur\"\n              icon=\"mdi-delete\"\n              color=\"error\"\n            />\n          </template>\n        </carte-effacer>\n      </v-toolbar>\n    </template>\n    <template #no-data>\n      <span class=\"text-h6 text-disabled\">{{ t('tableaux.aucuneDonnée') }}</span>\n    </template>\n\n    <template\n      v-for=\"c in colonnesVariables\"\n      :key=\"c.key\"\n      #[`header.${c.key}`]=\"{column, isSorted, getSortIcon, toggleSort}\"\n    >\n      <entete-colonne-tableau\n        :id-colonne=\"c.key\"\n        :id-variable=\"c.info.variable\"\n        :id-tableau=\"idTableau\"\n        :index=\"!!c.info.index\"\n        :regles=\"règles?.filter(r => r.colonne === c.key)\"\n        :permission-modifier=\"!!autorisation\"\n        :ordonnable=\"column.sortable\"\n        :est-ordonnee=\"isSorted(column)\"\n        :icone-ordonner=\"getSortIcon(column) as string\"\n        @basculer-ordonner=\"() => toggleSort(column)\"\n        @sauvegarder=\"info => modifierColonne({idColonne: c.key, ...info})\"\n        @effacer=\"() => effacerColonne({idColonne: c.key})\"\n      />\n    </template>\n\n    <template\n      v-for=\"c in colonnesVariables\"\n      :key=\"c.key\"\n      #[`item.${c.key}`]=\"{item}\"\n    >\n      <cellule-tableau\n        :categorie=\"c.info.catégorie?.catégorie\"\n        :val=\"item[c.key]\"\n        :editable=\"false\"\n      />\n    </template>\n\n    <template #[`header.idCompte`]=\"{column, isSorted, getSortIcon, toggleSort}\">\n      <span @click=\"()=>toggleSort(column)\">\n        <v-hover v-slot=\"{isHovering, props: propsSurvole}\">\n          <span v-bind=\"propsSurvole\">\n            {{ t('nuées.tableau.entêteContributrice') }}\n            <template v-if=\"column.sortable\">\n              <v-icon\n                v-if=\"isSorted(column)\"\n                :icon=\"getSortIcon(column)\"\n              ></v-icon>\n              <v-icon\n                v-else\n                icon=\"mdi-arrow-up\"\n                :color=\"isHovering ? 'disabled' : 'rgba(255,255,255,0)'\"\n              ></v-icon>\n            </template>\n          </span>\n        </v-hover>\n      </span>\n    </template>\n    <template #[`item.idCompte`]=\"{item}\">\n      <jeton-membre :compte=\"item.idCompte\" />\n    </template>\n  </v-data-table>\n</template>\n<script setup lang=\"ts\">\nimport type {tableaux, valid} from '@constl/ipa';\n\nimport {rechercher, suivre} from '@constl/vue';\nimport {computed, ref} from 'vue';\n\nimport {மொழியாக்கத்தைப்_பயன்படுத்து} from '@lassi-js/kilimukku-vue';\nimport CelluleTableau from './cellules/CelluleTableau.vue';\nimport EnteteColonneTableau from './EntêteColonneTableau.vue';\nimport NouvelleColonne from './NouvelleColonne.vue';\nimport {triable} from './utils';\nimport CarteEffacer from '/@/components/communs/CarteEffacer.vue';\nimport JetonMembre from '/@/components/membres/JetonMembre.vue';\nimport CarteCodeTableauNuee from '/@/components/tableaux/CarteCodeTableauNuée.vue';\nimport {utiliserConstellation} from '/@/components/utils';\n\nconst {$மொ: t} = மொழியாக்கத்தைப்_பயன்படுத்து();\n\nconst constl = utiliserConstellation();\nconst props = defineProps<{idNuee: string; idTableau: string; clefTableau: string}>();\n\n// Autorisation\nconst autorisation = suivre(constl.suivrePermission, {idObjet: computed(() => props.idTableau)});\n\n// Variables\nconst variables = suivre(constl.tableaux.suivreVariables, {\n  idTableau: computed(() => props.idTableau),\n}); // à faire: .nuées.\n\n// Règles\nconst règles = suivre(constl.nuées.suivreRèglesTableauNuée, {\n  idNuée: computed(() => props.idNuee),\n  clefTableau: computed(() => props.clefTableau),\n});\n\n// Données\nconst {résultats: données} = rechercher(\n  constl.nuées.suivreDonnéesTableauNuée<tableaux.élémentBdListeDonnées>,\n  {\n    idNuée: computed(() => props.idNuee),\n    clefTableau: computed(() => props.clefTableau),\n  },\n);\nconst donnéesAvecCompte = computed(() => {\n  return données.value?.map(d => {\n    return Object.assign({}, d.élément.données, {idCompte: d.idCompte});\n  });\n});\n\nconst filesTableau = computed(() => {\n  const ordonnées = donnéesAvecCompte.value?.toSorted((a, b) => {\n    if (!ordonnerPar.value) return 0;\n    else {\n      return (\n        ordonnerPar.value\n          .map(o => {\n            if (a[o.key] === undefined)\n              return b[o.key] === undefined ? 0 : o.order === 'asc' ? 1 : -1;\n            else if (b[o.key] === undefined)\n              return a[o.key] === undefined ? 0 : o.order === 'asc' ? -1 : 1;\n            return a[o.key] > b[o.key]\n              ? o.order === 'asc'\n                ? 1\n                : -1\n              : a[o.key] < b[o.key]\n                ? o.order === 'asc'\n                  ? -1\n                  : 1\n                : 0;\n          })\n          .find(x => x !== 0) || 0\n      );\n    }\n  });\n  return ordonnées;\n});\n\nconst ordonnerPar = ref<{key: string; order: 'asc' | 'desc'}[]>();\n\n// Colonnes\nconst colonnes = suivre(constl.nuées.suivreColonnesTableauNuée, {\n  idNuée: computed(() => props.idNuee),\n  clefTableau: computed(() => props.clefTableau),\n});\n\nconst colonnesAvecCatégories = suivre(constl.nuées.suivreColonnesEtCatégoriesTableauNuée, {\n  idNuée: computed(() => props.idNuee),\n  clefTableau: computed(() => props.clefTableau),\n});\n\nconst colonnesVariables = computed(() => {\n  return (colonnes.value || []).map(c => {\n    const catégorie = colonnesAvecCatégories.value?.find(col => col.id === c.id)?.catégorie;\n    return {\n      key: c.id,\n      sortable:\n        catégorie === undefined ||\n        (catégorie?.type === 'simple' ? triable(catégorie.catégorie) : false),\n      info: {\n        index: c.index,\n        catégorie,\n        variable: c.variable,\n      },\n    };\n  });\n});\n\nconst entêtes = computed(() => {\n  return [\n    ...(colonnes.value || []).map(c => ({\n      key: c.id,\n    })),\n    {key: 'idCompte'},\n  ];\n});\n\nconst ajouterColonne = async ({\n  idVariable,\n  idColonne,\n  index,\n  règles,\n}: {\n  idVariable: string;\n  idColonne?: string | undefined;\n  index: boolean;\n  règles: valid.règleVariable[];\n}) => {\n  idColonne = await constl.nuées.ajouterColonneTableauNuée({\n    idTableau: props.idTableau,\n    idVariable,\n    idColonne,\n  });\n  if (index)\n    await constl.nuées.changerColIndexTableauNuée({\n      idTableau: props.idTableau,\n      idColonne,\n      val: true,\n    });\n  for (const règle of règles) {\n    await constl.nuées.ajouterRègleTableauNuée({\n      idTableau: props.idTableau,\n      idColonne,\n      règle,\n    });\n  }\n};\n\nconst modifierColonne = async ({\n  idColonne,\n  index,\n  // variable,  // à faire\n  règles,\n}: {\n  idColonne: string;\n  index: boolean;\n  // variable: string;\n  règles: {\n    nouvelles: valid.règleVariable[];\n    àEffacer: string[];\n  };\n}) => {\n  await constl.nuées.changerColIndexTableauNuée({\n    idTableau: props.idTableau,\n    idColonne,\n    val: index,\n  });\n  for (const r of règles.nouvelles)\n    await constl.nuées.ajouterRègleTableauNuée({\n      idTableau: props.idTableau,\n      idColonne,\n      règle: r,\n    });\n  // await constl.nuées.changerVariableColonne({idTableau: props.idTableau, idColonne, variable})\n  for (const r of règles.àEffacer)\n    await constl.nuées.effacerRègleTableauNuée({\n      idTableau: props.idTableau,\n      idRègle: r,\n    });\n};\n\nconst effacerColonne = async ({idColonne}: {idColonne: string}) => {\n  await constl.nuées.effacerColonneTableauNuée({\n    idTableau: props.idTableau,\n    idColonne,\n  });\n};\n\n// Effacer tableau\nconst effacerTableau = async () => {\n  await constl.nuées.effacerTableauNuée({idNuée: props.idNuee, idTableau: props.idTableau});\n};\n</script>\n","<template>\n  <v-container>\n    <div>\n      <v-breadcrumbs\n        v-if=\"mdAndUp\"\n        :items=\"petitPousset\"\n        class=\"pa-0\"\n      >\n        <template #divider>\n          <v-icon>{{ isRtl ? 'mdi-chevron-left' : 'mdi-chevron-right' }}</v-icon>\n        </template>\n        <template #title=\"{item}\">\n          <v-breadcrumbs-item\n            :disabled=\"item.disabled\"\n            @click=\"item.href && $router.push(item.href)\"\n          >\n            <TexteTronque\n              :texte=\"item.title\"\n              :longueur-max=\"35\"\n            />\n          </v-breadcrumbs-item>\n        </template>\n      </v-breadcrumbs>\n      <v-btn\n        v-else\n        icon=\"mdi-arrow-left-top\"\n        variant=\"flat\"\n        @click=\"() => $router.push(encodeURI('/données/'))\"\n      />\n    </div>\n\n    <image-editable\n      :src-image=\"image\"\n      :img-defaut=\"imgDéfaut\"\n      :editable=\"!!monAutorisation\"\n      :taille-avatar=\"mdAndUp ? 275 : 175\"\n      :max-taille-image=\"MAX_TAILLE_IMAGE\"\n      @image-changee=\"image => modifierImage(image)\"\n    />\n\n    <div class=\"text-center\">\n      <DialogueNoms\n        :etiquette-nom=\"t('objet.étiquetteNom')\"\n        :indice-nom=\"t('objet.indiceNom')\"\n        :indice-langue=\"t('objet.indiceLangue')\"\n        :texte-aucun-nom=\"t('objet.texteAucunNom')\"\n        :noms-initiaux=\"noms\"\n        :titre=\"t('objet.titreDialogueNoms')\"\n        :sous-titre=\"t('objet.sousTitreDialogueNoms')\"\n        :autorisation-modification=\"!!monAutorisation\"\n        @ajuster-noms=\"ajusterNoms\"\n      >\n        <template #activateur=\"{props: propsActivateur}\">\n          <span\n            v-bind=\"propsActivateur\"\n            class=\"text-h4\"\n          >\n            {{ nomTraduit || t('nuées.sansNom') }}\n            <v-btn\n              :icon=\"monAutorisation ? 'mdi-pencil' : 'mdi-earth'\"\n              variant=\"flat\"\n              size=\"small\"\n            ></v-btn>\n          </span>\n        </template>\n      </DialogueNoms>\n      <lien-objet :id=\"id\" />\n\n      <v-spacer />\n    </div>\n\n    <div class=\"text-center\">\n      <SerieJetons\n        :n-max=\"5\"\n        :items=\"motsClefs\"\n      >\n        <template #jeton=\"{id: idMotClef}\">\n          <carte-mot-clef :id=\"idMotClef\">\n            <template #activateur=\"{props: propsActivateur}\">\n              <JetonMotClef\n                v-bind=\"propsActivateur\"\n                :id=\"idMotClef\"\n                class=\"me-1 mb-1\"\n              />\n            </template>\n          </carte-mot-clef>\n        </template>\n        <template #itemListe=\"{id: idMotClef}\">\n          <carte-mot-clef :id=\"idMotClef\">\n            <template #activateur=\"{props: propsActivateur}\">\n              <item-mot-clef\n                v-bind=\"propsActivateur\"\n                :id=\"idMotClef\"\n              />\n            </template>\n          </carte-mot-clef>\n        </template>\n      </SerieJetons>\n      <span\n        v-if=\"motsClefs && !motsClefs.length\"\n        class=\"text-disabled\"\n      >\n        {{ t('nuées.aucunMotClef') }}\n      </span>\n      <EditeurMotsClefs\n        v-if=\"monAutorisation && motsClefs\"\n        :originaux=\"motsClefs\"\n        @sauvegarder=\"ids => sauvegarderMotsClefs(ids)\"\n      />\n    </div>\n\n    <div class=\"text-center\">\n      <epingler-nuee :id-nuee=\"id\">\n        <template #activateur=\"{props: propsActivateurCarte}\">\n          <v-tooltip\n            open-delay=\"200\"\n            location=\"bottom\"\n            :text=\"t('épingler.épingler')\"\n          >\n            <template #activator=\"{props: propsActivateurIndice}\">\n              <v-btn\n                v-bind=\"{...propsActivateurCarte, ...propsActivateurIndice}\"\n                icon\n                variant=\"flat\"\n              >\n                <IconeEpingle :id=\"id\" />\n              </v-btn>\n            </template>\n          </v-tooltip>\n        </template>\n      </epingler-nuee>\n\n      <carte-exportation-objet\n        :id-objet=\"id\"\n        :noms-objet=\"noms\"\n        type-objet=\"nuée\"\n      >\n        <template #activateur=\"{props: propsActivateurCarte}\">\n          <v-tooltip\n            :text=\"t('exportations.indice')\"\n            :open-delay=\"200\"\n            location=\"bottom\"\n          >\n            <template #activator=\"{props: propsActivateurIndice}\">\n              <v-btn\n                v-bind=\"{...propsActivateurCarte, ...propsActivateurIndice}\"\n                icon=\"mdi-download\"\n                variant=\"flat\"\n              />\n            </template>\n          </v-tooltip>\n        </template>\n      </carte-exportation-objet>\n\n      <!--<generer-appli :id-nuee=\"id\">\n        <template #activator=\"{props: propsActivateurCarte}\">\n          <v-tooltip\n            :text=\"t('code.générerAppli.indice')\"\n            :open-delay=\"200\"\n            location=\"bottom\"\n          >\n            <template #activator=\"{props: propsActivateurIndice}\">\n              <v-btn\n                v-bind=\"{...propsActivateurCarte, ...propsActivateurIndice}\"\n                variant=\"flat\"\n                icon\n              >\n                <v-icon\n                  icon=\"mdi-creation-outline\"\n                  color=\"primary\"\n                ></v-icon>\n              </v-btn>\n            </template>\n          </v-tooltip>\n        </template>\n      </generer-appli>-->\n\n      <carte-code-nuee :id=\"id\">\n        <template #activateur=\"{props: propsActivateurCarte}\">\n          <v-tooltip\n            :text=\"t('code.indice')\"\n            :open-delay=\"200\"\n            location=\"bottom\"\n          >\n            <template #activator=\"{props: propsActivateurIndice}\">\n              <v-btn\n                v-bind=\"{...propsActivateurCarte, ...propsActivateurIndice}\"\n                icon=\"mdi-xml\"\n                variant=\"flat\"\n              />\n            </template>\n          </v-tooltip>\n        </template>\n      </carte-code-nuee>\n\n      <carte-copier\n        v-if=\"false\"\n        :id=\"id\"\n      >\n        <template #activateur=\"{props: propsActivateurCarte}\">\n          <v-tooltip\n            open-delay=\"200\"\n            location=\"bottom\"\n            :text=\"t('copier.indice')\"\n          >\n            <template #activator=\"{props: propsActivateurIndice}\">\n              <v-btn\n                v-bind=\"{...propsActivateurCarte, ...propsActivateurIndice}\"\n                icon=\"mdi-content-copy\"\n                variant=\"flat\"\n              />\n            </template>\n          </v-tooltip>\n        </template>\n      </carte-copier>\n\n      <carte-effacer\n        v-if=\"!!monAutorisation\"\n        @effacer=\"() => effacerNuée()\"\n      >\n        <template #activateur=\"{props: propsActivateurCarte}\">\n          <v-tooltip\n            open-delay=\"200\"\n            location=\"bottom\"\n            :text=\"t('effacer.indice')\"\n          >\n            <template #activator=\"{props: propsActivateurIndice}\">\n              <v-btn\n                v-bind=\"{...propsActivateurCarte, ...propsActivateurIndice}\"\n                variant=\"flat\"\n                icon\n              >\n                <v-icon color=\"error\">mdi-delete</v-icon>\n              </v-btn>\n            </template>\n          </v-tooltip>\n        </template>\n      </carte-effacer>\n    </div>\n\n    <v-divider />\n    <v-card-text>\n      <DialogueNoms\n        :etiquette-nom=\"t('objet.étiquetteDescription')\"\n        :indice-nom=\"t('objet.indiceDescription')\"\n        :indice-langue=\"t('objet.indiceLangue')\"\n        :texte-aucun-nom=\"t('objet.texteAucuneDescription')\"\n        :noms-initiaux=\"descriptions\"\n        :titre=\"t('objet.titreDialogueDescriptions')\"\n        :sous-titre=\"t('objet.sousTitreDialogueDescriptions')\"\n        :autorisation-modification=\"!!monAutorisation\"\n        longue\n        @ajuster-noms=\"ajusterDescriptions\"\n      >\n        <template #activateur=\"{props: propsActivateur}\">\n          <span :class=\"{'text-disabled': !descrTraduite}\">{{\n            descrTraduite || t('communs.baseCarteObjet.sansDescription')\n          }}</span>\n          <v-btn\n            v-bind=\"propsActivateur\"\n            :icon=\"monAutorisation ? 'mdi-pencil' : 'mdi-earth'\"\n            variant=\"flat\"\n            size=\"small\"\n          ></v-btn>\n        </template>\n      </DialogueNoms>\n\n      <p class=\"mt-6 text-h5\">\n        {{ t('nuées.info') }}\n      </p>\n      <v-divider class=\"mb-2\" />\n      <div class=\"d-flex flex-wrap\">\n        <v-card\n          v-if=\"statut && (statut.statut !== 'active' || monAutorisation)\"\n          flat\n          width=\"200\"\n          class=\"mb-3\"\n        >\n          <carte-statut-nuee :id-nuee=\"id\">\n            <template #activateur=\"{props: propsActivateur}\">\n              <item-statut\n                v-bind=\"propsActivateur\"\n                type-objet=\"nuée\"\n                :statut=\"statut\"\n              />\n            </template>\n          </carte-statut-nuee>\n        </v-card>\n\n        <v-card\n          flat\n          width=\"200\"\n          class=\"mb-3\"\n        >\n          <gerer-auteurs\n            :id=\"id\"\n            :auteurs=\"auteurs\"\n            :permission-moderateur=\"monAutorisation === 'MODÉRATEUR'\"\n          >\n            <template #activateur=\"{props: propsActivateur}\">\n              <item-auteurs\n                v-bind=\"propsActivateur\"\n                :auteurs=\"auteurs\"\n              />\n            </template>\n          </gerer-auteurs>\n        </v-card>\n        <v-card\n          flat\n          width=\"200\"\n          class=\"mb-3\"\n        >\n          <CarteReplicationsObjet :id=\"id\">\n            <template #activateur=\"{props: propsActivateur}\">\n              <ItemReplicationsObjet\n                v-bind=\"propsActivateur\"\n                :id=\"id\"\n              />\n            </template>\n          </CarteReplicationsObjet>\n        </v-card>\n        <v-card\n          flat\n          width=\"200\"\n          class=\"mb-3\"\n        >\n          <carte-automatisations-objet\n            :id-objet=\"id\"\n            :permission=\"monAutorisation\"\n            type-objet=\"bd\"\n          >\n            <template #activateur=\"{props: propsActivateur}\">\n              <item-automatisations-objet\n                v-bind=\"propsActivateur\"\n                :id-objet=\"id\"\n              />\n            </template>\n          </carte-automatisations-objet>\n        </v-card>\n      </div>\n      <p class=\"mt-6 text-h5\">\n        {{ t('nuées.variables') }}\n      </p>\n      <v-divider class=\"mb-2\" />\n      <SerieJetons\n        :n-max=\"5\"\n        :items=\"variables\"\n      >\n        <template #jeton=\"{id: idVariable}\">\n          <carte-variable :id=\"idVariable\">\n            <template #activateur=\"{props: propsActivateur}\">\n              <JetonVariable\n                v-bind=\"propsActivateur\"\n                :id=\"idVariable\"\n                class=\"me-1 mb-1\"\n              />\n            </template>\n          </carte-variable>\n        </template>\n        <template #itemListe=\"{id: idVariable}\">\n          <carte-variable :id=\"idVariable\">\n            <template #activateur=\"{props: propsActivateur}\">\n              <ItemVariable\n                v-bind=\"propsActivateur\"\n                :id=\"idVariable\"\n              />\n            </template>\n          </carte-variable>\n        </template>\n      </SerieJetons>\n      <p\n        v-if=\"!variables?.length\"\n        class=\"text-disabled\"\n      >\n        {{ t('nuées.aucuneVariable') }}\n      </p>\n      <p class=\"mt-6 text-h5\">\n        {{ t('nuées.gestion') }}\n      </p>\n      <v-divider class=\"mb-2\" />\n      <div class=\"d-flex flex-wrap\">\n        <v-card\n          flat\n          width=\"200\"\n          class=\"mb-3\"\n        >\n          <carte-autorisations-nuee :id-nuee=\"id\">\n            <template #activateur=\"{props: propsActivateur}\">\n              <ItemAutorisationsNuee\n                v-bind=\"propsActivateur\"\n                :id-nuee=\"id\"\n              />\n            </template>\n          </carte-autorisations-nuee>\n        </v-card>\n        <v-card\n          flat\n          width=\"200\"\n          class=\"mb-3\"\n        >\n          <carte-bds-de-nuee :id-nuee=\"id\">\n            <template #activateur=\"{props: propsActivateur}\">\n              <ItemBdsDeNuee\n                v-bind=\"propsActivateur\"\n                :id-nuee=\"id\"\n              />\n            </template>\n          </carte-bds-de-nuee>\n        </v-card>\n      </div>\n\n      <v-list>\n        <p class=\"mt-6 text-h5\">\n          {{ t('nuées.tableaux') }}\n        </p>\n        <v-divider />\n        <v-tabs\n          v-if=\"mdAndUp\"\n          v-model=\"tableauActif\"\n          class=\"mt-2\"\n        >\n          <v-tab\n            v-for=\"ong in tableaux\"\n            :key=\"ong.clef\"\n            :value=\"ong.clef\"\n            color=\"primary\"\n            size=\"small\"\n          >\n            <entete-tableau\n              :id=\"ong.id\"\n              :clef=\"ong.clef\"\n              @effacer=\"()=>effacerTableau(ong.id)\"\n            />\n          </v-tab>\n\n          <nouveau-tableau @sauvegarder=\"ajouterTableau\">\n            <template #activateur=\"{props: propsActivateur}\">\n              <v-tab\n                v-if=\"monAutorisation\"\n                v-bind=\"propsActivateur\"\n                :append-icon=\"!ajoutTableauEnCours ? 'mdi-plus' : undefined\"\n                :disabled=\"ajoutTableauEnCours\"\n                variant=\"tonal\"\n                class=\"mx-1\"\n                label\n                @click.stop\n              >\n                {{ t('tableaux.nouveau') }}\n                <v-progress-circular\n                  v-if=\"ajoutTableauEnCours\"\n                  class=\"ms-2\"\n                  size=\"15\"\n                  width=\"1\"\n                  indeterminate\n                />\n              </v-tab>\n            </template>\n          </nouveau-tableau>\n        </v-tabs>\n        <v-slide-group\n          v-else\n          v-model=\"tableauActif\"\n          class=\"mt-4\"\n          show-arrows\n          center-active\n        >\n          <v-slide-group-item\n            v-for=\"ong in tableaux\"\n            v-slot=\"{isSelected, toggle}\"\n            :key=\"ong.clef\"\n            :value=\"ong.clef\"\n          >\n            <v-chip\n              class=\"mx-1\"\n              variant=\"tonal\"\n              label\n              :active=\"false\"\n              :color=\"isSelected ? 'primary' : ''\"\n              @click=\"toggle\"\n            >\n              {{ ong.clef.slice(0, 10) }}\n\n              <v-icon\n                class=\"ms-2\"\n                icon=\"mdi-pencil\"\n                variant=\"flat\"\n                size=\"x-small\"\n              />\n            </v-chip>\n          </v-slide-group-item>\n          <v-slide-group-item\n            key=\"nouveau\"\n            value=\"nouveau\"\n          >\n            <nouveau-tableau @sauvegarder=\"ajouterTableau\">\n              <template #activateur=\"{props: propsActivateur}\">\n                <v-chip\n                  v-if=\"monAutorisation\"\n                  v-bind=\"propsActivateur\"\n                  :append-icon=\"!ajoutTableauEnCours ? 'mdi-plus' : undefined\"\n                  variant=\"tonal\"\n                  class=\"mx-1\"\n                  label\n                  :disabled=\"ajoutTableauEnCours\"\n                >\n                  {{ t('tableaux.nouveau') }}\n                  <v-progress-circular\n                    v-if=\"ajoutTableauEnCours\"\n                    class=\"ms-2\"\n                    size=\"15\"\n                    width=\"1\"\n                    indeterminate\n                  />\n                </v-chip>\n              </template>\n            </nouveau-tableau>\n          </v-slide-group-item>\n        </v-slide-group>\n\n        <div\n          v-if=\"tableaux && !tableaux.length\"\n          class=\"text-center\"\n        >\n          <p class=\"text-h5 mt-5\">\n            {{ t('tableaux.aucun') }}\n          </p>\n          <v-img\n            :src=\"imageVide\"\n            class=\"my-5\"\n            contain\n            height=\"175px\"\n          />\n          <nouveau-tableau @sauvegarder=\"ajouterTableau\">\n            <template #activateur=\"{props: propsActivateur}\">\n              <v-btn\n                v-if=\"monAutorisation\"\n                v-bind=\"propsActivateur\"\n                color=\"primary\"\n                class=\"mx-2\"\n                variant=\"outlined\"\n              >\n                <template #prepend>\n                  <v-icon\n                    icon=\"mdi-table\"\n                    start\n                  />\n                </template>\n                {{ t('tableaux.nouveau') }}\n              </v-btn>\n            </template>\n          </nouveau-tableau>\n        </div>\n      </v-list>\n      <v-window v-model=\"tableauActif\">\n        <v-window-item\n          v-for=\"tableau in tableaux\"\n          :key=\"tableau.clef\"\n          :value=\"tableau.clef\"\n        >\n          <tableau-nuee\n            :id-tableau=\"tableau.id\"\n            :clef-tableau=\"tableau.clef\"\n            :id-nuee=\"id\"\n          />\n        </v-window-item>\n      </v-window>\n    </v-card-text>\n  </v-container>\n</template>\n\n<script setup lang=\"ts\">\nimport type {tableaux as typesTableaux, valid} from '@constl/ipa';\n\nimport {suivre} from '@constl/vue';\nimport {மொழிகளைப்_பயன்படுத்து, மொழியாக்கத்தைப்_பயன்படுத்து} from '@lassi-js/kilimukku-vue';\nimport {computed, onMounted, ref, watchEffect} from 'vue';\n\nimport {utiliserConstellation} from '/@/components/utils';\nimport {utiliserImagesDéco} from '/@/composables/images';\nimport {ajusterTexteTraductible, sourceImage} from '/@/utils';\n\nimport CarteAutomatisationsObjet from '/@/components/automatisations/CarteAutomatisationsObjet.vue';\nimport CarteCopier from '/@/components/communs/CarteCopier.vue';\nimport CarteEffacer from '/@/components/communs/CarteEffacer.vue';\nimport GererAuteurs from '/@/components/communs/GererAuteurs.vue';\nimport ImageEditable from '/@/components/communs/ImageEditable.vue';\nimport ItemAuteurs from '/@/components/communs/ItemAuteurs.vue';\nimport ItemStatut from '/@/components/communs/ItemStatut.vue';\nimport DialogueNoms from '/@/components/communs/listeNoms/DialogueNoms.vue';\nimport CarteMotClef from '/@/components/motsClefs/CarteMotClef.vue';\nimport ItemMotClef from '/@/components/motsClefs/ItemMotClef.vue';\nimport JetonMotClef from '/@/components/motsClefs/JetonMotClef.vue';\nimport CarteAutorisationsNuee from '/@/components/nuées/CarteAutorisationsNuée.vue';\nimport CarteBdsDeNuee from '/@/components/nuées/CarteBdsDeNuée.vue';\nimport CarteStatutNuee from '/@/components/nuées/CarteStatutNuée.vue';\n\nimport LienObjet from '/@/components/communs/LienObjet.vue';\nimport TexteTronque from '/@/components/communs/TexteTronqué.vue';\nimport EditeurMotsClefs from '/@/components/motsClefs/ÉditeurMotsClefs.vue';\nimport CarteCodeNuee from '/@/components/nuées/CarteCodeNuée.vue';\n// import GenererAppli from '/@/components/nuées/GénérerAppli.vue';\nimport ItemAutomatisationsObjet from '/@/components/automatisations/ItemAutomatisationsObjet.vue';\nimport SerieJetons from '/@/components/communs/SérieJetons.vue';\nimport EnteteTableau from '/@/components/tableaux/EntêteTableau.vue';\n\nimport CarteExportationObjet from '/@/components/automatisations/CarteExportationObjet.vue';\nimport CarteReplicationsObjet from '/@/components/épingles/CarteRéplicationsObjet.vue';\n\nimport ItemAutorisationsNuee from '/@/components/nuées/ItemAutorisationsNuée.vue';\nimport ItemBdsDeNuee from '/@/components/nuées/ItemBdsDeNuée.vue';\nimport NouveauTableau from '/@/components/tableaux/NouveauTableau.vue';\nimport TableauNuee from '/@/components/tableaux/TableauNuée.vue';\nimport CarteVariable from '/@/components/variables/CarteVariable.vue';\nimport ItemVariable from '/@/components/variables/ItemVariable.vue';\nimport JetonVariable from '/@/components/variables/JetonVariable.vue';\nimport IconeEpingle from '/@/components/épingles/IcôneÉpingle.vue';\nimport ItemReplicationsObjet from '/@/components/épingles/ItemRéplicationsObjet.vue';\nimport EpinglerNuee from '/@/components/épingles/ÉpinglerNuée.vue';\n\nimport {useDisplay, useRtl} from 'vuetify';\nimport {MAX_TAILLE_IMAGE} from '/@/consts';\nimport {utiliserHistoriqueDocuments} from '/@/état/historiqueDocuments';\n\nconst props = defineProps<{id: string}>();\n\nconst constl = utiliserConstellation();\n\nconst {mdAndUp} = useDisplay();\nconst {isRtl} = useRtl();\n\nconst {$மொ: t} = மொழியாக்கத்தைப்_பயன்படுத்து();\nconst historiqueDocuments = utiliserHistoriqueDocuments();\nconst {obtImageDéco} = utiliserImagesDéco();\n\nonMounted(() => {\n  historiqueDocuments.documentOuvert({id: props.id, à: Date.now()});\n});\n\n// Navigation\nconst petitPousset = computed<{title: string; href?: string; disabled?: boolean}[]>(() => [\n  {title: t('navigation.données') as string, href: encodeURI('/données/')},\n  {title: nomTraduit.value || t('nuées.sansNom'), disabled: true},\n]);\n\n// Nom de la nuée\nconst {அகராதியிலிருந்து_மொழிபெயர்ப்பு} = மொழிகளைப்_பயன்படுத்து();\n\nconst noms = suivre(constl.nuées.suivreNomsNuée, {idNuée: computed(() => props.id)});\nconst nomTraduit = அகராதியிலிருந்து_மொழிபெயர்ப்பு(noms);\n\nconst ajusterNoms = async (nms: {[langue: string]: string}) => {\n  const {àEffacer, àAjouter} = ajusterTexteTraductible({anciennes: noms.value, nouvelles: nms});\n  for (const langue of àEffacer) {\n    await constl.nuées.effacerNomNuée({idNuée: props.id, langue});\n  }\n  await constl.nuées.sauvegarderNomsNuée({\n    idNuée: props.id,\n    noms: àAjouter,\n  });\n};\n\n// Description de la nuée\nconst descriptions = suivre(constl.nuées.suivreDescriptionsNuée, {\n  idNuée: computed(() => props.id),\n});\nconst descrTraduite = அகராதியிலிருந்து_மொழிபெயர்ப்பு(descriptions);\n\nconst ajusterDescriptions = async (descrs: {[langue: string]: string}) => {\n  const {àEffacer, àAjouter} = ajusterTexteTraductible({\n    anciennes: descriptions.value,\n    nouvelles: descrs,\n  });\n  for (const langue of àEffacer) {\n    await constl.nuées.effacerDescriptionNuée({idNuée: props.id, langue});\n  }\n  await constl.nuées.sauvegarderDescriptionsNuée({\n    idNuée: props.id,\n    descriptions: àAjouter,\n  });\n};\n\n// Image\nconst image = sourceImage(suivre(constl.nuées.suivreImage, {idNuée: computed(() => props.id)}));\n\nconst imgDéfaut = obtImageDéco('logoBD');\n\nconst modifierImage = async (image?: {contenu: ArrayBuffer; fichier: string}) => {\n  if (image) {\n    await constl.nuées.sauvegarderImage({\n      idNuée: props.id,\n      image: {contenu: new Uint8Array(image.contenu), nomFichier: image.fichier},\n    });\n  } else {\n    await constl.nuées.effacerImage({idNuée: props.id});\n  }\n};\n\n// Visualisation\nconst imageVide = obtImageDéco('vide');\n\n// Autorisation\nconst monAutorisation = suivre(constl.suivrePermission, {idObjet: computed(() => props.id)});\n\n// Auteurs\nconst auteurs = suivre(constl.réseau.suivreAuteursNuée, {idNuée: computed(() => props.id)});\n\n// Variables\nconst variables = suivre(constl.nuées.suivreVariablesNuée, {idNuée: computed(() => props.id)});\n\n// Mots-clefs\nconst motsClefs = suivre(constl.nuées.suivreMotsClefsNuée, {idNuée: computed(() => props.id)});\nconst sauvegarderMotsClefs = async (àJour: string[]) => {\n  const nouveaux = àJour.filter(m => !motsClefs.value?.includes(m));\n  const àEnlever = motsClefs.value?.filter(m => !àJour.includes(m)) || [];\n  await constl.nuées.ajouterMotsClefsNuée({\n    idNuée: props.id,\n    idsMotsClefs: nouveaux,\n  });\n  await Promise.all(\n    àEnlever.map(m => constl.nuées.effacerMotClefNuée({idNuée: props.id, idMotClef: m})),\n  );\n};\n\n// Statut\nconst statut = suivre(constl.nuées.suivreStatutNuée, {idNuée: computed(() => props.id)});\n\n/*\nconst estApprouvable = computed(()=>{})\nconst activerApprouvable = async () => {\n\n}\n*/\n\n// Tableaux\nconst tableaux = suivre(constl.nuées.suivreTableauxNuée, {idNuée: computed(() => props.id)});\nconst tableauxOrdonnés = computed(() => {\n  if (!tableaux.value) return;\n  return [...tableaux.value].sort((a, b) => (a.id > b.id ? -1 : 1));\n});\nconst tableauActif = ref<string>();\nwatchEffect(() => {\n  if (!tableauActif.value && tableauxOrdonnés.value?.length) {\n    tableauActif.value = tableauxOrdonnés.value[0].clef;\n  }\n  if (\n    tableauActif.value &&\n    !tableauxOrdonnés.value?.map(t => t.clef).includes(tableauActif.value)\n  ) {\n    tableauActif.value = undefined;\n  }\n});\n\nconst ajoutTableauEnCours = ref(false);\nconst ajouterTableau = async ({\n  noms,\n  cols,\n}: {\n  noms: {\n    [langue: string]: string;\n  };\n  cols: {\n    info: typesTableaux.InfoCol;\n    règles: valid.règleVariable[];\n  }[];\n}) => {\n  ajoutTableauEnCours.value = true;\n  try {\n    const idTableau = await constl.bds.ajouterTableauBd({idBd: props.id});\n    await constl.nuées.sauvegarderNomsTableauNuée({\n      idTableau,\n      noms,\n    });\n    await Promise.all(\n      cols.map(async col => {\n        await constl.nuées.ajouterColonneTableauNuée({\n          idTableau,\n          idColonne: col.info.id,\n          idVariable: col.info.variable,\n        });\n        if (col.info.index) {\n          await constl.nuées.changerColIndexTableauNuée({\n            idTableau,\n            idColonne: col.info.id,\n            val: true,\n          });\n        }\n        await Promise.all(\n          col.règles.map(\n            async r =>\n              await constl.nuées.ajouterRègleTableauNuée({\n                idTableau,\n                idColonne: col.info.id,\n                règle: r,\n              }),\n          ),\n        );\n      }),\n    );\n  } finally {\n    ajoutTableauEnCours.value = false;\n  }\n};\n\nconst effacerTableau = async (idTableau: string) => {\n  await constl.nuées.effacerTableauNuée({ idNuée: props.id, idTableau });\n};\n\n// const autorisation = suivre(constl.nuées.suivrePhilosophieAutorisation, {idNuée: props.id});\n\n// Actions\nconst effacerNuée = async () => {\n  await constl.nuées.effacerNuée({idNuée: props.id});\n};\n</script>\n"],"names":["émettre","__emit","props","__props","t","மொழியாக்கத்தைப்_பயன்படுத்து","mdAndUp","useDisplay","constl","utiliserConstellation","dialogue","ref","monAutorisation","suivre","computed","autorisationNuée","autorisation","watchEffect","autorisationsMembres","membresAcceptés","a","membresExclus","lorsqueMembresSélectionnés","membres","m","révoquerExclusionMembre","idMembre","révoquerAcceptationMembre","modifié","sauvegarder","bdsDeNuée","rechercher","statut","statutChoisi","enModification","மொழி","மாற்றுமொழிகள்","மொழிகளைப்_பயன்படுத்து","languesPréférées","codes","lng","nBdsDeNuée","variables","règles","données","donnéesAvecCompte","d","filesTableau","b","ordonnerPar","o","x","colonnes","colonnesAvecCatégories","colonnesVariables","c","catégorie","col","triable","entêtes","ajouterColonne","idVariable","idColonne","index","règle","modifierColonne","r","effacerColonne","effacerTableau","isRtl","useRtl","historiqueDocuments","utiliserHistoriqueDocuments","obtImageDéco","utiliserImagesDéco","onMounted","petitPousset","nomTraduit","அகராதியிலிருந்து_மொழிபெயர்ப்பு","noms","ajusterNoms","nms","àEffacer","àAjouter","ajusterTexteTraductible","langue","descriptions","descrTraduite","ajusterDescriptions","descrs","image","sourceImage","imgDéfaut","modifierImage","imageVide","auteurs","motsClefs","sauvegarderMotsClefs","àJour","nouveaux","àEnlever","tableaux","tableauxOrdonnés","tableauActif","ajoutTableauEnCours","ajouterTableau","cols","idTableau","effacerNuée"],"mappings":"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"}