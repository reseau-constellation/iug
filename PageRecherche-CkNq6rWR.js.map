{"version":3,"file":"PageRecherche-CkNq6rWR.js","sources":["../../src/vues/PageRecherche.vue"],"sourcesContent":["<template>\n  <v-container class=\"text-center\">\n    <TitrePage\n      :titre=\"t('pages.recherche.titre')\"\n      :image=\"imageTitre\"\n    />\n    <v-text-field\n      v-model=\"texteRecherche\"\n      variant=\"outlined\"\n      prepend-inner-icon=\"mdi-magnify\"\n      clearable\n    />\n    <v-chip-group\n      v-model=\"typeDonnées\"\n      color=\"primary\"\n      mandatory\n    >\n      <v-chip\n        v-for=\"item in itemsTypesDonnées\"\n        :key=\"item.clef\"\n        class=\"mx-2\"\n        variant=\"outlined\"\n        :prepend-icon=\"item.icône\"\n      >\n        {{ t(item.texte) }}\n      </v-chip>\n    </v-chip-group>\n    <v-list\n      v-if=\"itemsTypesDonnées[typeDonnées].clef === 'bds'\"\n      class=\"text-start\"\n    >\n      <carte-bd\n        v-for=\"r in résultatsRechercheBd\"\n        :id=\"r.id\"\n        :key=\"r.id\"\n      >\n        <template #activateur=\"{props}\">\n          <resultat-recherche-bd\n            v-bind=\"props\"\n            :résultat=\"r\"\n          />\n        </template>\n      </carte-bd>\n    </v-list>\n    <v-list\n      v-else-if=\"itemsTypesDonnées[typeDonnées].clef === 'motsClefs'\"\n      class=\"text-start\"\n    >\n      <carte-mot-clef\n        v-for=\"r in résultatsRechercheMotsClefs\"\n        :id=\"r.id\"\n        :key=\"r.id\"\n      >\n        <template #activateur=\"{props}\">\n          <resultat-recherche-mot-clef\n            v-bind=\"props\"\n            :résultat=\"r\"\n          />\n        </template>\n      </carte-mot-clef>\n    </v-list>\n    <v-list\n      v-else-if=\"itemsTypesDonnées[typeDonnées].clef === 'variables'\"\n      class=\"text-start\"\n    >\n      <carte-variable\n        v-for=\"r in résultatsRechercheVariables\"\n        :id=\"r.id\"\n        :key=\"r.id\"\n      >\n        <template #activator=\"{props}\">\n          <resultat-recherche-variable\n            v-bind=\"props\"\n            :résultat=\"r\"\n          />\n        </template>\n      </carte-variable>\n    </v-list>\n    <v-list\n      v-else-if=\"itemsTypesDonnées[typeDonnées].clef === 'projets'\"\n      class=\"text-start\"\n    >\n      <carte-projet\n        v-for=\"r in résultatsRechercheProjets\"\n        :id=\"r.id\"\n        :key=\"r.id\"\n      >\n        <template #activateur=\"{props}\">\n          <resultat-recherche-projet\n            v-bind=\"props\"\n            :résultat=\"r\"\n          />\n        </template>\n      </carte-projet>\n    </v-list>\n    <v-list\n      v-else-if=\"itemsTypesDonnées[typeDonnées].clef === 'nuées'\"\n      class=\"text-start\"\n    >\n      <carte-nuee\n        v-for=\"r in résultatsRechercheNuée\"\n        :id=\"r.id\"\n        :key=\"r.id\"\n      >\n        <template #activateur=\"{props}\">\n          <resultat-recherche-nuee\n            v-bind=\"props\"\n            :résultat=\"r\"\n          />\n        </template>\n      </carte-nuee>\n      <v-list-item @click=\"augmenterN\">\n        <v-list-item-title> t('Augementer N') </v-list-item-title>\n      </v-list-item>\n    </v-list>\n  </v-container>\n</template>\n<script setup lang=\"ts\">\nimport type {types} from '@constl/ipa';\n\nimport {type Ref, watchEffect} from 'vue';\n\nimport {மொழியாக்கத்தைப்_பயன்படுத்து} from '@lassi-js/kilimukku-vue';\nimport {ref} from 'vue';\nimport {MultiChercheur, utiliserConstellation} from '/@/components/utils';\nimport {utiliserImagesDéco} from '/@/composables/images';\n\nimport TitrePage from '../components/communs/TitrePage.vue';\nimport CarteBd from '/@/components/bds/CarteBd.vue';\nimport CarteMotClef from '/@/components/motsClefs/CarteMotClef.vue';\nimport CarteNuee from '/@/components/nuées/CarteNuée.vue';\nimport CarteProjet from '/@/components/projets/CarteProjet.vue';\nimport CarteVariable from '/@/components/variables/CarteVariable.vue';\nimport ResultatRechercheBd from '/@/components/recherche/RésultatRechercheBd.vue';\nimport ResultatRechercheMotClef from '/@/components/recherche/RésultatRechercheMotClef.vue';\nimport ResultatRechercheNuee from '/@/components/recherche/RésultatRechercheNuée.vue';\nimport ResultatRechercheProjet from '/@/components/recherche/RésultatRechercheProjet.vue';\nimport ResultatRechercheVariable from '/@/components/recherche/RésultatRechercheVariable.vue';\n\nconst constl = utiliserConstellation();\n\nconst {$மொ: t} = மொழியாக்கத்தைப்_பயன்படுத்து();\n\nconst {obtImageDéco} = utiliserImagesDéco();\nconst imageTitre = obtImageDéco('recherche');\n\n// Options de recherche\nconst texteRecherche = ref<string>();\n\nconst typeDonnées = ref(2);\nconst itemsTypesDonnées: {\n  icône: string;\n  texte: string;\n  clef: 'motsClefs' | 'variables' | 'bds' | 'projets' | 'nuées';\n}[] = [\n  {\n    icône: 'mdi-key',\n    texte: 'pages.mesDonnées.motsClefs',\n    clef: 'motsClefs',\n  },\n  {\n    icône: 'mdi-variable',\n    texte: 'pages.mesDonnées.variables',\n    clef: 'variables',\n  },\n  {\n    icône: 'mdi-database-outline',\n    texte: 'pages.mesDonnées.bds',\n    clef: 'bds',\n  },\n  {\n    icône: 'mdi-folder-outline',\n    texte: 'pages.mesDonnées.projets',\n    clef: 'projets',\n  },\n  {\n    icône: 'mdi-account-group-outline',\n    texte: 'pages.mesDonnées.nuées',\n    clef: 'nuées',\n  },\n];\n\nconst résultatsRechercheBd =\n  ref<\n    types.résultatRecherche<\n      types.infoRésultatTexte | types.infoRésultatRecherche<types.infoRésultatTexte>\n    >[]\n  >();\nconst résultatsRechercheMotsClefs = ref<types.résultatRecherche<types.infoRésultatTexte>[]>();\nconst résultatsRechercheVariables = ref<types.résultatRecherche<types.infoRésultatTexte>[]>();\nconst résultatsRechercheProjets =\n  ref<\n    types.résultatRecherche<\n      | types.infoRésultatTexte\n      | types.infoRésultatRecherche<\n          types.infoRésultatTexte | types.infoRésultatRecherche<types.infoRésultatTexte>\n        >\n    >[]\n  >();\nconst résultatsRechercheNuée =\n  ref<\n    types.résultatRecherche<\n      types.infoRésultatTexte | types.infoRésultatRecherche<types.infoRésultatTexte>\n    >[]\n  >();\n\nconst chercheur = new MultiChercheur();\nconst {nOuProfondeur} = chercheur;\n\nconst augmenterN = () => {\n  nOuProfondeur.value++;\n};\n\nwatchEffect(async () => {\n  const étiquetteTypeDonnées = itemsTypesDonnées[typeDonnées.value].clef;\n\n  switch (étiquetteTypeDonnées) {\n    case 'motsClefs': {\n      await chercheur.lancerRecherche({\n        requête: texteRecherche,\n        réfRésultat: résultatsRechercheMotsClefs,\n        fRecherche: async ({\n          requête,\n          nOuProfondeur,\n          réfRésultat,\n        }: {\n          requête: string;\n          nOuProfondeur: number;\n          réfRésultat: Ref<\n            types.résultatRecherche<types.infoRésultatTexte | types.infoRésultatVide>[]\n          >;\n        }) => {\n          return await constl.recherche.rechercherMotsClefsSelonTexte({\n            texte: requête,\n            f: x => (réfRésultat.value = x),\n            nRésultatsDésirés: nOuProfondeur,\n          });\n        },\n      });\n      break;\n    }\n    case 'variables': {\n      await chercheur.lancerRecherche({\n        requête: texteRecherche,\n        réfRésultat: résultatsRechercheVariables,\n        fRecherche: async ({\n          requête,\n          nOuProfondeur,\n          réfRésultat,\n        }: {\n          requête: string;\n          nOuProfondeur: number;\n          réfRésultat: Ref<\n            types.résultatRecherche<types.infoRésultatTexte | types.infoRésultatVide>[]\n          >;\n        }) => {\n          return await constl.recherche.rechercherVariablesSelonTexte({\n            texte: requête,\n            f: x => (réfRésultat.value = x),\n            nRésultatsDésirés: nOuProfondeur,\n          });\n        },\n      });\n      break;\n    }\n    case 'bds': {\n      await chercheur.lancerRecherche({\n        requête: texteRecherche,\n        réfRésultat: résultatsRechercheBd,\n        fRecherche: async ({\n          requête,\n          nOuProfondeur,\n          réfRésultat,\n        }: {\n          requête: string;\n          nOuProfondeur: number;\n          réfRésultat: Ref<\n            types.résultatRecherche<\n              | types.infoRésultatTexte\n              | types.infoRésultatRecherche<types.infoRésultatTexte | types.infoRésultatVide>\n              | types.infoRésultatVide\n            >[]\n          >;\n        }) => {\n          return await constl.recherche.rechercherBdsSelonTexte({\n            texte: requête,\n            f: x => (réfRésultat.value = x),\n            nRésultatsDésirés: nOuProfondeur,\n          });\n        },\n      });\n      break;\n    }\n    case 'projets': {\n      await chercheur.lancerRecherche({\n        requête: texteRecherche,\n        réfRésultat: résultatsRechercheProjets,\n        fRecherche: async ({\n          requête,\n          nOuProfondeur,\n          réfRésultat,\n        }: {\n          requête: string;\n          nOuProfondeur: number;\n          réfRésultat: Ref<\n            types.résultatRecherche<\n              | types.infoRésultatTexte\n              | types.infoRésultatRecherche<\n                  | types.infoRésultatTexte\n                  | types.infoRésultatRecherche<types.infoRésultatTexte | types.infoRésultatVide>\n                  | types.infoRésultatVide\n                >\n              | types.infoRésultatVide\n            >[]\n          >;\n        }) => {\n          return await constl.recherche.rechercherProjetsSelonTexte({\n            texte: requête,\n            f: x => (réfRésultat.value = x),\n            nRésultatsDésirés: nOuProfondeur,\n          });\n        },\n      });\n      break;\n    }\n    case 'nuées': {\n      await chercheur.lancerRecherche({\n        requête: texteRecherche,\n        réfRésultat: résultatsRechercheNuée,\n        fRecherche: async ({\n          requête,\n          nOuProfondeur,\n          réfRésultat,\n        }: {\n          requête: string;\n          nOuProfondeur: number;\n          réfRésultat: Ref<\n            types.résultatRecherche<\n              | types.infoRésultatTexte\n              | types.infoRésultatRecherche<types.infoRésultatTexte | types.infoRésultatVide>\n              | types.infoRésultatVide\n            >[]\n          >;\n        }) => {\n          return await constl.recherche.rechercherNuéesSelonTexte({\n            texte: requête,\n            f: x => (réfRésultat.value = x),\n            nRésultatsDésirés: nOuProfondeur,\n          });\n        },\n      });\n      break;\n    }\n    default:\n      break;\n  }\n});\n</script>\n"],"names":["constl","utiliserConstellation","t","மொழியாக்கத்தைப்_பயன்படுத்து","obtImageDéco","utiliserImagesDéco","imageTitre","texteRecherche","ref","typeDonnées","itemsTypesDonnées","résultatsRechercheBd","résultatsRechercheMotsClefs","résultatsRechercheVariables","résultatsRechercheProjets","résultatsRechercheNuée","chercheur","MultiChercheur","nOuProfondeur","augmenterN","watchEffect","requête","réfRésultat","x"],"mappings":"ouBA2IA,MAAMA,EAASC,EAAsB,EAE/B,CAAC,IAAKC,CAAC,EAAIC,EAA4B,EAEvC,CAAC,aAAAC,CAAY,EAAIC,EAAmB,EACpCC,EAAaF,EAAa,WAAW,EAGrCG,EAAiBC,EAAY,EAE7BC,EAAcD,EAAI,CAAC,EACnBE,EAIA,CACJ,CACE,MAAO,UACP,MAAO,6BACP,KAAM,WACR,EACA,CACE,MAAO,eACP,MAAO,6BACP,KAAM,WACR,EACA,CACE,MAAO,uBACP,MAAO,uBACP,KAAM,KACR,EACA,CACE,MAAO,qBACP,MAAO,2BACP,KAAM,SACR,EACA,CACE,MAAO,4BACP,MAAO,yBACP,KAAM,OAAA,CAEV,EAEMC,EACJH,EAIE,EACEI,EAA8BJ,EAAwD,EACtFK,EAA8BL,EAAwD,EACtFM,EACJN,EAOE,EACEO,EACJP,EAIE,EAEEQ,EAAY,IAAIC,EAChB,CAAC,cAAAC,GAAiBF,EAElBG,EAAa,IAAM,CACTD,EAAA,OAChB,EAEA,OAAAE,EAAY,SAAY,CAGtB,OAF6BV,EAAkBD,EAAY,KAAK,EAAE,KAEpC,CAC5B,IAAK,YAAa,CAChB,MAAMO,EAAU,gBAAgB,CAC9B,QAAST,EACT,YAAaK,EACb,WAAY,MAAO,CACjB,QAAAS,EACA,cAAAH,EACA,YAAAI,CAAA,IAQO,MAAMtB,EAAO,UAAU,8BAA8B,CAC1D,MAAOqB,EACP,EAASE,GAAAD,EAAY,MAAQC,EAC7B,kBAAmBL,CAAA,CACpB,CACH,CACD,EACD,KAAA,CAEF,IAAK,YAAa,CAChB,MAAMF,EAAU,gBAAgB,CAC9B,QAAST,EACT,YAAaM,EACb,WAAY,MAAO,CACjB,QAAAQ,EACA,cAAAH,EACA,YAAAI,CAAA,IAQO,MAAMtB,EAAO,UAAU,8BAA8B,CAC1D,MAAOqB,EACP,EAASE,GAAAD,EAAY,MAAQC,EAC7B,kBAAmBL,CAAA,CACpB,CACH,CACD,EACD,KAAA,CAEF,IAAK,MAAO,CACV,MAAMF,EAAU,gBAAgB,CAC9B,QAAST,EACT,YAAaI,EACb,WAAY,MAAO,CACjB,QAAAU,EACA,cAAAH,EACA,YAAAI,CAAA,IAYO,MAAMtB,EAAO,UAAU,wBAAwB,CACpD,MAAOqB,EACP,EAASE,GAAAD,EAAY,MAAQC,EAC7B,kBAAmBL,CAAA,CACpB,CACH,CACD,EACD,KAAA,CAEF,IAAK,UAAW,CACd,MAAMF,EAAU,gBAAgB,CAC9B,QAAST,EACT,YAAaO,EACb,WAAY,MAAO,CACjB,QAAAO,EACA,cAAAH,EACA,YAAAI,CAAA,IAgBO,MAAMtB,EAAO,UAAU,4BAA4B,CACxD,MAAOqB,EACP,EAASE,GAAAD,EAAY,MAAQC,EAC7B,kBAAmBL,CAAA,CACpB,CACH,CACD,EACD,KAAA,CAEF,IAAK,QAAS,CACZ,MAAMF,EAAU,gBAAgB,CAC9B,QAAST,EACT,YAAaQ,EACb,WAAY,MAAO,CACjB,QAAAM,EACA,cAAAH,EACA,YAAAI,CAAA,IAYO,MAAMtB,EAAO,UAAU,0BAA0B,CACtD,MAAOqB,EACP,EAASE,GAAAD,EAAY,MAAQC,EAC7B,kBAAmBL,CAAA,CACpB,CACH,CACD,EACD,KAAA,CAGA,CACJ,CACD"}