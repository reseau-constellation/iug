{"version":3,"file":"ChoisirStatut.vue_vue_type_script_setup_true_lang-YQa1-ahB.js","sources":["../../src/components/communs/ChoisirStatut.vue"],"sourcesContent":["<template>\n  <v-select\n    v-model=\"statut\"\n    :items=\"['active', 'obsolète', 'jouet', 'interne'] as const\"\n    variant=\"outlined\"\n  >\n    <template #item=\"{item, props: propsItem}\">\n      <v-list-item\n        v-bind=\"propsItem\"\n        :title=\"t(`données.statut.${item.raw}`)\"\n        :prepend-icon=\"icôneStatut(item.raw)\"\n      >\n        <span class=\"text-disabled\">{{ t(`données.statut.info.${item.raw}`) }}</span>\n      </v-list-item>\n    </template>\n    <template #selection=\"{item}\">\n      <v-icon\n        start\n        :icon=\"icôneStatut(item.raw)\"\n      ></v-icon>\n      {{ t(`données.statut.${item.raw}`) }}\n    </template>\n  </v-select>\n  <v-expand-transition>\n    <v-checkbox\n      v-show=\"statut === 'obsolète'\"\n      v-model=\"inclureNouvelle\"\n      :label=\"t('données.statut.inclureNouvelle')\"\n      color=\"primary\"\n      hide-details\n    />\n  </v-expand-transition>\n  <v-expand-transition>\n    <p v-show=\"statut === 'obsolète' && inclureNouvelle\">\n      <slot\n        name=\"sélecteur\"\n        :choisir-nouvelle=\"(id: string) => (idNouvelle = id)\"\n      />\n    </p>\n  </v-expand-transition>\n</template>\n<script setup lang=\"ts\">\nimport type {types} from '@constl/ipa';\n\nimport {ref, watchEffect} from 'vue';\n\nimport {மொழியாக்கத்தைப்_பயன்படுத்து} from '@lassi-js/kilimukku-vue';\nimport {icôneStatut} from '/@/components/utils';\n\nconst props = defineProps<{\n  initial?: types.schémaStatut;\n}>();\nconst émettre = defineEmits<{\n  (é: 'choisir', choix: types.schémaStatut): void;\n}>();\n\nconst {$மொ: t} = மொழியாக்கத்தைப்_பயன்படுத்து();\n\nconst statut = ref(props.initial?.statut);\nconst inclureNouvelle = ref<boolean>();\nconst idNouvelle = ref(props.initial?.idNouvelle);\n\nwatchEffect(() => {\n  if (statut.value !== 'obsolète') idNouvelle.value = undefined;\n});\n\nwatchEffect(() => {\n  if (statut.value) {\n    const statutFinal: types.schémaStatut = {statut: statut.value};\n    if (idNouvelle.value) statutFinal.idNouvelle = idNouvelle.value;\n    émettre('choisir', statutFinal);\n  }\n});\n\n// Icône\n</script>\n"],"names":["props","__props","émettre","__emit","t","மொழியாக்கத்தைப்_பயன்படுத்து","statut","ref","inclureNouvelle","idNouvelle","watchEffect","statutFinal","_createVNode","_component_v_select","$event","_withCtx","item","propsItem","_component_v_list_item","_mergeProps","_unref","icôneStatut","_createElementVNode","_hoisted_1","_toDisplayString","_component_v_icon","_createTextVNode","_component_v_expand_transition","_component_v_checkbox","_renderSlot","_ctx","id","_vShow"],"mappings":"2TAiDA,MAAMA,EAAQC,EAGRC,EAAUC,EAIV,CAAC,IAAKC,CAAC,EAAIC,EAA4B,EAEvCC,EAASC,EAAIP,EAAM,SAAS,MAAM,EAClCQ,EAAkBD,EAAa,EAC/BE,EAAaF,EAAIP,EAAM,SAAS,UAAU,EAEhD,OAAAU,EAAY,IAAM,CACZJ,EAAO,QAAU,aAAYG,EAAW,MAAQ,OAAA,CACrD,EAEDC,EAAY,IAAM,CAChB,GAAIJ,EAAO,MAAO,CAChB,MAAMK,EAAkC,CAAC,OAAQL,EAAO,KAAK,EACzDG,EAAW,QAAmBE,EAAA,WAAaF,EAAW,OAC1DP,EAAQ,UAAWS,CAAW,CAAA,CAChC,CACD,wBAvECC,EAqBWC,EAAA,YApBAP,EAAM,2CAANA,EAAM,MAAAQ,GACd,MAAO,CAAmD,SAAA,WAAA,QAAA,SAAA,EAC3D,QAAQ,UAAA,GAEG,KACTC,EAAA,CAMc,CAPE,KAAAC,QAAaC,KAAS,CACtCL,EAMcM,EANdC,EAMcF,EALK,CAChB,MAAOG,EAAAhB,CAAA,EAAoB,kBAAAY,EAAK,GAAG,EAAA,EACnC,eAAcI,EAAAC,CAAA,EAAYL,EAAK,GAAG,CAAA,cAEnC,IAA6E,CAA7EM,EAA6E,OAA7EC,EAA6EC,EAA9CJ,KAAyB,uBAAAJ,EAAK,GAAG,EAAA,CAAA,EAAA,CAAA,CAAA,yCAGzD,UAASD,EAClB,CAGU,CAJW,KAAAC,KAAI,CACzBJ,EAGUa,EAAA,CAFR,MAAA,GACC,KAAML,EAAAC,CAAA,EAAYL,EAAK,GAAG,oBACnBU,EAAA,IACPF,EAAAJ,EAAAhB,CAAA,EAAoB,kBAAAY,EAAK,GAAG,EAAA,CAAA,EAAA,CAAA,CAAA,0BAGnCJ,EAQsBe,EAAA,KAAA,WAPpB,IAME,GANFf,EAMEgB,EAAA,YAJSpB,EAAe,2CAAfA,EAAe,MAAAM,GACvB,MAAOM,EAAChB,CAAA,EAAA,gCAAA,EACT,MAAM,UACN,eAAA,uCAJQE,EAAM,QAAA,UAAA,YAOlBM,EAOsBe,EAAA,KAAA,WANpB,IAKI,GALJL,EAKI,IAAA,KAAA,CAJFO,EAGEC,EAAA,OAAA,YAAA,CADC,gBAAmBC,GAAgBtB,EAAA,MAAasB,WAH1C,CAAAC,EAAA1B,EAAA,oBAAyBE,EAAe,KAAA"}