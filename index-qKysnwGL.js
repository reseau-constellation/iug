import{cm as A,di as g,aP as b,dq as q,dr as I,ds as y,r as d,dt as v,q as O,o as C,du as L,h as T}from"./index-BI80QdSo.js";function h(e){return q()?(I(e),!0):!1}const M=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const x=Object.prototype.toString,E=e=>x.call(e)==="[object Object]";function D(e){return Array.isArray(e)?e:[e]}function W(e,n=1e3,a={}){const{immediate:c=!0,immediateCallback:i=!1}=a;let f=null;const l=A(!1);function u(){f&&(clearInterval(f),f=null)}function t(){l.value=!1,u()}function o(){const r=y(n);r<=0||(l.value=!0,i&&e(),u(),l.value&&(f=setInterval(e,r)))}if(c&&M&&o(),g(n)||typeof n=="function"){const r=b(n,()=>{l.value&&M&&o()});h(r)}return h(t),{isActive:l,pause:t,resume:o}}function j(e,n,a){return b(e,n,{...a,immediate:!0})}const S=M?window:void 0;function N(e){var n;const a=y(e);return(n=a?.$el)!=null?n:a}function F(...e){const n=[],a=()=>{n.forEach(u=>u()),n.length=0},c=(u,t,o,r)=>(u.addEventListener(t,o,r),()=>u.removeEventListener(t,o,r)),i=O(()=>{const u=D(y(e[0])).filter(t=>t!=null);return u.every(t=>typeof t!="string")?u:void 0}),f=j(()=>{var u,t;return[(t=(u=i.value)==null?void 0:u.map(o=>N(o)))!=null?t:[S].filter(o=>o!=null),D(y(i.value?e[1]:e[0])),D(T(i.value?e[2]:e[1])),y(i.value?e[3]:e[2])]},([u,t,o,r])=>{if(a(),!u?.length||!t?.length||!o?.length)return;const p=E(r)?{...r}:r;n.push(...u.flatMap(m=>t.flatMap(s=>o.map(w=>c(m,s,w,p)))))},{flush:"post"}),l=()=>{f(),a()};return h(a),l}function R(){const e=A(!1),n=L();return n&&C(()=>{e.value=!0},n),e}function G(e){const n=R();return O(()=>(n.value,!!e()))}function P(e,n={}){const{immediate:a=!0,fpsLimit:c=void 0,window:i=S,once:f=!1}=n,l=A(!1),u=O(()=>c?1e3/y(c):null);let t=0,o=null;function r(s){if(!l.value||!i)return;t||(t=s);const w=s-t;if(u.value&&w<u.value){o=i.requestAnimationFrame(r);return}if(t=s,e({delta:w,timestamp:s}),f){l.value=!1,o=null;return}o=i.requestAnimationFrame(r)}function p(){!l.value&&i&&(l.value=!0,t=0,o=i.requestAnimationFrame(r))}function m(){l.value=!1,o!=null&&i&&(i.cancelAnimationFrame(o),o=null)}return a&&p(),h(m),{isActive:v(l),pause:m,resume:p}}function V(e={}){const{window:n=S}=e,a=n?.navigator,c=G(()=>a&&"connection"in a),i=A(!0),f=A(!1),l=d(void 0),u=d(void 0),t=d(void 0),o=d(void 0),r=d(void 0),p=d(void 0),m=d("unknown"),s=c.value&&a.connection;function w(){a&&(i.value=a.onLine,l.value=i.value?void 0:Date.now(),u.value=i.value?Date.now():void 0,s&&(t.value=s.downlink,o.value=s.downlinkMax,p.value=s.effectiveType,r.value=s.rtt,f.value=s.saveData,m.value=s.type))}const k={passive:!0};return n&&(F(n,"offline",()=>{i.value=!1,l.value=Date.now()},k),F(n,"online",()=>{i.value=!0,u.value=Date.now()},k)),s&&F(s,"change",w,k),w(),{isSupported:c,isOnline:v(i),saveData:v(f),offlineAt:v(l),onlineAt:v(u),downlink:v(t),downlinkMax:v(o),effectiveType:v(p),rtt:v(r),type:v(m)}}function $(e={}){const{controls:n=!1,interval:a="requestAnimationFrame"}=e,c=d(new Date),i=()=>c.value=new Date,f=a==="requestAnimationFrame"?P(i,{immediate:!0}):W(i,a,{immediate:!0});return n?{now:c,...f}:c}function z(e={}){const{isOnline:n}=V(e);return n}export{$ as a,z as u};
//# sourceMappingURL=index-qKysnwGL.js.map
