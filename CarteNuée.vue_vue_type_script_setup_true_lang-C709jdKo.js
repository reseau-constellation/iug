import{d as Q,p as W,n as fe,க as X,r as F,s as U,q as f,e5 as C,c as L,a as M,x as ce,h as i,w as n,b as s,V as ve,i as me,e as ge,f as g,t as v,y as O,j as w,R as y,m as Ne,z as r,G as V,e6 as T,dv as m,au as G,ac as H,ad as J,ao as be,H as Y,I as Z,J as h,e7 as _e,P as Ve,K as qe,b1 as K}from"./index-DawdXn0w.js";const we={class:"font-weight-bold"},xe={class:"mb-2"},Ce={class:"font-weight-bold"},Te={class:"font-weight-bold"},Ue={class:"font-weight-bold"},ye=Q({__name:"ÉpinglerNuée",props:{idNuee:{}},setup(D){const u=D,d=W(),{mdAndUp:A}=fe(),{மொழியாக்கம்_பயன்படுத்து:B}=X(),{$மொ:p}=B(),q=F(!1),N=F(!1),b=U(d.nuées.suivreÉpingleNuée,{idNuée:f(()=>u.idNuee)}),{sélection:_,dispositifs:x,spécifiques:l,valide:o,modifié:t}=C(f(()=>b.value?.base),"TOUS"),{sélection:c,dispositifs:$,spécifiques:j,valide:ee,modifié:se}=C(f(()=>b.value?.données.base),"TOUS"),{sélection:k,dispositifs:ie,spécifiques:S,valide:ne,modifié:ae}=C(f(()=>b.value?.données.données.tableaux),"INSTALLÉ"),{sélection:I,dispositifs:le,spécifiques:P,valide:oe,modifié:te}=C(f(()=>b.value?.données.données.fichiers),"INSTALLÉ"),ue=f(()=>o&&ee&&ne&&oe),de=f(()=>t.value||se.value||ae.value||te.value),R=F(!1),re=async()=>{if(R.value=!0,x.value!=="AUCUN"){const E={type:"nuée",base:x.value,données:{type:"bd",base:$.value,données:{tableaux:ie.value,fichiers:le.value}}};await d.nuées.épinglerNuée({idNuée:u.idNuee,options:E})}else await pe();z()},pe=async()=>{await d.favoris.désépinglerFavori({idObjet:u.idNuee})},z=()=>{q.value=!1,R.value=!1};return(E,e)=>(M(),L(ce,{modelValue:q.value,"onUpdate:modelValue":e[10]||(e[10]=a=>q.value=a),"max-width":i(A)?500:300},{activator:n(({props:a})=>[Y(E.$slots,"activator",Z(h({props:a})))]),default:n(()=>[s(ve,null,{default:n(()=>[s(me,null,{default:n(()=>[s(ge,{class:"d-flex"},{default:n(()=>[g(v(i(p)("épingler.titre"))+" ",1),s(O),s(w,{icon:"mdi-close",size:"small",variant:"flat",onClick:z})]),_:1})]),_:1}),s(y),s(Ne,{style:{"overflow-y":"scroll"}},{default:n(()=>[s(V,{start:""},{default:n(()=>e[11]||(e[11]=[g("mdi-pin-outline")])),_:1}),r("span",we,v(i(p)("épingler.dispositifsÉpingle")),1),s(T,{selection:i(_),"onUpdate:selection":e[0]||(e[0]=a=>m(_)?_.value=a:null),specifiques:i(l),"onUpdate:specifiques":e[1]||(e[1]=a=>m(l)?l.value=a:null),class:"ms-4"},null,8,["selection","specifiques"]),s(G,null,{default:n(()=>[H(r("div",null,[r("p",xe,[r("span",null,v(i(p)("épingler.optionsAvancées")),1),s(w,{icon:N.value?"mdi-chevron-up":"mdi-chevron-down",size:"xsmall",variant:"flat",onClick:e[2]||(e[2]=()=>N.value=!N.value)},null,8,["icon"])]),s(G,null,{default:n(()=>[H(r("div",null,[s(y,{class:"mb-2"}),r("p",null,[s(V,{start:""},{default:n(()=>e[12]||(e[12]=[g("mdi-databasee")])),_:1}),r("span",Ce,v(i(p)("épingler.dispositifsÉpingleBds")),1)]),s(T,{selection:i(c),"onUpdate:selection":e[3]||(e[3]=a=>m(c)?c.value=a:null),specifiques:i(j),"onUpdate:specifiques":e[4]||(e[4]=a=>m(j)?j.value=a:null),class:"ms-4"},null,8,["selection","specifiques"]),r("p",null,[s(V,{start:""},{default:n(()=>e[13]||(e[13]=[g("mdi-table-multiple")])),_:1}),r("span",Te,v(i(p)("épingler.dispositifsÉpingleDonnées")),1)]),s(T,{selection:i(k),"onUpdate:selection":e[5]||(e[5]=a=>m(k)?k.value=a:null),specifiques:i(S),"onUpdate:specifiques":e[6]||(e[6]=a=>m(S)?S.value=a:null),class:"ms-4"},null,8,["selection","specifiques"]),r("p",null,[s(V,{start:""},{default:n(()=>e[14]||(e[14]=[g("mdi-image-multiple-outline")])),_:1}),r("span",Ue,v(i(p)("épingler.dispositifsÉpingleDocuments")),1)]),s(T,{selection:i(I),"onUpdate:selection":e[7]||(e[7]=a=>m(I)?I.value=a:null),specifiques:i(P),"onUpdate:specifiques":e[8]||(e[8]=a=>m(P)?P.value=a:null),class:"ms-4"},null,8,["selection","specifiques"])],512),[[J,N.value]])]),_:1})],512),[[J,i(_)!=="AUCUN"]])]),_:1})]),_:1}),s(y),s(be,null,{default:n(()=>[s(O),s(w,{variant:"outlined",onClick:z},{default:n(()=>[g(v(i(p)("communs.fermer"))+" ",1),s(V,{icon:"mdi-close",end:""})]),_:1}),s(w,{color:"primary",variant:"outlined",loading:R.value,disabled:!ue.value||!de.value,onClick:e[9]||(e[9]=()=>re())},{default:n(()=>[g(v(i(p)("communs.sauvegarder"))+" ",1),s(V,{icon:"mdi-check",end:""})]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:3},8,["modelValue","max-width"]))}}),De={class:"text-center"},Be=Q({__name:"CarteNuée",props:{id:{}},setup(D){const u=D,d=W(),{மொழியாக்கம்_பயன்படுத்து:A}=X(),{$மொ:B}=A(),p=U(d.nuées.suivreNomsNuée,{idNuée:f(()=>u.id)},{}),q=async l=>{const{àEffacer:o,àAjouter:t}=K({anciennes:p.value,nouvelles:l});for(const c of o)await d.nuées.effacerNomNuée({idNuée:u.id,langue:c});await d.nuées.sauvegarderNomsNuée({idNuée:u.id,noms:t})},N=U(d.nuées.suivreDescriptionsNuée,{idNuée:f(()=>u.id)},{}),b=async l=>{const{àEffacer:o,àAjouter:t}=K({anciennes:N.value,nouvelles:l});for(const c of o)await d.nuées.effacerDescriptionNuée({idNuée:u.id,langue:c});await d.nuées.sauvegarderDescriptionsNuée({idNuée:u.id,descriptions:t})},_=U(d.réseau.suivreAuteursBd,{idBd:f(()=>u.id)}),x=async()=>{await d.nuées.effacerNuée({idNuée:u.id})};return(l,o)=>(M(),L(_e,{id:l.id,noms:i(p),descriptions:i(N),auteurs:i(_),"fichiers-epinglables":!0,onAjusterNoms:o[1]||(o[1]=t=>q(t)),onAjusterDescriptions:o[2]||(o[2]=t=>b(t)),onEffacer:o[3]||(o[3]=()=>x())},{activator:n(({props:t})=>[Y(l.$slots,"activator",Z(h({props:t})))]),epingler:n(({activateur:t,epingle:c})=>[s(ye,{"id-nuee":l.id},{activator:n(({props:$})=>[(M(),L(Ve(t),qe($,{id:l.id,epingle:c}),null,16,["id","epingle"]))]),_:2},1032,["id-nuee"])]),default:n(()=>[s(y,{class:"mb-2"}),r("div",De,[s(w,{variant:"outlined","append-icon":"mdi-open-in-new",onClick:o[0]||(o[0]=t=>l.$router.push(encodeURI(`/données/nuée/${encodeURIComponent(l.id)}`)))},{default:n(()=>[g(v(i(B)("nuées.carteNuée.ouvrirNuée")),1)]),_:1})])]),_:3},8,["id","noms","descriptions","auteurs"]))}});export{Be as _,ye as a};
//# sourceMappingURL=CarteNuée.vue_vue_type_script_setup_true_lang-C709jdKo.js.map
