{"version":3,"file":"RésultatRechercheProjet.vue_vue_type_script_setup_true_lang-C05G-xGl.js","sources":["../../src/components/recherche/RésultatRechercheProjet.vue"],"sourcesContent":["<template>\n  <v-list-item :prepend-avatar=\"srcImgProjet || imgDéfaut\">\n    <v-list-item-title>\n      <TexteSurligneRecherche\n        v-if=\"infoSourceNom\"\n        :info=\"infoSourceNom\"\n      />\n      <span v-else>{{ nomTraduit || t('nuées.aucunNom') }}</span>\n    </v-list-item-title>\n    <v-list-item-subtitle>\n      <TexteSurligneRecherche\n        v-if=\"infoSourceDescr\"\n        :info=\"infoSourceDescr\"\n      />\n      <span v-else>{{ descriptionTraduite || t('nuées.aucuneDescription') }}</span>\n    </v-list-item-subtitle>\n    <AuteursObjet\n      :auteurs=\"auteurs\"\n      :n-max=\"1\"\n    ></AuteursObjet>\n    <jeton-id-objet :id=\"résultat.id\">\n      <TexteSurligneRecherche\n        v-if=\"infoSourceId\"\n        :info=\"infoSourceId\"\n      />\n      <span v-else>{{ résultat.id }}</span>\n    </jeton-id-objet>\n    <JetonVariable\n      v-if=\"infoSourceVariable\"\n      :id=\"infoSourceVariable.id\"\n    >\n      <TexteSurligneRecherche :info=\"infoSourceVariable.info.info\" />\n    </JetonVariable>\n    <JetonMotClef\n      v-if=\"infoSourceMotClef\"\n      :id=\"infoSourceMotClef.id\"\n    >\n      <TexteSurligneRecherche :info=\"infoSourceMotClef.info.info\" />\n    </JetonMotClef>\n    <JetonBd\n      v-if=\"infoSourceBdDirecte\"\n      :id=\"infoSourceBdDirecte.id\"\n    >\n      <TexteSurligneRecherche :info=\"infoSourceBdDirecte.info.info\" />\n    </JetonBd>\n    <JetonBd\n      v-if=\"infoSourceBdIndirecte\"\n      :id=\"infoSourceBdIndirecte.id\"\n    >\n      <TexteSurligneRecherche :info=\"infoSourceBdIndirecte.info.info\" />\n    </JetonBd>\n  </v-list-item>\n</template>\n<script setup lang=\"ts\">\nimport type {types} from '@constl/ipa';\n\nimport {suivre} from '@constl/vue';\nimport type {ComputedRef} from 'vue';\nimport {computed} from 'vue';\n\nimport TexteSurligneRecherche from './TexteSurlignéRecherche.vue';\nimport AuteursObjet from '/@/components/communs/AuteursObjet.vue';\nimport JetonIdObjet from '/@/components/communs/JetonIdObjet.vue';\nimport JetonMotClef from '/@/components/motsClefs/JetonMotClef.vue';\nimport JetonVariable from '/@/components/variables/JetonVariable.vue';\n\nimport {கிளிமூக்கை_பயன்படுத்து, மொழிகளைப்_பயன்படுத்து} from '@lassi-js/kilimukku-vue';\nimport JetonBd from '../bds/JetonBd.vue';\nimport {utiliserConstellation} from '/@/components/utils';\nimport {utiliserImagesDéco} from '/@/composables/images';\n\nconst props = defineProps<{\n  résultat: types.résultatRecherche<\n    | types.infoRésultatTexte\n    | types.infoRésultatRecherche<\n        | types.infoRésultatTexte\n        | types.infoRésultatVide\n        | types.infoRésultatRecherche<types.infoRésultatTexte | types.infoRésultatVide>\n      >\n    | types.infoRésultatVide\n  >;\n}>();\n\nconst constl = utiliserConstellation();\n\nconst {அகராதியிலிருந்து_மொழிபெயர்ப்பு} = மொழிகளைப்_பயன்படுத்து();\nconst {மொழியாக்கம்_பயன்படுத்து} = கிளிமூக்கை_பயன்படுத்து();\nconst {$மொ: t} = மொழியாக்கம்_பயன்படுத்து();\n\n// Sources résultat directes (nom, description, id de la nuée)\nconst sourceDirecte = (de: string): ComputedRef<types.infoRésultatTexte | undefined> => {\n  return computed(() => {\n    const {de: sourceRésultat, info} = props.résultat.résultatObjectif;\n    if (info.type === 'texte' && sourceRésultat === de) {\n      return info;\n    } else {\n      return undefined;\n    }\n  });\n};\n\nconst infoSourceNom = sourceDirecte('nom');\nconst infoSourceDescr = sourceDirecte('descr');\nconst infoSourceId = sourceDirecte('id');\n\n// Source BD directe\nconst infoSourceBdIndirecte = computed(\n  ():\n    | {\n        id: string;\n        info: types.infoRésultatRecherche<types.infoRésultatTexte>;\n      }\n    | undefined => {\n    const {de, clef, info} = props.résultat.résultatObjectif;\n    if (info.type === 'résultat' && de === 'bd' && clef && info.info.type === 'résultat') {\n      if (info.info.info.type === 'texte') {\n        return {\n          id: clef,\n          info: {\n            type: info.info.type,\n            de: info.info.de,\n            info: info.info.info,\n          },\n        };\n      } else return undefined;\n    } else {\n      return undefined;\n    }\n  },\n);\n\n// Sources objets connexes\nconst sourceObjetConnexe = (\n  de: string,\n): ComputedRef<\n  | {\n      id: string;\n      info: types.infoRésultatRecherche<types.infoRésultatTexte>;\n    }\n  | undefined\n> => {\n  return computed(() => {\n    const {de: sourceRésultat, clef, info} = props.résultat.résultatObjectif;\n    if (info.type === 'résultat' && sourceRésultat === de && clef && info.info.type === 'texte') {\n      return {\n        id: clef,\n        info: info as types.infoRésultatRecherche<types.infoRésultatTexte>,\n      };\n    } else {\n      return undefined;\n    }\n  });\n};\nconst infoSourceVariable = sourceObjetConnexe('variable');\nconst infoSourceMotClef = sourceObjetConnexe('motClef');\nconst infoSourceBdDirecte = sourceObjetConnexe('bd');\n\n// Nom\nconst noms = suivre(constl.projets.suivreNomsProjet, {idProjet: props.résultat.id});\nconst nomTraduit = அகராதியிலிருந்து_மொழிபெயர்ப்பு(noms);\n\n// Descriptions\nconst descriptions = suivre(constl.projets.suivreDescriptionsProjet, {idProjet: props.résultat.id});\nconst descriptionTraduite = அகராதியிலிருந்து_மொழிபெயர்ப்பு(descriptions);\n\n// Auteurs\nconst auteurs = suivre(constl.réseau.suivreAuteursProjet, {idProjet: props.résultat.id});\n\n// Image\nconst imageProjet = suivre(constl.projets.suivreImage, {idProjet: props.résultat.id});\nconst srcImgProjet = computed(() => {\n  if (imageProjet.value) {\n    return URL.createObjectURL(new Blob([imageProjet.value], {type: 'image'}));\n  } else {\n    return undefined;\n  }\n});\n\nconst {obtImageDéco} = utiliserImagesDéco();\nconst imgDéfaut = obtImageDéco('logoBD');\n</script>\n"],"names":["props","__props","constl","utiliserConstellation","அகராதியிலிருந்து_மொழிபெயர்ப்பு","மொழிகளைப்_பயன்படுத்து","மொழியாக்கம்_பயன்படுத்து","கிளிமூக்கை_பயன்படுத்து","t","sourceDirecte","de","computed","sourceRésultat","info","infoSourceNom","infoSourceDescr","infoSourceId","infoSourceBdIndirecte","clef","sourceObjetConnexe","infoSourceVariable","infoSourceMotClef","infoSourceBdDirecte","noms","suivre","nomTraduit","descriptions","descriptionTraduite","auteurs","imageProjet","srcImgProjet","obtImageDéco","utiliserImagesDéco","imgDéfaut"],"mappings":"2TAuEA,MAAMA,EAAQC,EAYRC,EAASC,EAAsB,EAE/B,CAAC,+BAAAC,CAA8B,EAAIC,EAAsB,EACzD,CAAC,wBAAAC,CAAuB,EAAIC,EAAuB,EACnD,CAAC,IAAKC,CAAC,EAAIF,EAAwB,EAGnCG,EAAiBC,GACdC,EAAS,IAAM,CACpB,KAAM,CAAC,GAAIC,EAAgB,KAAAC,CAAI,EAAIb,EAAM,SAAS,iBAClD,GAAIa,EAAK,OAAS,SAAWD,IAAmBF,EACvC,OAAAG,CAGT,CACD,EAGGC,EAAgBL,EAAc,KAAK,EACnCM,EAAkBN,EAAc,OAAO,EACvCO,EAAeP,EAAc,IAAI,EAGjCQ,EAAwBN,EAC5B,IAKiB,CACf,KAAM,CAAC,GAAAD,EAAI,KAAAQ,EAAM,KAAAL,CAAI,EAAIb,EAAM,SAAS,iBACpC,GAAAa,EAAK,OAAS,YAAcH,IAAO,MAAQQ,GAAQL,EAAK,KAAK,OAAS,WACxE,OAAIA,EAAK,KAAK,KAAK,OAAS,QACnB,CACL,GAAIK,EACJ,KAAM,CACJ,KAAML,EAAK,KAAK,KAChB,GAAIA,EAAK,KAAK,GACd,KAAMA,EAAK,KAAK,IAAA,CAEpB,EACY,MAGhB,CAEJ,EAGMM,EACJT,GAQOC,EAAS,IAAM,CACpB,KAAM,CAAC,GAAIC,EAAgB,KAAAM,EAAM,KAAAL,GAAQb,EAAM,SAAS,iBACpD,GAAAa,EAAK,OAAS,YAAcD,IAAmBF,GAAMQ,GAAQL,EAAK,KAAK,OAAS,QAC3E,MAAA,CACL,GAAIK,EACJ,KAAAL,CACF,CAGF,CACD,EAEGO,EAAqBD,EAAmB,UAAU,EAClDE,EAAoBF,EAAmB,SAAS,EAChDG,EAAsBH,EAAmB,IAAI,EAG7CI,EAAOC,EAAOtB,EAAO,QAAQ,iBAAkB,CAAC,SAAUF,EAAM,SAAS,GAAG,EAC5EyB,EAAarB,EAA+BmB,CAAI,EAGhDG,EAAeF,EAAOtB,EAAO,QAAQ,yBAA0B,CAAC,SAAUF,EAAM,SAAS,GAAG,EAC5F2B,EAAsBvB,EAA+BsB,CAAY,EAGjEE,EAAUJ,EAAOtB,EAAO,OAAO,oBAAqB,CAAC,SAAUF,EAAM,SAAS,GAAG,EAGjF6B,EAAcL,EAAOtB,EAAO,QAAQ,YAAa,CAAC,SAAUF,EAAM,SAAS,GAAG,EAC9E8B,EAAenB,EAAS,IAAM,CAClC,GAAIkB,EAAY,MACd,OAAO,IAAI,gBAAgB,IAAI,KAAK,CAACA,EAAY,KAAK,EAAG,CAAC,KAAM,OAAO,CAAC,CAAC,CAG3E,CACD,EAEK,CAAC,aAAAE,CAAY,EAAIC,EAAmB,EACpCC,EAAYF,EAAa,QAAQ"}