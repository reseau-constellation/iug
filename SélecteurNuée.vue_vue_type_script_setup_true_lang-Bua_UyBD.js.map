{"version":3,"file":"SélecteurNuée.vue_vue_type_script_setup_true_lang-Bua_UyBD.js","sources":["../../src/components/règles/SourceRègleColonne.vue","../../src/components/règles/ItemRègleColonne.vue","../../src/components/tableaux/NouvelleColonne.vue","../../src/components/tableaux/ItemSpécificationColonne.vue","../../src/components/tableaux/NouveauTableau.vue","../../src/components/tableaux/ItemSpécificationTableau.vue","../../src/components/nuées/NouvelleNuée.vue","../../src/components/nuées/SélecteurNuée.vue"],"sourcesContent":["<template>\n  <p class=\"text-disabled font-weight-light\">\n    {{ t(`règles.source.${source.type}`) }}\n  </p>\n</template>\n<script setup lang=\"ts\">\nimport type {valid} from '@constl/ipa';\nimport {மொழியாக்கத்தைப்_பயன்படுத்து} from '@lassi-js/kilimukku-vue';\ndefineProps<{\n  source: valid.sourceRègle;\n}>();\n\nconst {$மொ: t} = மொழியாக்கத்தைப்_பயன்படுத்து();\n</script>\n","<template>\n  <item-regle\n    :regle=\"regle.règle\"\n    :effacable=\"effaçable\"\n    :autorisation-modifier=\"autorisationModifier\"\n    @effacer=\"() => émettre('effacer')\"\n  >\n    <source-regle-colonne :source=\"regle.source\" />\n  </item-regle>\n</template>\n<script setup lang=\"ts\">\nimport type {valid} from '@constl/ipa';\n\nimport {computed} from 'vue';\n\nimport ItemRegle from './ItemRègle.vue';\nimport SourceRegleColonne from './SourceRègleColonne.vue';\n\nconst props = defineProps<{\n  regle: valid.règleColonne;\n  autorisationModifier: boolean;\n}>();\nconst émettre = defineEmits<{\n  (é: 'effacer'): void;\n}>();\n\nconst effaçable = computed(() => {\n  return props.regle.règle.règle.typeRègle !== 'catégorie' && props.regle.source.type === 'tableau';\n});\n</script>\n","<template>\n  <v-dialog v-model=\"dialogue\">\n    <template #activator=\"{props: propsActivateur}\">\n      <slot\n        name=\"activateur\"\n        v-bind=\"{props: propsActivateur}\"\n      ></slot>\n    </template>\n    <v-card\n      class=\"mx-auto\"\n      :min-width=\"mdAndUp ? 500 : 300\"\n    >\n      <v-card-item>\n        <v-card-title class=\"d-flex align-center\">\n          <span>{{ t(titreCarte) }}</span>\n          <v-spacer />\n          <v-btn\n            variant=\"flat\"\n            size=\"small\"\n            icon=\"mdi-close\"\n            @click=\"fermer\"\n          />\n        </v-card-title>\n        <v-card-subtitle> {{ t(sousTitreCarte) }} </v-card-subtitle>\n      </v-card-item>\n      <v-card-text>\n        <v-window\n          v-model=\"étape\"\n          style=\"overflow-y: scroll\"\n        >\n          <v-window-item :value=\"0\">\n            <SelecteurVariable\n              :interdites=\"variablesInterdites\"\n              :multiples=\"false\"\n              @selectionnee=\"ids => choisirVariable(ids[0])\"\n            />\n          </v-window-item>\n          <v-window-item :value=\"1\">\n            <v-checkbox\n              v-model=\"index\"\n              :label=\"t('colonnes.nouvelle.index')\"\n              color=\"primary\"\n            ></v-checkbox>\n          </v-window-item>\n          <v-window-item :value=\"2\">\n            <v-list>\n              <NouvelleRegle\n                :source=\"{\n                  type: 'tableau',\n                  idTableau,\n                }\"\n                :categorie-variable=\"catégorieBaseVariableChoisie\"\n                @sauvegarder=\"r => ajouterRègle(r)\"\n              >\n                <template #activateur=\"{props: propsActivateurNouvelleRègle}\">\n                  <v-list-item\n                    v-bind=\"propsActivateurNouvelleRègle\"\n                    prepend-icon=\"mdi-plus\"\n                  >\n                    <v-list-item-title>\n                      {{ t('tableaux.règles.nouvelle') }}\n                    </v-list-item-title>\n                  </v-list-item>\n                </template>\n              </NouvelleRegle>\n\n              <item-regle-colonne\n                v-for=\"règle in règlesExistantes\"\n                :key=\"règle.règle.id\"\n                :regle=\"règle\"\n                :effacable=\"false\"\n                :autorisation-modifier=\"false\"\n              />\n\n              <item-regle\n                v-for=\"règle in règlesColonne\"\n                :key=\"règle.id\"\n                :regle=\"règle\"\n                effacable\n                :autorisation-modifier=\"true\"\n                @effacer=\"() => effacerRègle(règle.id)\"\n              />\n            </v-list>\n          </v-window-item>\n          <v-window-item\n            :value=\"3\"\n            class=\"text-center\"\n          >\n            <v-btn\n              variant=\"outlined\"\n              @click=\"() => créerColonne()\"\n            >\n              {{ t('colonnes.nouvelle.texteBtnCréation') }}\n            </v-btn>\n          </v-window-item>\n        </v-window>\n      </v-card-text>\n      <v-divider></v-divider>\n\n      <v-card-actions>\n        <btn-retour\n          :visible=\"retourActif.visible\"\n          :actif=\"retourActif.actif\"\n          @retour=\"retour\"\n        />\n        <v-spacer></v-spacer>\n        <btn-suivant\n          :visible=\"suivantActif.visible\"\n          :actif=\"suivantActif.actif\"\n          @suivant=\"suivant\"\n        />\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n<script setup lang=\"ts\">\nimport type {valid} from '@constl/ipa';\n\nimport {suivre} from '@constl/vue';\nimport {computed, ref} from 'vue';\nimport {useDisplay} from 'vuetify';\n\nimport {v4 as uuidv4} from 'uuid';\n\nimport {utiliserConstellation} from '/@/components/utils';\nimport SelecteurVariable from '/@/components/variables/SélecteurVariable.vue';\n\nimport {மொழியாக்கத்தைப்_பயன்படுத்து} from '@lassi-js/kilimukku-vue';\nimport BtnRetour from '/@/components/communs/BtnRetour.vue';\nimport BtnSuivant from '/@/components/communs/BtnSuivant.vue';\nimport ItemRegle from '/@/components/règles/ItemRègle.vue';\nimport ItemRegleColonne from '/@/components/règles/ItemRègleColonne.vue';\nimport NouvelleRegle from '/@/components/règles/NouvelleRègle.vue';\n\nconst props = defineProps<{\n  idTableau?: string;\n  idVariable?: string;\n  idColonne?: string;\n  variablesInterdites?: string[];\n}>();\n\nconst émettre = defineEmits<{\n  (\n    é: 'nouvelle',\n    info: {\n      idVariable: string;\n      idColonne?: string;\n      index: boolean;\n      règles: valid.règleVariable[];\n    },\n  ): void;\n}>();\n\nconst {mdAndUp} = useDisplay();\n\nconst {$மொ: t} = மொழியாக்கத்தைப்_பயன்படுத்து();\n\nconst constl = utiliserConstellation();\n\n// Navigation\nconst dialogue = ref(false);\n\nconst étape = ref(0);\nconst listeÉtapes = ['variable', 'index', 'règles', 'confirmation'] as const;\n\nconst titreCarte = computed(() => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    case 'variable':\n      return 'colonnes.nouvelle.titreVariable';\n    case 'index':\n      return 'colonnes.nouvelle.titreIndex';\n    case 'règles':\n      return 'colonnes.nouvelle.titreRègles';\n    case 'confirmation':\n      return 'colonnes.nouvelle.titreConfirmation';\n    default:\n      return '';\n  }\n});\n\nconst sousTitreCarte = computed(() => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    case 'variable':\n      return 'colonnes.nouvelle.sousTitreVariable';\n    case 'index':\n      return 'colonnes.nouvelle.sousTitreIndex';\n    case 'règles':\n      return 'colonnes.nouvelle.sousTitreRègles';\n    case 'confirmation':\n      return 'colonnes.nouvelle.sousTitreConfirmation';\n    default:\n      return '';\n  }\n});\n\nconst suivant = () => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    default:\n      étape.value++;\n      break;\n  }\n};\n\nconst retour = () => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    default:\n      étape.value--;\n      break;\n  }\n};\n\nconst suivantActif = computed<{actif: boolean; visible: boolean}>(() => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    case 'variable':\n      return {actif: !!idVariableChoisie.value, visible: true};\n    case 'confirmation':\n      return {actif: false, visible: false};\n    default:\n      return {actif: true, visible: true};\n  }\n});\n\nconst retourActif = computed<{actif: boolean; visible: boolean}>(() => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    case 'variable':\n      return {actif: false, visible: false};\n    default:\n      return {actif: true, visible: true};\n  }\n});\n\n// Variable\nconst idVariableChoisie = ref(props.idVariable);\nconst choisirVariable = (idVar: string) => (idVariableChoisie.value = idVar);\n\n// Catégorie variable\nconst catégorieVariableChoisie = suivre(constl.variables.suivreCatégorieVariable, {\n  idVariable: idVariableChoisie,\n});\nconst catégorieBaseVariableChoisie = computed(() => catégorieVariableChoisie.value?.catégorie);\n\n// Index\nconst index = ref(false);\n\n// Règles variable associée\nconst règlesVariable = suivre(constl.variables.suivreRèglesVariable, {\n  idVariable: idVariableChoisie,\n});\nconst règlesExistantes = computed<valid.règleColonne[] | undefined>(() => {\n  const idVariable = idVariableChoisie.value;\n  if (!idVariable) return undefined;\n  return règlesVariable.value?.map(r => ({\n    règle: r,\n    source: {type: 'variable', id: idVariable},\n    colonne: '',\n  }));\n});\n\n// Règles colonne\nconst règlesColonne = ref<valid.règleVariableAvecId[]>([]);\n\nconst ajouterRègle = (règle: valid.règleVariable) => {\n  const idRègle = uuidv4();\n  règlesColonne.value = [...règlesColonne.value, {règle: règle, id: idRègle}];\n};\nconst effacerRègle = (idRègle: string) => {\n  règlesColonne.value = règlesColonne.value.filter(r => r.id !== idRègle);\n};\n\n// Créer colonne\nconst prèteÀCréér = computed<{idVariable: string} | undefined>(() => {\n  return idVariableChoisie.value ? {idVariable: idVariableChoisie.value} : undefined;\n});\n\nconst créerColonne = async () => {\n  if (!prèteÀCréér.value) return;\n  const {idVariable} = prèteÀCréér.value;\n\n  émettre('nouvelle', {\n    idVariable,\n    index: index.value,\n    idColonne: props.idColonne,\n    règles: règlesColonne.value.map(r => r.règle),\n  });\n\n  fermer();\n};\n\nconst fermer = () => {\n  idVariableChoisie.value = undefined;\n  index.value = false;\n  règlesColonne.value = [];\n\n  dialogue.value = false;\n  étape.value = 0;\n};\n</script>\n","<template>\n  <v-list-item>\n    <v-list-item-title>\n      {{ nomVariableTraduit }}\n    </v-list-item-title>\n\n    <template #append>\n      <v-btn\n        v-if=\"modificationPermise\"\n        icon=\"mdi-delete\"\n        variant=\"flat\"\n        @click=\"effacerColonne\"\n      />\n    </template>\n  </v-list-item>\n</template>\n<script setup lang=\"ts\">\nimport type {valid} from '@constl/ipa';\n\nimport {suivre} from '@constl/vue';\nimport {computed, ref, watchEffect} from 'vue';\n\nimport {மொழிகளைப்_பயன்படுத்து} from '@lassi-js/kilimukku-vue';\nimport {utiliserConstellation} from '/@/components/utils';\n\nconst {அகராதியிலிருந்து_மொழிபெயர்ப்பு} = மொழிகளைப்_பயன்படுத்து();\n\nconst props = defineProps<{\n  idVariable?: string;\n  index?: boolean;\n  modificationPermise: boolean;\n  règles: valid.règleVariable[];\n}>();\n\nconst émettre = defineEmits<{\n  (é: 'modifier-colonne', info: {idVariable?: string; index?: boolean}): void;\n  (é: 'effacer-colonne'): void;\n}>();\n\nconst constl = utiliserConstellation();\n\nconst choixVariable = ref(props.idVariable);\nwatchEffect(() => {\n  choixVariable.value = props.idVariable;\n});\n\n// Nom variable\nconst nomsVariable = suivre(constl.variables.suivreNomsVariable, {\n  idVariable: computed(() => props.idVariable),\n});\nconst nomVariableTraduit = அகராதியிலிருந்து_மொழிபெயர்ப்பு(nomsVariable);\n\n// Index\nconst choixIndex = ref<boolean>(props.index);\nwatchEffect(() => {\n  choixIndex.value = props.index;\n});\n\n// Modification\nwatchEffect(() => {\n  const spécColonne = {\n    idVariable: choixVariable.value,\n    index: choixIndex.value,\n  };\n  émettre('modifier-colonne', spécColonne);\n});\nconst effacerColonne = () => émettre('effacer-colonne');\n</script>\n","<template>\n  <v-dialog v-model=\"dialogue\">\n    <template #activator=\"{props: propsActivateur}\">\n      <slot\n        name=\"activateur\"\n        v-bind=\"{props: propsActivateur}\"\n      ></slot>\n    </template>\n\n    <v-card\n      class=\"mx-auto\"\n      :width=\"mdAndUp ? 500 : 300\"\n    >\n      <v-card-item>\n        <v-card-title class=\"d-flex align-center\">\n          {{ t(titreCarte) }}\n          <v-spacer />\n          <v-btn\n            icon=\"mdi-close\"\n            size=\"small\"\n            variant=\"flat\"\n            @click=\"() => (dialogue = false)\"\n          ></v-btn>\n        </v-card-title>\n        <v-card-subtitle> {{ t(sousTitreCarte) }} </v-card-subtitle>\n      </v-card-item>\n      <v-card-text>\n        <v-window\n          v-model=\"étape\"\n          style=\"overflow-y: scroll\"\n        >\n          <v-window-item :value=\"0\">\n            <liste-noms\n              :texte-aucun-nom=\"t('communs.texteAucunNom')\"\n              :indice-langue=\"t('communs.indiceLangue')\"\n              :etiquette-nom=\"t('communs.étiquetteNom')\"\n              :indice-nom=\"t('tableaux.nouveau.texteIndiceNom')\"\n              :noms-initiaux=\"noms\"\n              :autorisation-modification=\"true\"\n              @ajuster-noms=\"ajusterNoms\"\n            />\n          </v-window-item>\n          <v-window-item :value=\"1\">\n            <v-list>\n              <nouvelle-colonne\n                :variables-interdites=\"variablesDéjàAjoutées\"\n                @nouvelle=\"col => ajouterColonne(col)\"\n              >\n                <template #activateur=\"{props: propsActivateur}\">\n                  <v-list-item\n                    v-bind=\"propsActivateur\"\n                    :title=\"t('tableaux.nouveau.ajouterColonne')\"\n                    prepend-icon=\"mdi-table-column-plus-after\"\n                  ></v-list-item>\n                </template>\n              </nouvelle-colonne>\n              <ItemSpecificationColonne\n                v-for=\"col in colonnes\"\n                :id=\"col.info.id\"\n                :key=\"col.info.id\"\n                :id-variable=\"col.info.variable\"\n                :index=\"col.info.index\"\n                :règles=\"col.règles\"\n                modification-permise\n                @modifier-colonne=\"modifierColonne\"\n                @effacer-colonne=\"() => effacerColonne(col.info.id)\"\n              />\n            </v-list>\n          </v-window-item>\n          <v-window-item :value=\"2\">\n            <div class=\"text-center\">\n              <v-btn\n                class=\"mt-3\"\n                variant=\"outlined\"\n                @click=\"confirmer\"\n              >\n                {{ t('tableaux.nouveau.texteBtnCréation') }}\n              </v-btn>\n            </div>\n          </v-window-item>\n        </v-window>\n      </v-card-text>\n      <v-card-actions>\n        <btn-retour\n          :visible=\"retourActif.visible\"\n          :actif=\"retourActif.actif\"\n          @retour=\"retour\"\n        />\n        <v-spacer></v-spacer>\n        <btn-suivant\n          :visible=\"suivantActif.visible\"\n          :actif=\"suivantActif.actif\"\n          @suivant=\"suivant\"\n        />\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n<script setup lang=\"ts\">\nimport type {tableaux as tblx, valid} from '@constl/ipa';\n\nimport {computed, ref} from 'vue';\nimport {useDisplay} from 'vuetify';\n\nimport {மொழியாக்கத்தைப்_பயன்படுத்து} from '@lassi-js/kilimukku-vue';\nimport {v4 as uuidv4} from 'uuid';\n\nimport NouvelleColonne from './NouvelleColonne.vue';\nimport BtnRetour from '/@/components/communs/BtnRetour.vue';\nimport BtnSuivant from '/@/components/communs/BtnSuivant.vue';\nimport ListeNoms from '/@/components/communs/listeNoms/ListeNoms.vue';\nimport ItemSpecificationColonne from '/@/components/tableaux/ItemSpécificationColonne.vue';\n\nconst émettre = defineEmits<{\n  (\n    é: 'sauvegarder',\n    args: {\n      noms: {[langue: string]: string};\n      cols: {info: tblx.InfoCol; règles: valid.règleVariable[]}[];\n    },\n  ): void;\n}>();\n\nconst {mdAndUp} = useDisplay();\n\nconst {$மொ: t} = மொழியாக்கத்தைப்_பயன்படுத்து();\n\n// Navigation\nconst dialogue = ref(false);\n\nconst étape = ref(0);\nconst listeÉtapes = ['noms', 'colonnnes', 'confirmation'] as const;\n\nconst titreCarte = computed(() => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    case 'noms':\n      return 'tableaux.nouveau.titreNoms';\n    case 'colonnnes':\n      return 'tableaux.nouveau.titreColonnes';\n    case 'confirmation':\n      return 'tableaux.nouveau.titreConfirmation';\n    default:\n      return '';\n  }\n});\n\nconst sousTitreCarte = computed(() => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    case 'noms':\n      return 'tableaux.nouveau.sousTitreNoms';\n    case 'colonnnes':\n      return 'tableaux.nouveau.sousTitreColonnes';\n    case 'confirmation':\n      return 'tableaux.nouveau.sousTitreConfirmation';\n    default:\n      return '';\n  }\n});\n\nconst retour = () => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    default:\n      étape.value--;\n      break;\n  }\n};\n\nconst suivant = () => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    default:\n      étape.value++;\n      break;\n  }\n};\n\nconst suivantActif = computed<{actif: boolean; visible: boolean}>(() => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    case 'noms':\n      return {actif: !!Object.keys(noms.value).length, visible: true};\n    case 'confirmation':\n      return {actif: false, visible: false};\n    default:\n      return {actif: true, visible: true};\n  }\n});\n\nconst retourActif = computed<{actif: boolean; visible: boolean}>(() => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    case 'noms':\n      return {actif: false, visible: false};\n    default:\n      return {actif: true, visible: true};\n  }\n});\n\n// Noms tableau\nconst noms = ref<{[langue: string]: string}>({});\nconst ajusterNoms = (nms: {[lng: string]: string}) => {\n  noms.value = nms;\n};\n\n// Colonnes\nconst colonnes = ref<{info: tblx.InfoCol; règles: valid.règleVariable[]}[]>([]);\nconst ajouterColonne = ({\n  idVariable,\n  idColonne,\n  index,\n  règles,\n}: {\n  idVariable: string;\n  idColonne?: string | undefined;\n  index: boolean;\n  règles: valid.règleVariable[];\n}) => {\n  colonnes.value = [\n    ...colonnes.value,\n    {\n      info: {\n        id: idColonne || uuidv4(),\n        variable: idVariable,\n        index,\n      },\n      règles,\n    },\n  ];\n};\nconst modifierColonne = () => {};\nconst effacerColonne = (idColonne: string) => {\n  colonnes.value = colonnes.value.filter(c => c.info.id !== idColonne);\n};\n\nconst variablesDéjàAjoutées = computed(() => {\n  return colonnes.value.map(c => c.info.variable).filter(v => !!v) as string[];\n});\n\n// Confirmation\nconst confirmer = () => {\n  émettre('sauvegarder', {\n    noms: noms.value,\n    cols: colonnes.value || [],\n  });\n  fermer();\n};\n\nconst fermer = () => {\n  noms.value = {};\n  colonnes.value = [];\n\n  étape.value = 0;\n  dialogue.value = false;\n};\n</script>\n","<template>\n  <v-list-group :value=\"clef\">\n    <template #activator=\"{props: propsActivateur}\">\n      <v-list-item\n        v-bind=\"propsActivateur\"\n        prepend-icon=\"mdi-table\"\n      >\n        <v-list-item-title>\n          <DialogueNoms\n            :etiquette-nom=\"t('listeNomsProfil.étiquetteNom')\"\n            :indice-nom=\"t('listeNomsProfil.indiceNom')\"\n            :indice-langue=\"t('listeNomsProfil.indiceLangue')\"\n            :texte-aucun-nom=\"t('listeNomsProfil.texteAucunNom')\"\n            :titre=\"t('tableaux.spécification.titreDialogueNoms')\"\n            :sous-titre=\"t('tableaux.spécification.sousTitreDialogueNoms')\"\n            :noms-initiaux=\"noms\"\n            :autorisation-modification=\"modificationPermise\"\n            @ajuster-noms=\"modifierNoms\"\n          >\n            <template #activateur=\"{props: propsActivateurDialogueNoms}\">\n              <span v-bind=\"propsActivateurDialogueNoms\">\n                {{ nomTraduit || t('communs.baseCarteObjet.sansNom') }}\n                <v-btn\n                  :icon=\"modificationPermise ? 'mdi-pencil' : 'mdi-earth'\"\n                  variant=\"flat\"\n                  size=\"small\"\n                ></v-btn>\n              </span>\n            </template>\n          </DialogueNoms>\n        </v-list-item-title>\n      </v-list-item>\n    </template>\n    <NouvelleColonne\n      :variables-interdites=\"variablesDéjàAjoutées\"\n      @nouvelle=\"ajouterColonne\"\n    >\n      <template #activateur=\"{props: propsActivateur}\">\n        <v-list-item v-bind=\"propsActivateur\">\n          <template #prepend>\n            <v-icon> mdi-plus </v-icon>\n          </template>\n          <template #title>\n            {{ t('tableaux.spécification.nouvelleColonne') }}\n          </template>\n        </v-list-item>\n      </template>\n    </NouvelleColonne>\n\n    <ItemSpecificationColonne\n      v-for=\"col in colonnes\"\n      :id=\"col.info.id\"\n      :key=\"col.info.id\"\n      :id-variable=\"col.info.variable\"\n      :index=\"col.info.index\"\n      :règles=\"col.règles\"\n      :modification-permise=\"modificationPermise\"\n      @modifier-colonne=\"info => modifierColonne(col.info.id, info)\"\n      @effacer-colonne=\"() => effacerColonne(col.info.id)\"\n    />\n  </v-list-group>\n</template>\n\n<script setup lang=\"ts\">\nimport type {tableaux, valid} from '@constl/ipa';\n\nimport {மொழிகளைப்_பயன்படுத்து, மொழியாக்கத்தைப்_பயன்படுத்து} from '@lassi-js/kilimukku-vue';\nimport {computed} from 'vue';\nimport ItemSpecificationColonne from './ItemSpécificationColonne.vue';\nimport NouvelleColonne from './NouvelleColonne.vue';\nimport DialogueNoms from '/@/components/communs/listeNoms/DialogueNoms.vue';\n\nconst {$மொ: t} = மொழியாக்கத்தைப்_பயன்படுத்து();\nconst {அகராதியிலிருந்து_மொழிபெயர்ப்பு} = மொழிகளைப்_பயன்படுத்து();\n\nconst props = defineProps<{\n  clef: string;\n  noms: {[langue: string]: string};\n  idTableau?: string;\n  colonnes: {info: tableaux.InfoCol; règles: valid.règleVariable[]}[];\n  modificationPermise: boolean;\n}>();\nconst émettre = defineEmits<{\n  (é: 'modifier-noms', noms: {[langue: string]: string}): void;\n  (\n    é: 'nouvelle-colonne',\n    info: {idVariable: string; index?: boolean; règles: valid.règleVariable[]},\n  ): void;\n  (é: 'modifier-colonne', info: {idColonne: string; idVariable?: string; index?: boolean}): void;\n  (é: 'effacer-colonne', idColonne: string): void;\n}>();\n\n// Noms\nconst modifierNoms = (noms_: {[langue: string]: string}) => {\n  émettre('modifier-noms', noms_);\n};\nconst nomTraduit = அகராதியிலிருந்து_மொழிபெயர்ப்பு(computed(() => props.noms));\n\n// Variables déjà ajoutées au tableau, qu'on ne veut pas associer à de nouvelles colonnes\nconst variablesDéjàAjoutées = computed(() => {\n  return props.colonnes.map(c => c.info.variable).filter(v => v) as string[];\n});\n\n// Modification colonnes\nconst modifierColonne = (idColonne: string, info: {idVariable?: string; index?: boolean}) => {\n  émettre('modifier-colonne', {idColonne, ...info});\n};\nconst effacerColonne = (idColonne: string) => {\n  émettre('effacer-colonne', idColonne);\n};\nconst ajouterColonne = (info: {\n  idVariable: string;\n  index?: boolean;\n  règles: valid.règleVariable[];\n}) => {\n  émettre('nouvelle-colonne', info);\n};\n</script>\n","<template>\n  <v-dialog v-model=\"dialogue\">\n    <template #activator=\"{props: propsActivateur}\">\n      <slot\n        name=\"activateur\"\n        v-bind=\"{props: propsActivateur}\"\n      ></slot>\n    </template>\n\n    <v-card\n      class=\"mx-auto\"\n      :min-width=\"mdAndUp ? 500 : 300\"\n    >\n      <v-card-item>\n        <v-card-title class=\"d-flex align-center\">\n          {{ t(titreCarte) }}\n          <v-spacer />\n          <v-btn\n            variant=\"flat\"\n            size=\"small\"\n            icon=\"mdi-close\"\n            @click=\"fermer\"\n          />\n        </v-card-title>\n        <v-card-subtitle> {{ t(sousTitreCarte) }} </v-card-subtitle>\n      </v-card-item>\n      <v-card-text>\n        <v-window\n          v-model=\"étape\"\n          style=\"overflow-y: scroll\"\n        >\n          <v-window-item :key=\"0\">\n            <liste-noms\n              :texte-aucun-nom=\"t('communs.texteAucunNom')\"\n              :indice-langue=\"t('communs.indiceLangue')\"\n              :etiquette-nom=\"t('communs.étiquetteNom')\"\n              :indice-nom=\"t('nuées.nouvelle.texteIndiceNom')\"\n              :noms-initiaux=\"noms\"\n              :autorisation-modification=\"true\"\n              @ajuster-noms=\"ajusterNoms\"\n            />\n          </v-window-item>\n          <v-window-item :key=\"1\">\n            <liste-noms\n              :texte-aucun-nom=\"t('nuées.nouvelle.texteAucuneDescription')\"\n              :indice-langue=\"t('communs.indiceLangue')\"\n              :etiquette-nom=\"t('nuées.nouvelle.texteÉtiquetteDescription')\"\n              :indice-nom=\"t('nuées.nouvelle.texteIndiceDescription')\"\n              :noms-initiaux=\"descriptions\"\n              :autorisation-modification=\"true\"\n              longue\n              @ajuster-noms=\"ajusterDescriptions\"\n            />\n          </v-window-item>\n          <v-window-item :key=\"2\">\n            <v-radio-group v-model=\"autorisation\">\n              <v-radio\n                value=\"CJPI\"\n                class=\"my-2\"\n              >\n                <template #label>\n                  <div>\n                    <p class=\"font-weight-bold\">{{ t('nuées.nouvelle.parInvitation') }}</p>\n                    <p class=\"text-medium-emphasis text-caption\">\n                      {{ t('nuées.nouvelle.indiceParInvitation') }}\n                    </p>\n                  </div>\n                </template>\n              </v-radio>\n              <v-radio\n                value=\"IJPC\"\n                class=\"my-2\"\n              >\n                <template #label>\n                  <div>\n                    <p class=\"font-weight-bold\">{{ t('nuées.nouvelle.ouverteÀTous') }}</p>\n                    <p class=\"text-medium-emphasis text-caption\">\n                      {{ t('nuées.nouvelle.indiceOuverteÀTous') }}\n                    </p>\n                  </div>\n                </template>\n              </v-radio>\n            </v-radio-group>\n          </v-window-item>\n          <v-window-item :key=\"3\">\n            <v-list>\n              <nouveau-tableau\n                :importation-permise=\"false\"\n                @sauvegarder=\"ajouterTableau\"\n              >\n                <template #activateur=\"{props: propsActivateur}\">\n                  <v-list-item\n                    v-bind=\"propsActivateur\"\n                    :title=\"t('nuées.nouvelle.ajoutTableau')\"\n                    prepend-icon=\"mdi-plus\"\n                  >\n                  </v-list-item>\n                </template>\n              </nouveau-tableau>\n              <ItemSpecificationTableau\n                v-for=\"tbl in tableaux\"\n                :key=\"tbl.clef\"\n                :clef=\"tbl.clef\"\n                :noms=\"tbl.noms\"\n                :colonnes=\"tbl.cols\"\n                modification-permise\n                @modifier-noms=\"noms => modifierNomsTableau({clefTableau: tbl.clef, noms})\"\n                @nouvelle-colonne=\"\n                  col =>\n                    ajouterColonneTableau({\n                      clefTableau: tbl.clef,\n                      idVariable: col.idVariable,\n                      index: col.index,\n                      règles: col.règles,\n                    })\n                \"\n                @effacer-colonne=\"\n                  idColonne => effacerColonneTableau({clefTableau: tbl.clef, idColonne})\n                \"\n                @effacer-tableau=\"() => effacerTableau(tbl.clef)\"\n              />\n            </v-list>\n          </v-window-item>\n          <v-window-item :key=\"4\">\n            <div class=\"text-center\">\n              <v-btn\n                class=\"mt-3\"\n                variant=\"outlined\"\n                :loading=\"enCréation\"\n                @click=\"() => créerNuée()\"\n              >\n                {{ t('nuées.nouvelle.texteBtnCréation') }}\n              </v-btn>\n              <v-checkbox\n                v-model=\"ouvrirAprèsCréation\"\n                class=\"mx-auto\"\n                color=\"primary\"\n                :label=\"t('nuées.nouvelle.ouvrirAprèsCréation')\"\n              >\n              </v-checkbox>\n            </div>\n          </v-window-item>\n        </v-window>\n      </v-card-text>\n      <v-card-actions>\n        <btn-retour\n          :visible=\"retourActif.visible\"\n          :actif=\"retourActif.actif\"\n          @retour=\"retour\"\n        />\n        <v-spacer></v-spacer>\n        <btn-suivant\n          :visible=\"suivantActif.visible\"\n          :actif=\"suivantActif.actif\"\n          @suivant=\"suivant\"\n        />\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n<script setup lang=\"ts\">\nimport {type tableaux as tblx, type valid} from '@constl/ipa';\n\nimport {v4 as uuidv4} from 'uuid';\n\nimport {மொழியாக்கத்தைப்_பயன்படுத்து} from '@lassi-js/kilimukku-vue';\nimport {computed, ref} from 'vue';\nimport {useRouter} from 'vue-router';\nimport {useDisplay} from 'vuetify';\nimport ListeNoms from '../communs/listeNoms/ListeNoms.vue';\nimport NouveauTableau from '../tableaux/NouveauTableau.vue';\nimport BtnRetour from '/@/components/communs/BtnRetour.vue';\nimport BtnSuivant from '/@/components/communs/BtnSuivant.vue';\nimport ItemSpecificationTableau from '/@/components/tableaux/ItemSpécificationTableau.vue';\nimport {utiliserConstellation} from '/@/components/utils';\n\nconst {mdAndUp} = useDisplay();\n\nconst {$மொ: t} = மொழியாக்கத்தைப்_பயன்படுத்து();\nconst router = useRouter();\n\nconst émettre = defineEmits<{(é: 'nouvelle', id: string): void}>();\n\nconst constl = utiliserConstellation();\n\n// Navigation\nconst dialogue = ref(false);\n\nconst étape = ref(0);\nconst listeÉtapes = ['noms', 'descriptions', 'autorisation', 'tableaux', 'confirmation'] as const;\n\nconst titreCarte = computed(() => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    case 'noms':\n      return 'nuées.nouvelle.titreNoms';\n    case 'descriptions':\n      return 'nuées.nouvelle.titreDescriptions';\n    case 'autorisation':\n      return 'nuées.nouvelle.titreAutorisation';\n    case 'tableaux':\n      return 'nuées.nouvelle.titreTableaux';\n    case 'confirmation':\n      return 'nuées.nouvelle.titreConfirmation';\n    default:\n      return '';\n  }\n});\n\nconst sousTitreCarte = computed(() => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    case 'noms':\n      return 'nuées.nouvelle.sousTitreNoms';\n    case 'descriptions':\n      return 'nuées.nouvelle.sousTitreDescriptions';\n    case 'autorisation':\n      return 'nuées.nouvelle.sousTitreAutorisation';\n    case 'tableaux':\n      return 'nuées.nouvelle.sousTitreTableaux';\n    case 'confirmation':\n      return 'nuées.nouvelle.sousTitreConfirmation';\n    default:\n      return '';\n  }\n});\n\nconst retour = () => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    default:\n      étape.value--;\n      break;\n  }\n};\n\nconst suivant = () => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    default:\n      étape.value++;\n      break;\n  }\n};\n\nconst suivantActif = computed<{actif: boolean; visible: boolean}>(() => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    case 'noms':\n      return {actif: !!Object.keys(noms.value).length, visible: true};\n    case 'autorisation':\n      return {actif: autorisation.value !== undefined, visible: true};\n    case 'confirmation':\n      return {actif: false, visible: false};\n    default:\n      return {actif: true, visible: true};\n  }\n});\n\nconst retourActif = computed<{actif: boolean; visible: boolean}>(() => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    case 'noms':\n      return {actif: false, visible: false};\n    case 'confirmation':\n      return {actif: !enCréation.value, visible: true};\n    default:\n      return {actif: true, visible: true};\n  }\n});\n\n// Noms\nconst noms = ref<{[lng: string]: string}>({});\nconst ajusterNoms = (nms: {[lng: string]: string}) => {\n  noms.value = nms;\n};\n\n// Descriptions\nconst descriptions = ref<{[lng: string]: string}>({});\nconst ajusterDescriptions = (desrc: {[lng: string]: string}) => {\n  descriptions.value = desrc;\n};\n\n// Autorisation\nconst autorisation = ref<'CJPI' | 'IJPC'>('IJPC');\n\n// Tableaux\nconst tableaux = ref<\n  {\n    clef: string;\n    noms: {[langue: string]: string};\n    cols: {\n      info: tblx.InfoCol;\n      règles: valid.règleVariable[];\n    }[];\n  }[]\n>([]);\n\nconst ajouterTableau = ({\n  noms,\n  cols,\n}: {\n  noms: {[langue: string]: string};\n  cols: {info: tblx.InfoCol; règles: valid.règleVariable[]}[];\n}) => {\n  tableaux.value = [...tableaux.value, {clef: uuidv4(), noms, cols}];\n};\n\nconst effacerTableau = (clef: string) => {\n  tableaux.value = tableaux.value.filter(t => t.clef !== clef);\n};\n\nconst modifierNomsTableau = ({\n  clefTableau,\n  noms,\n}: {\n  clefTableau: string;\n  noms: {[langue: string]: string};\n}) => {\n  tableaux.value = tableaux.value.map(t => {\n    return t.clef === clefTableau ? {...t, noms} : t;\n  });\n};\n\n// Colonnes tableaux\nconst ajouterColonneTableau = ({\n  clefTableau,\n  idVariable,\n  index,\n  règles,\n}: {\n  clefTableau: string;\n  idVariable: string;\n  index?: boolean;\n  règles: valid.règleVariable[];\n}) => {\n  const nouvelleColonne = {\n    id: uuidv4(),\n    variable: idVariable,\n    index,\n  };\n  tableaux.value = tableaux.value.map(t => {\n    return t.clef === clefTableau\n      ? {clef: t.clef, noms: t.noms, cols: [...t.cols, {info: nouvelleColonne, règles}]}\n      : t;\n  });\n};\n\nconst effacerColonneTableau = ({\n  clefTableau,\n  idColonne,\n}: {\n  clefTableau: string;\n  idColonne: string;\n}) => {\n  tableaux.value = tableaux.value.map(t => {\n    return t.clef === clefTableau\n      ? {clef: t.clef, noms: t.noms, cols: t.cols.filter(c => c.info.id !== idColonne)}\n      : t;\n  });\n};\n\n// Création\nconst ouvrirAprèsCréation = ref(true);\n\nconst enCréation = ref(false);\n\nconst créerNuée = async () => {\n  enCréation.value = true;\n\n  const idNuée = await constl.nuées.créerNuée({\n    autorisation: autorisation.value,\n  });\n  if (!idNuée) throw new Error('Nuée non créée.');\n\n  await constl.nuées.sauvegarderNomsNuée({\n    idNuée,\n    noms: Object.fromEntries(Object.entries(noms.value)),\n  });\n  await constl.nuées.sauvegarderDescriptionsNuée({\n    idNuée,\n    descriptions: Object.fromEntries(Object.entries(descriptions.value)),\n  });\n\n  // Ajouter les tableaux\n  for (const tbl of tableaux.value) {\n    const idTableau = await constl.nuées.ajouterTableauNuée({\n      idNuée,\n      clefTableau: tbl.clef,\n    });\n    if (!idTableau) return;\n\n    await constl.nuées.sauvegarderNomsTableauNuée({\n      idTableau,\n      noms: tbl.noms,\n    });\n\n    // Ajouter les colonnes\n    for (const col of tbl.cols) {\n      const idColonne = col.info.id;\n      await constl.nuées.ajouterColonneTableauNuée({\n        idTableau,\n        idVariable: col.info.variable,\n        idColonne,\n      });\n      if (col.info.index)\n        await constl.nuées.changerColIndexTableauNuée({\n          idTableau,\n          idColonne,\n          val: col.info.index,\n        });\n\n      // Ajotuer les règles colonne\n      for (const règle of col.règles) {\n        await constl.nuées.ajouterRègleTableauNuée({\n          idTableau,\n          idColonne,\n          règle,\n        });\n      }\n    }\n  }\n\n  émettre('nouvelle', idNuée);\n\n  fermer();\n\n  if (ouvrirAprèsCréation.value)\n    router.push(encodeURI(`/données/nuée/${encodeURIComponent(idNuée)}`));\n};\n\n// Fermer\nconst fermer = () => {\n  noms.value = {};\n  descriptions.value = {};\n  autorisation.value = 'IJPC';\n  tableaux.value = [];\n\n  étape.value = 0;\n  dialogue.value = false;\n  enCréation.value = false;\n};\n</script>\n","<template>\n  <selecteur-objet\n    :multiples=\"multiples\"\n    :originaux=\"originales\"\n    :resultats-recherche=\"résultats\"\n    :on-travaille=\"onTravaille\"\n    :texte-etiquette-recherche=\"t('nuées.recherche.étiquette')\"\n    :texte-aucun-résultat=\"t('nuées.recherche.aucunRésultat')\"\n    @selectionnee=\"ids => (idsNuéesSélectionnées = ids)\"\n    @requete-modifiee=\"r => (requête = r)\"\n  >\n    <template #résultat=\"{résultat, click}\">\n      <ResultatRechercheNuée\n        :résultat=\"résultat\"\n        @click=\"click\"\n      />\n    </template>\n    <template #jeton-objet=\"{id, deselectionner}\">\n      <carte-nuée :id=\"id\">\n        <template #activator=\"{props: propsActivateur}\">\n          <jeton-nuee\n            v-bind=\"{props: propsActivateur}\"\n            :id=\"id\"\n            class=\"me-1 mb-1\"\n          >\n            <v-icon\n              class=\"ms-2\"\n              icon=\"mdi-close\"\n              size=\"small\"\n              variant=\"flat\"\n              @click=\"() => deselectionner({id})\"\n            />\n          </jeton-nuee>\n        </template>\n      </carte-nuée>\n    </template>\n    <template #nouveau=\"{nouveau}\">\n      <nouvelle-nuée @nouvelle=\"nouveau\">\n        <template #activator=\"{props: propsActivateur}\">\n          <v-list-item\n            v-bind=\"propsActivateur\"\n            :title=\"t('nuées.nouveau.btn')\"\n            prepend-icon=\"mdi-plus\"\n          >\n          </v-list-item>\n        </template>\n      </nouvelle-nuée>\n    </template>\n  </selecteur-objet>\n</template>\n<script setup lang=\"ts\">\nimport {rechercher} from '@constl/vue';\nimport {ref, watchEffect} from 'vue';\n\nimport SelecteurObjet from '/@/components/communs/SélecteurObjet.vue';\nimport ResultatRechercheNuée from '/@/components/recherche/RésultatRechercheNuée.vue';\n\nimport {utiliserConstellation} from '/@/components/utils';\n\nimport {மொழியாக்கத்தைப்_பயன்படுத்து} from '@lassi-js/kilimukku-vue';\nimport CarteNuée from './CarteNuée.vue';\nimport JetonNuee from './JetonNuée.vue';\nimport NouvelleNuée from './NouvelleNuée.vue';\n\ndefineProps<{multiples: boolean; originales?: string[]}>();\nconst émettre = defineEmits<{\n  (é: 'selectionnee', idsNuées: string[]): void;\n}>();\n\nconst {$மொ: t} = மொழியாக்கத்தைப்_பயன்படுத்து();\n\nconst constl = utiliserConstellation();\n\n// Sélection\nconst idsNuéesSélectionnées = ref<string[]>([]);\nwatchEffect(() => {\n  émettre('selectionnee', idsNuéesSélectionnées.value);\n});\n\n// Contrôles recherche\nconst requête = ref('');\nconst {résultats, onTravaille} = rechercher(constl.recherche.rechercherNuéesSelonTexte, {\n  texte: requête,\n});\n</script>\n"],"names":["t","மொழியாக்கத்தைப்_பயன்படுத்து","_openBlock","_createElementBlock","_hoisted_1","_toDisplayString","_unref","__props","props","émettre","__emit","effaçable","computed","_createBlock","ItemRegle","_createVNode","SourceRegleColonne","mdAndUp","useDisplay","constl","utiliserConstellation","dialogue","ref","étape","listeÉtapes","titreCarte","sousTitreCarte","suivant","é","retour","suivantActif","idVariableChoisie","retourActif","choisirVariable","idVar","catégorieVariableChoisie","suivre","catégorieBaseVariableChoisie","index","règlesVariable","règlesExistantes","idVariable","r","règlesColonne","ajouterRègle","règle","idRègle","uuidv4","effacerRègle","prèteÀCréér","créerColonne","fermer","_component_v_dialog","$event","_withCtx","propsActivateur","_renderSlot","_ctx","_component_v_card","_component_v_card_item","_component_v_card_title","_createElementVNode","_component_v_spacer","_component_v_btn","_component_v_card_subtitle","_createTextVNode","_component_v_card_text","_component_v_window","_component_v_window_item","SelecteurVariable","_cache","ids","_component_v_checkbox","_component_v_list","NouvelleRegle","propsActivateurNouvelleRègle","_component_v_list_item","_mergeProps","_component_v_list_item_title","_Fragment","_renderList","ItemRegleColonne","_component_v_divider","_component_v_card_actions","BtnRetour","BtnSuivant","அகராதியிலிருந்து_மொழிபெயர்ப்பு","மொழிகளைப்_பயன்படுத்து","choixVariable","watchEffect","nomsVariable","nomVariableTraduit","choixIndex","spécColonne","effacerColonne","noms","ajusterNoms","nms","colonnes","ajouterColonne","idColonne","règles","modifierColonne","c","variablesDéjàAjoutées","v","confirmer","ListeNoms","NouvelleColonne","col","ItemSpecificationColonne","modifierNoms","noms_","nomTraduit","info","_component_v_list_group","DialogueNoms","propsActivateurDialogueNoms","_component_v_icon","router","useRouter","autorisation","enCréation","descriptions","ajusterDescriptions","desrc","tableaux","ajouterTableau","cols","effacerTableau","clef","modifierNomsTableau","clefTableau","ajouterColonneTableau","nouvelleColonne","effacerColonneTableau","ouvrirAprèsCréation","créerNuée","idNuée","tbl","idTableau","_component_v_radio_group","_component_v_radio","_hoisted_2","_hoisted_3","_hoisted_4","NouveauTableau","ItemSpecificationTableau","_hoisted_5","idsNuéesSélectionnées","requête","résultats","onTravaille","rechercher","SelecteurObjet","résultat","click","ResultatRechercheNuée","id","deselectionner","CarteNuée","JetonNuee","nouveau","NouvelleNuée"],"mappings":"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"}