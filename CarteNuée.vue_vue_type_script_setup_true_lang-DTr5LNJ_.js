import{d as Q,p as W,n as fe,க as X,r as F,s as U,e6 as C,q as _,c as L,a as M,x as ce,h as i,w as n,b as s,V as ve,i as me,e as ge,f as m,t as c,y as O,j as q,R as y,m as Ne,z as r,G as w,e7 as T,dw as v,au as G,ac as H,ad as J,ao as be,H as Y,I as Z,J as h,e8 as _e,P as we,K as Ve,b1 as K}from"./index-DDb1PrSJ.js";const qe={class:"font-weight-bold"},xe={class:"mb-2"},Ce={class:"font-weight-bold"},Te={class:"font-weight-bold"},Ue={class:"font-weight-bold"},ye=Q({__name:"ÉpinglerNuée",props:{idNuee:{}},setup(D){const u=D,d=W(),{mdAndUp:A}=fe(),{மொழியாக்கம்_பயன்படுத்து:B}=X(),{$மொ:p}=B(),V=F(!1),g=F(!1),N=U(d.nuées.suivreÉpingleNuée,{idNuée:u.idNuee}),{sélection:b,dispositifs:x,spécifiques:l,valide:o,modifié:t}=C(_(()=>N.value?.base),"TOUS"),{sélection:f,dispositifs:$,spécifiques:j,valide:ee,modifié:se}=C(_(()=>N.value?.données.base),"TOUS"),{sélection:k,dispositifs:ie,spécifiques:S,valide:ne,modifié:ae}=C(_(()=>N.value?.données.données.tableaux),"INSTALLÉ"),{sélection:I,dispositifs:le,spécifiques:P,valide:oe,modifié:te}=C(_(()=>N.value?.données.données.fichiers),"INSTALLÉ"),ue=_(()=>o&&ee&&ne&&oe),de=_(()=>t.value||se.value||ae.value||te.value),R=F(!1),re=async()=>{if(R.value=!0,x.value!=="AUCUN"){const E={type:"nuée",base:x.value,données:{type:"bd",base:$.value,données:{tableaux:ie.value,fichiers:le.value}}};await d.nuées.épinglerNuée({idNuée:u.idNuee,options:E})}else await pe();z()},pe=async()=>{await d.favoris.désépinglerFavori({idObjet:u.idNuee})},z=()=>{V.value=!1,R.value=!1};return(E,e)=>(M(),L(ce,{modelValue:V.value,"onUpdate:modelValue":e[10]||(e[10]=a=>V.value=a),"max-width":i(A)?500:300},{activator:n(({props:a})=>[Y(E.$slots,"activator",Z(h({props:a})))]),default:n(()=>[s(ve,null,{default:n(()=>[s(me,null,{default:n(()=>[s(ge,{class:"d-flex"},{default:n(()=>[m(c(i(p)("épingler.titre"))+" ",1),s(O),s(q,{icon:"mdi-close",size:"small",variant:"flat",onClick:z})]),_:1})]),_:1}),s(y),s(Ne,{style:{"overflow-y":"scroll"}},{default:n(()=>[s(w,{start:""},{default:n(()=>e[11]||(e[11]=[m("mdi-pin-outline")])),_:1}),r("span",qe,c(i(p)("épingler.dispositifsÉpingle")),1),s(T,{selection:i(b),"onUpdate:selection":e[0]||(e[0]=a=>v(b)?b.value=a:null),specifiques:i(l),"onUpdate:specifiques":e[1]||(e[1]=a=>v(l)?l.value=a:null),class:"ms-4"},null,8,["selection","specifiques"]),s(G,null,{default:n(()=>[H(r("div",null,[r("p",xe,[r("span",null,c(i(p)("épingler.optionsAvancées")),1),s(q,{icon:g.value?"mdi-chevron-up":"mdi-chevron-down",size:"xsmall",variant:"flat",onClick:e[2]||(e[2]=()=>g.value=!g.value)},null,8,["icon"])]),s(G,null,{default:n(()=>[H(r("div",null,[s(y,{class:"mb-2"}),r("p",null,[s(w,{start:""},{default:n(()=>e[12]||(e[12]=[m("mdi-databasee")])),_:1}),r("span",Ce,c(i(p)("épingler.dispositifsÉpingleBds")),1)]),s(T,{selection:i(f),"onUpdate:selection":e[3]||(e[3]=a=>v(f)?f.value=a:null),specifiques:i(j),"onUpdate:specifiques":e[4]||(e[4]=a=>v(j)?j.value=a:null),class:"ms-4"},null,8,["selection","specifiques"]),r("p",null,[s(w,{start:""},{default:n(()=>e[13]||(e[13]=[m("mdi-table-multiple")])),_:1}),r("span",Te,c(i(p)("épingler.dispositifsÉpingleDonnées")),1)]),s(T,{selection:i(k),"onUpdate:selection":e[5]||(e[5]=a=>v(k)?k.value=a:null),specifiques:i(S),"onUpdate:specifiques":e[6]||(e[6]=a=>v(S)?S.value=a:null),class:"ms-4"},null,8,["selection","specifiques"]),r("p",null,[s(w,{start:""},{default:n(()=>e[14]||(e[14]=[m("mdi-image-multiple-outline")])),_:1}),r("span",Ue,c(i(p)("épingler.dispositifsÉpingleDocuments")),1)]),s(T,{selection:i(I),"onUpdate:selection":e[7]||(e[7]=a=>v(I)?I.value=a:null),specifiques:i(P),"onUpdate:specifiques":e[8]||(e[8]=a=>v(P)?P.value=a:null),class:"ms-4"},null,8,["selection","specifiques"])],512),[[J,g.value]])]),_:1})],512),[[J,i(b)!=="AUCUN"]])]),_:1})]),_:1}),s(y),s(be,null,{default:n(()=>[s(O),s(q,{variant:"outlined",onClick:z},{default:n(()=>[m(c(i(p)("communs.fermer"))+" ",1),s(w,{icon:"mdi-close",end:""})]),_:1}),s(q,{color:"primary",variant:"outlined",loading:R.value,disabled:!ue.value||!de.value,onClick:e[9]||(e[9]=()=>re())},{default:n(()=>[m(c(i(p)("communs.sauvegarder"))+" ",1),s(w,{icon:"mdi-check",end:""})]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:3},8,["modelValue","max-width"]))}}),De={class:"text-center"},Be=Q({__name:"CarteNuée",props:{id:{}},setup(D){const u=D,d=W(),{மொழியாக்கம்_பயன்படுத்து:A}=X(),{$மொ:B}=A(),p=U(d.nuées.suivreNomsNuée,{idNuée:u.id},{}),V=async l=>{const{àEffacer:o,àAjouter:t}=K({anciennes:p.value,nouvelles:l});for(const f of o)await d.nuées.effacerNomNuée({idNuée:u.id,langue:f});await d.nuées.sauvegarderNomsNuée({idNuée:u.id,noms:t})},g=U(d.nuées.suivreDescriptionsNuée,{idNuée:u.id},{}),N=async l=>{const{àEffacer:o,àAjouter:t}=K({anciennes:g.value,nouvelles:l});for(const f of o)await d.nuées.effacerDescriptionNuée({idNuée:u.id,langue:f});await d.nuées.sauvegarderDescriptionsNuée({idNuée:u.id,descriptions:t})},b=U(d.réseau.suivreAuteursBd,{idBd:u.id}),x=async()=>{await d.nuées.effacerNuée({idNuée:u.id})};return(l,o)=>(M(),L(_e,{id:l.id,noms:i(p),descriptions:i(g),auteurs:i(b),"fichiers-epinglables":!0,onAjusterNoms:o[1]||(o[1]=t=>V(t)),onAjusterDescriptions:o[2]||(o[2]=t=>N(t)),onEffacer:o[3]||(o[3]=()=>x())},{activator:n(({props:t})=>[Y(l.$slots,"activator",Z(h({props:t})))]),epingler:n(({activateur:t,epingle:f})=>[s(ye,{"id-nuee":l.id},{activator:n(({props:$})=>[(M(),L(we(t),Ve($,{id:l.id,epingle:f}),null,16,["id","epingle"]))]),_:2},1032,["id-nuee"])]),default:n(()=>[s(y,{class:"mb-2"}),r("div",De,[s(q,{variant:"outlined","append-icon":"mdi-open-in-new",onClick:o[0]||(o[0]=t=>l.$router.push(encodeURI(`/données/nuée/${encodeURIComponent(l.id)}`)))},{default:n(()=>[m(c(i(B)("nuées.carteNuée.ouvrirNuée")),1)]),_:1})])]),_:3},8,["id","noms","descriptions","auteurs"]))}});export{Be as _,ye as a};
//# sourceMappingURL=CarteNuée.vue_vue_type_script_setup_true_lang-DTr5LNJ_.js.map
