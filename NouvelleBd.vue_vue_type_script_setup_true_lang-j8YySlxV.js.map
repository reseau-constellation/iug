{"version":3,"file":"NouvelleBd.vue_vue_type_script_setup_true_lang-j8YySlxV.js","sources":["../../src/components/bds/NouvelleBd.vue"],"sourcesContent":["<template>\n  <v-dialog v-model=\"dialogue\">\n    <template #activator=\"{props}\">\n      <slot\n        name=\"activator\"\n        v-bind=\"{props}\"\n      ></slot>\n    </template>\n\n    <v-card\n      class=\"mx-auto\"\n      :min-width=\"mdAndUp ? 750 : 300\"\n    >\n      <v-card-item>\n        <v-card-title class=\"text-h5 justify-space-between\">\n          <span>{{ t(titreCarte) }}</span>\n        </v-card-title>\n        <v-card-subtitle> {{ t(sousTitreCarte) }} </v-card-subtitle>\n      </v-card-item>\n      <v-card-text>\n        <v-window\n          v-model=\"étape\"\n          style=\"overflow-y: scroll\"\n        >\n          <v-window-item :key=\"listeÉtapes.indexOf('cheminement')\">\n            <v-list>\n              <v-list-item\n                prepend-icon=\"mdi-creation-outline\"\n                :append-icon=\"isRtl ? 'mdi-chevron-left' : 'mdi-chevron-right'\"\n                :title=\"t('bds.nouvelle.créerNouvelle')\"\n                @click=\"() => suivreCheminementNouvelle()\"\n              />\n              <v-list-item\n                prepend-icon=\"mdi-table\"\n                :append-icon=\"isRtl ? 'mdi-chevron-left' : 'mdi-chevron-right'\"\n                :title=\"t('bds.nouvelle.copierDeBd')\"\n                @click=\"() => suivreCheminementGabarit('bd')\"\n              />\n              <v-list-item\n                prepend-icon=\"mdi-table-multiple\"\n                :append-icon=\"isRtl ? 'mdi-chevron-left' : 'mdi-chevron-right'\"\n                :title=\"t('bds.nouvelle.copierDeNuée')\"\n                @click=\"() => suivreCheminementGabarit('nuée')\"\n              />\n            </v-list>\n          </v-window-item>\n          <v-window-item :value=\"listeÉtapes.indexOf('gabaritBd')\">\n            <SelecteurBd\n              :multiples=\"false\"\n              @selectionnee=\"ids => ids[0] && choisirGabaritBd(ids[0])\"\n            ></SelecteurBd>\n            <v-checkbox\n              v-model=\"copierDonnées\"\n              :label=\"t('bds.copier.copierDonnées')\"\n              color=\"primary\"\n            />\n          </v-window-item>\n          <v-window-item :value=\"listeÉtapes.indexOf('gabaritNuée')\">\n            <selecteur-nuee\n              :multiples=\"false\"\n              @selectionnee=\"id => id.length && choisirGabaritNuée(id[0])\"\n            />\n          </v-window-item>\n          <v-window-item :value=\"listeÉtapes.indexOf('noms')\">\n            <liste-noms\n              :texte-aucun-nom=\"t('communs.texteAucunNom')\"\n              :indice-langue=\"t('communs.indiceLangue')\"\n              :etiquette-nom=\"t('communs.étiquetteNom')\"\n              :indice-nom=\"t('bds.nouvelle.texteIndiceNom')\"\n              :noms-initiaux=\"noms\"\n              :autorisation-modification=\"true\"\n              @ajuster-noms=\"ajusterNoms\"\n            />\n          </v-window-item>\n          <v-window-item :value=\"listeÉtapes.indexOf('descriptions')\">\n            <liste-noms\n              :texte-aucun-nom=\"t('bds.nouvelle.texteAucuneDescription')\"\n              :indice-langue=\"t('communs.indiceLangue')\"\n              :etiquette-nom=\"t('bds.nouvelle.texteÉtiquetteDescription')\"\n              :indice-nom=\"t('bds.nouvelle.texteIndiceDescription')\"\n              :noms-initiaux=\"descriptions\"\n              :autorisation-modification=\"true\"\n              longue\n              @ajuster-noms=\"ajusterDescriptions\"\n            />\n          </v-window-item>\n          <v-window-item :value=\"5\">\n            <selecteur-mot-clef\n              multiples\n              :originaux=\"motsClefs\"\n              @selectionnee=\"ids => (motsClefs = ids)\"\n            />\n          </v-window-item>\n          <v-window-item :value=\"listeÉtapes.indexOf('licence')\">\n            <v-alert\n              v-if=\"partageÉgale\"\n              class=\"mb-4\"\n              variant=\"outlined\"\n              type=\"info\"\n              density=\"compact\"\n              :title=\"t('licences.titrePartageÉgale')\"\n              :text=\"t('licences.infoPartageÉgale')\"\n            />\n            <choix-licence\n              :licence=\"licence\"\n              :permission-modifier=\"!partageÉgale\"\n              @changer-licence=\"l => (licence = l)\"\n            />\n            <v-checkbox\n              v-show=\"licence\"\n              v-model=\"licenceContenuPareil\"\n              :label=\"t('licences.pareilPourContenu')\"\n              :disabled=\"!!partageÉgale\"\n              color=\"primary\"\n            />\n          </v-window-item>\n          <v-window-item :value=\"listeÉtapes.indexOf('licenceContenu')\">\n            <v-alert\n              v-if=\"partageÉgaleContenu && copierDonnées\"\n              class=\"mb-4\"\n              variant=\"outlined\"\n              type=\"info\"\n              density=\"compact\"\n              :title=\"t('licences.titrePartageÉgale')\"\n              :text=\"t('licences.infoPartageÉgale')\"\n            />\n            <choix-licence\n              :licence=\"licenceContenu\"\n              :permission-modifier=\"!partageÉgale\"\n              @changer-licence=\"l => (licenceContenu = l)\"\n            />\n          </v-window-item>\n          <v-window-item :value=\"listeÉtapes.indexOf('statut')\">\n            <choisir-statut @choisir=\"stt => (statut = stt)\">\n              <template #sélecteur=\"{choisirNouvelle}\">\n                <selecteur-bd\n                  :multiples=\"false\"\n                  @selectionnee=\"ids => choisirNouvelle(ids[0])\"\n                />\n              </template>\n            </choisir-statut>\n          </v-window-item>\n          <v-window-item :value=\"listeÉtapes.indexOf('confirmation')\">\n            <div class=\"text-center\">\n              <v-btn\n                class=\"mt-3\"\n                variant=\"outlined\"\n                :loading=\"enCréation\"\n                @click=\"() => créerBd()\"\n              >\n                {{ t('bds.nouvelle.texteBtnCréation') }}\n              </v-btn>\n              <v-checkbox\n                v-model=\"ouvrirAprèsCréation\"\n                :label=\"t('bds.nouvelle.ouvrirAprèsCréation')\"\n              />\n            </div>\n          </v-window-item>\n        </v-window>\n      </v-card-text>\n      <v-divider></v-divider>\n\n      <v-card-actions>\n        <btn-retour\n          :visible=\"retourActif.visible\"\n          :actif=\"retourActif.actif\"\n          @retour=\"retour\"\n        />\n        <v-spacer></v-spacer>\n        <btn-suivant\n          :visible=\"suivantActif.visible\"\n          :actif=\"suivantActif.actif\"\n          @suivant=\"suivant\"\n        />\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n<script setup lang=\"ts\">\nimport type {bds, types} from '@constl/ipa';\n\nimport {suivre} from '@constl/vue';\nimport {computed, ref, watchEffect} from 'vue';\nimport {useRouter} from 'vue-router';\nimport {useDisplay, useRtl} from 'vuetify';\n\nimport {கிளிமூக்கை_பயன்படுத்து} from '@lassi-js/kilimukku-vue';\nimport {utiliserConstellation} from '../utils';\nimport SelecteurBd from './SélecteurBd.vue';\nimport BtnRetour from '/@/components/communs/BtnRetour.vue';\nimport BtnSuivant from '/@/components/communs/BtnSuivant.vue';\nimport ChoisirStatut from '/@/components/communs/ChoisirStatut.vue';\nimport ListeNoms from '/@/components/communs/listeNoms/ListeNoms.vue';\nimport ChoixLicence from '/@/components/licences/ChoixLicence.vue';\nimport SelecteurMotClef from '/@/components/motsClefs/SélecteurMotClef.vue';\nimport SelecteurNuee from '/@/components/nuées/SélecteurNuée.vue';\n\nconst émettre = defineEmits<{(é: 'nouvelle', id: string): void}>();\n\nconst constl = utiliserConstellation();\n\nconst {மொழியாக்கம்_பயன்படுத்து} = கிளிமூக்கை_பயன்படுத்து();\nconst {$மொ: t} = மொழியாக்கம்_பயன்படுத்து();\nconst router = useRouter();\nconst {isRtl} = useRtl();\nconst {mdAndUp} = useDisplay();\n\n// Navigation\nconst dialogue = ref(false);\n\nconst étape = ref(0);\nconst listeÉtapes = [\n  'cheminement',\n  'gabaritBd',\n  'gabaritNuée',\n  'noms',\n  'descriptions',\n  'motsClefs',\n  'licence',\n  'licenceContenu',\n  'statut',\n  'confirmation',\n] as const;\n\nconst titreCarte = computed(() => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    case 'cheminement':\n      return 'bds.nouvelle.titreCheminement';\n    case 'gabaritBd':\n      return 'bds.nouvelle.titreGabaritBd';\n    case 'gabaritNuée':\n      return 'bds.nouvelle.titreGabaritNuée';\n    case 'noms':\n      return 'bds.nouvelle.titreNoms';\n    case 'descriptions':\n      return 'bds.nouvelle.titreDescriptions';\n    case 'motsClefs':\n      return 'bds.nouvelle.titreMotsClefs';\n    case 'licence':\n      return 'bds.nouvelle.titreLicence';\n    case 'licenceContenu':\n      return 'bds.nouvelle.titreLicenceContenu';\n    case 'statut':\n      return 'bds.nouvelle.titreStatut';\n    case 'confirmation':\n      return 'bds.nouvelle.titreConfirmation';\n    default:\n      return '';\n  }\n});\n\nconst sousTitreCarte = computed(() => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    case 'cheminement':\n      return 'bds.nouvelle.sousTitreCheminement';\n    case 'gabaritBd':\n      return 'bds.nouvelle.sousTitreGabaritBd';\n    case 'gabaritNuée':\n      return 'bds.nouvelle.sousTitreGabaritNuée';\n    case 'noms':\n      return 'bds.nouvelle.sousTitreNoms';\n    case 'descriptions':\n      return 'bds.nouvelle.sousTitreDescriptions';\n    case 'motsClefs':\n      return 'bds.nouvelle.sousTitreMotsClefs';\n    case 'licence':\n      return 'bds.nouvelle.sousTitreLicence';\n    case 'licenceContenu':\n      return 'bds.nouvelle.sousTitreLicenceContenu';\n    case 'statut':\n      return 'bds.nouvelle.sousTitreStatut';\n    case 'confirmation':\n      return 'bds.nouvelle.sousTitreConfirmation';\n    default:\n      return '';\n  }\n});\n\nconst cheminement = ref<'nouvelle' | 'bd' | 'nuée'>();\nconst suivreCheminementGabarit = (type: 'nuée' | 'bd') => {\n  cheminement.value = type;\n  étape.value = listeÉtapes.indexOf(type === 'bd' ? 'gabaritBd' : 'gabaritNuée');\n};\nconst suivreCheminementNouvelle = () => {\n  cheminement.value = 'nouvelle';\n  étape.value = listeÉtapes.indexOf('noms');\n};\n\nconst suivant = () => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    case 'gabaritBd':\n    case 'gabaritNuée':\n      // On saute directement à la confirmation de la licence pour les gabarits\n      étape.value = listeÉtapes.indexOf('licence');\n      break;\n\n    case 'licence':\n      étape.value = listeÉtapes.indexOf(licenceContenuPareil.value ? 'statut' : 'licenceContenu');\n      break;\n\n    default:\n      étape.value++;\n      break;\n  }\n};\n\nconst retour = () => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    case 'gabaritBd':\n    case 'gabaritNuée':\n    case 'noms':\n      étape.value = listeÉtapes.indexOf('cheminement');\n      break;\n\n    case 'licence':\n      étape.value = listeÉtapes.indexOf(\n        cheminement.value === 'bd'\n          ? 'gabaritBd'\n          : cheminement.value === 'nuée'\n            ? 'gabaritNuée'\n            : 'motsClefs',\n      );\n      break;\n\n    case 'statut':\n      étape.value = listeÉtapes.indexOf(licenceContenuPareil.value ? 'licence' : 'licenceContenu');\n      break;\n\n    default:\n      étape.value--;\n      break;\n  }\n};\n\nconst suivantActif = computed<{actif: boolean; visible: boolean}>(() => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    case 'cheminement':\n      return {actif: false, visible: false};\n    case 'gabaritBd':\n      return {actif: !!idBdÀCopier.value, visible: true};\n    case 'gabaritNuée':\n      return {actif: !!gabaritNuée.value, visible: true};\n    case 'noms':\n      return {actif: Object.keys(noms.value).length > 0, visible: true};\n    case 'licence':\n      return {actif: !!licence.value, visible: true};\n    case 'licenceContenu':\n      return {actif: !!licenceContenu.value, visible: true};\n    case 'confirmation':\n      return {actif: false, visible: false};\n    default:\n      return {actif: true, visible: true};\n  }\n});\n\nconst retourActif = computed<{actif: boolean; visible: boolean}>(() => {\n  const é = listeÉtapes[étape.value];\n  switch (é) {\n    case 'cheminement':\n      return {actif: false, visible: false};\n    case 'confirmation':\n      return {actif: !enCréation.value, visible: true};\n    default:\n      return {actif: true, visible: true};\n  }\n});\n\n// Gabarits\nconst gabaritNuée = ref<bds.schémaSpécificationBd>();\nconst idBdÀCopier = ref<string>();\n\nconst choisirGabaritBd = async (idBd: string) => {\n  idBdÀCopier.value = idBd;\n};\nconst choisirGabaritNuée = async (idNuée: string) => {\n  const schéma = await constl.nuées.générerSchémaBdNuée({\n    idNuée,\n    licence: 'ODbl-1_0', // À faire : incorporer dans la spécification de la nuée\n  });\n  if (schéma) {\n    gabaritNuée.value = schéma;\n    licence.value = schéma.licence;\n    licenceContenu.value = schéma.licenceContenu;\n  }\n};\nconst copierDonnées = ref(true);\n\n// Noms\nconst noms = ref<{[lng: string]: string}>({});\nconst ajusterNoms = (nms: {[lng: string]: string}) => {\n  noms.value = nms;\n};\n\n// Descriptions\nconst descriptions = ref<{[lng: string]: string}>({});\nconst ajusterDescriptions = (desrc: {[lng: string]: string}) => {\n  descriptions.value = desrc;\n};\n\n// Mots-clefs\nconst motsClefs = ref<string[]>([]);\n\n// Licences\nconst infoLicences = suivre(constl.licences.suivreLicences);\n\nconst licence = ref<string>();\nconst licenceContenuPareil = ref(true);\nconst licenceContenu = ref<string>();\n\nconst licenceBdÀCopier = suivre(constl.bds.suivreLicenceBd, {idBd: idBdÀCopier});\nconst partageÉgale = computed(() => {\n  return (\n    licenceBdÀCopier.value &&\n    infoLicences.value?.[licenceBdÀCopier.value]?.conditions.includes('partageÉgal')\n  );\n});\nwatchEffect(() => {\n  if (partageÉgale.value) licence.value = licenceBdÀCopier.value;\n});\n\nconst licenceContenuBdÀCopier = suivre(constl.bds.suivreLicenceContenuBd, {idBd: idBdÀCopier});\nconst partageÉgaleContenu = computed(() => {\n  return (\n    licenceContenuBdÀCopier.value &&\n    infoLicences.value?.[licenceContenuBdÀCopier.value]?.conditions.includes('partageÉgal')\n  );\n});\nwatchEffect(() => {\n  if (partageÉgaleContenu.value) licenceContenu.value = licenceContenuBdÀCopier.value;\n});\n\n// Statut\nconst statut = ref<types.schémaStatut>({statut: 'active'});\n\n// Création\nconst prêtÀCréer = computed(() => {\n  if (!licence.value) return undefined;\n  return {licenceChoisie: licence.value};\n});\n\nconst ouvrirAprèsCréation = ref(true);\n\nconst enCréation = ref(false);\n\nconst créerBd = async () => {\n  enCréation.value = true;\n\n  let idBd: string | undefined;\n\n  if (cheminement.value === 'nouvelle') {\n    if (!prêtÀCréer.value) return;\n    const {licenceChoisie} = prêtÀCréer.value;\n    idBd = await constl.bds.créerBd({\n      licence: licenceChoisie,\n      licenceContenu: licenceContenu.value,\n    });\n    if (!idBd) throw new Error('Bd non créée.');\n\n    await constl.bds.sauvegarderNomsBd({\n      idBd,\n      noms: Object.fromEntries(Object.entries(noms.value)),\n    });\n    await constl.bds.sauvegarderDescriptionsBd({\n      idBd,\n      descriptions: Object.fromEntries(Object.entries(descriptions.value)),\n    });\n    await constl.bds.ajouterMotsClefsBd({idBd, idsMotsClefs: motsClefs.value});\n  } else if (cheminement.value === 'nuée') {\n    if (!gabaritNuée.value) return;\n    idBd = await constl.bds.créerBdDeSchéma({schéma: gabaritNuée.value});\n  } else {\n    if (!idBdÀCopier.value) return;\n    idBd = await constl.bds.copierBd({\n      idBd: idBdÀCopier.value,\n      copierDonnées: copierDonnées.value,\n    });\n  }\n\n  await constl.bds.changerStatutBd({\n    idBd,\n    statut: statut.value,\n  });\n\n  émettre('nouvelle', idBd);\n  fermer();\n  if (ouvrirAprèsCréation.value) router.push(encodeURI(`/données/bd/${encodeURIComponent(idBd)}`));\n};\n\n// Fermer\nconst fermer = () => {\n  noms.value = {};\n  descriptions.value = {};\n  licence.value = undefined;\n  licenceContenu.value = undefined;\n  motsClefs.value = [];\n  étape.value = 0;\n  enCréation.value = false;\n  dialogue.value = false;\n};\n</script>\n"],"names":["émettre","__emit","constl","utiliserConstellation","மொழியாக்கம்_பயன்படுத்து","கிளிமூக்கை_பயன்படுத்து","t","router","useRouter","isRtl","useRtl","mdAndUp","useDisplay","dialogue","ref","étape","listeÉtapes","titreCarte","computed","sousTitreCarte","cheminement","suivreCheminementGabarit","type","suivreCheminementNouvelle","suivant","licenceContenuPareil","retour","suivantActif","idBdÀCopier","gabaritNuée","noms","licence","licenceContenu","retourActif","enCréation","choisirGabaritBd","idBd","choisirGabaritNuée","idNuée","schéma","copierDonnées","ajusterNoms","nms","descriptions","ajusterDescriptions","desrc","motsClefs","infoLicences","suivre","licenceBdÀCopier","partageÉgale","watchEffect","licenceContenuBdÀCopier","partageÉgaleContenu","statut","prêtÀCréer","ouvrirAprèsCréation","créerBd","licenceChoisie","fermer"],"mappings":"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"}