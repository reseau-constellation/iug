import{cY as v,dW as b,aP as S,dX as g,dY as I,dZ as q,d_ as y,d$ as d,r as C,q as M,o as L,e0 as T,h as W}from"./index-B5veLJsJ.js";function A(e){return I()?(q(e),!0):!1}const F=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const x=Object.prototype.toString,E=e=>x.call(e)==="[object Object]";function k(e){return Array.isArray(e)?e:[e]}function j(e,n=1e3,a={}){const{immediate:f=!0,immediateCallback:t=!1}=a;let c=null;const l=v(!1);function u(){c&&(clearInterval(c),c=null)}function o(){l.value=!1,u()}function i(){const s=y(n);s<=0||(l.value=!0,t&&e(),u(),l.value&&(c=setInterval(e,s)))}if(f&&F&&i(),b(n)||typeof n=="function"){const s=S(n,()=>{l.value&&F&&i()});A(s)}return A(o),{isActive:g(l),pause:o,resume:i}}function R(e,n,a){return S(e,n,{...a,immediate:!0})}const O=F?window:void 0;function N(e){var n;const a=y(e);return(n=a?.$el)!=null?n:a}function D(...e){const n=[],a=()=>{n.forEach(u=>u()),n.length=0},f=(u,o,i,s)=>(u.addEventListener(o,i,s),()=>u.removeEventListener(o,i,s)),t=M(()=>{const u=k(y(e[0])).filter(o=>o!=null);return u.every(o=>typeof o!="string")?u:void 0}),c=R(()=>{var u,o;return[(o=(u=t.value)==null?void 0:u.map(i=>N(i)))!=null?o:[O].filter(i=>i!=null),k(y(t.value?e[1]:e[0])),k(W(t.value?e[2]:e[1])),y(t.value?e[3]:e[2])]},([u,o,i,s])=>{if(a(),!u?.length||!o?.length||!i?.length)return;const p=E(s)?{...s}:s;n.push(...u.flatMap(m=>o.flatMap(r=>i.map(w=>f(m,r,w,p)))))},{flush:"post"}),l=()=>{c(),a()};return A(a),l}function G(){const e=v(!1),n=T();return n&&L(()=>{e.value=!0},n),e}function P(e){const n=G();return M(()=>(n.value,!!e()))}function V(e,n={}){const{immediate:a=!0,fpsLimit:f=void 0,window:t=O,once:c=!1}=n,l=v(!1),u=M(()=>f?1e3/y(f):null);let o=0,i=null;function s(r){if(!l.value||!t)return;o||(o=r);const w=r-o;if(u.value&&w<u.value){i=t.requestAnimationFrame(s);return}if(o=r,e({delta:w,timestamp:r}),c){l.value=!1,i=null;return}i=t.requestAnimationFrame(s)}function p(){!l.value&&t&&(l.value=!0,o=0,i=t.requestAnimationFrame(s))}function m(){l.value=!1,i!=null&&t&&(t.cancelAnimationFrame(i),i=null)}return a&&p(),A(m),{isActive:d(l),pause:m,resume:p}}function Y(e={}){const{window:n=O}=e,a=n?.navigator,f=P(()=>a&&"connection"in a),t=v(!0),c=v(!1),l=v(void 0),u=v(void 0),o=v(void 0),i=v(void 0),s=v(void 0),p=v(void 0),m=v("unknown"),r=f.value&&a.connection;function w(){a&&(t.value=a.onLine,l.value=t.value?void 0:Date.now(),u.value=t.value?Date.now():void 0,r&&(o.value=r.downlink,i.value=r.downlinkMax,p.value=r.effectiveType,s.value=r.rtt,c.value=r.saveData,m.value=r.type))}const h={passive:!0};return n&&(D(n,"offline",()=>{t.value=!1,l.value=Date.now()},h),D(n,"online",()=>{t.value=!0,u.value=Date.now()},h)),r&&D(r,"change",w,h),w(),{isSupported:f,isOnline:d(t),saveData:d(c),offlineAt:d(l),onlineAt:d(u),downlink:d(o),downlinkMax:d(i),effectiveType:d(p),rtt:d(s),type:d(m)}}function B(e={}){const{controls:n=!1,interval:a="requestAnimationFrame",immediate:f=!0}=e,t=C(new Date),c=()=>t.value=new Date,l=a==="requestAnimationFrame"?V(c,{immediate:f}):j(c,a,{immediate:f});return n?{now:t,...l}:t}function X(e={}){const{isOnline:n}=Y(e);return n}export{B as a,X as u};
//# sourceMappingURL=index-M42x8YDo.js.map
